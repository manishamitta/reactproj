{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar YearPicker_1;\nimport customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport event from \"@ui5/webcomponents-base/dist/decorators/event.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport { isEnter, isSpace, isDown, isUp, isLeft, isRight, isHome, isEnd, isHomeCtrl, isEndCtrl, isPageUp, isPageDown } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport transformDateToSecondaryType from \"@ui5/webcomponents-localization/dist/dates/transformDateToSecondaryType.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport { getMaxCalendarDate } from \"@ui5/webcomponents-localization/dist/dates/ExtremeDates.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport CalendarPart from \"./CalendarPart.js\";\nimport { YEAR_PICKER_DESCRIPTION } from \"./generated/i18n/i18n-defaults.js\";\n// Template\nimport YearPickerTemplate from \"./generated/templates/YearPickerTemplate.lit.js\";\n// Styles\nimport yearPickerStyles from \"./generated/themes/YearPicker.css.js\";\nimport CalendarSelectionMode from \"./types/CalendarSelectionMode.js\";\nconst isBetween = (x, num1, num2) => x > Math.min(num1, num2) && x < Math.max(num1, num2);\n/**\n * @class\n *\n * Displays years which can be selected.\n * @constructor\n * @extends CalendarPart\n * @private\n */\nlet YearPicker = YearPicker_1 = class YearPicker extends CalendarPart {\n  constructor() {\n    super(...arguments);\n    /**\n     * An array of UTC timestamps representing the selected date\n     * or dates depending on the capabilities of the picker component.\n     * @default []\n     */\n    this.selectedDates = [];\n    /**\n     * Defines the type of selection used in the year picker component.\n     * Accepted property values are:\n     *\n     * - `CalendarSelectionMode.Single` - enables election of a single year.\n     * - `CalendarSelectionMode.Range` - enables selection of a year range.\n     *\n     * Note that 'CalendarSelectionMode.Multiple` is not supported for Year Picker!\n     * @default \"Single\"\n     * @since 2.2.0\n     */\n    this.selectionMode = \"Single\";\n    this._years = [];\n    this._hidden = false;\n  }\n  static async onDefine() {\n    YearPicker_1.i18nBundle = await getI18nBundle(\"@ui5/webcomponents\");\n  }\n  get roleDescription() {\n    return YearPicker_1.i18nBundle.getText(YEAR_PICKER_DESCRIPTION);\n  }\n  onBeforeRendering() {\n    this._buildYears();\n  }\n  _getPageSize() {\n    // Total years on a single page depending on using on one or two calendar type\n    return this.hasSecondaryCalendarType ? 8 : 20;\n  }\n  _getRowSize() {\n    // Years per row (5 rows of 4 years each) for one claendar type and (4 row of 2 years each) for two calendar type\n    return this.hasSecondaryCalendarType ? 2 : 4;\n  }\n  _buildYears() {\n    if (this._hidden) {\n      return;\n    }\n    const pageSize = this._getPageSize();\n    const locale = getLocale();\n    const oYearFormat = DateFormat.getDateInstance({\n      format: \"y\",\n      calendarType: this._primaryCalendarType\n    }, locale);\n    const oYearFormatInSecType = DateFormat.getDateInstance({\n      format: \"y\",\n      calendarType: this.secondaryCalendarType\n    }, locale);\n    this._calculateFirstYear();\n    this._lastYear = this._firstYear + pageSize - 1;\n    const calendarDate = this._calendarDate; // store the value of the expensive getter\n    const minDate = this._minDate; // store the value of the expensive getter\n    const maxDate = this._maxDate; // store the value of the expensive getter\n    const tempDate = new CalendarDate(calendarDate, this._primaryCalendarType);\n    let tempDateInSecType;\n    let textInSecType;\n    tempDate.setYear(this._firstYear);\n    const intervals = [];\n    let timestamp;\n    /* eslint-disable no-loop-func */\n    for (let i = 0; i < pageSize; i++) {\n      timestamp = tempDate.valueOf() / 1000;\n      const isSelected = this.selectedDates.some(itemTimestamp => {\n        const date = CalendarDate.fromTimestamp(itemTimestamp * 1000, this._primaryCalendarType);\n        return date.getYear() === tempDate.getYear();\n      });\n      const isFocused = tempDate.getYear() === calendarDate.getYear();\n      const isDisabled = tempDate.getYear() < minDate.getYear() || tempDate.getYear() > maxDate.getYear();\n      const isSelectedBetween = this._isYearInsideSelectionRange(timestamp);\n      if (this.hasSecondaryCalendarType) {\n        tempDateInSecType = transformDateToSecondaryType(this._primaryCalendarType, this.secondaryCalendarType, timestamp, true);\n        textInSecType = tempDateInSecType.firstDate.getYear() === tempDateInSecType.lastDate.getYear() ? `${oYearFormatInSecType.format(tempDateInSecType.firstDate.toLocalJSDate(), true)}` : `${oYearFormatInSecType.format(tempDateInSecType.firstDate.toLocalJSDate(), true)} - ${oYearFormatInSecType.format(tempDateInSecType.lastDate.toLocalJSDate(), true)}`;\n      }\n      const year = {\n        timestamp: timestamp.toString(),\n        _tabIndex: isFocused ? \"0\" : \"-1\",\n        focusRef: isFocused,\n        selected: isSelected || isSelectedBetween,\n        ariaSelected: String(isSelected || isSelectedBetween),\n        year: oYearFormat.format(tempDate.toLocalJSDate()),\n        yearInSecType: textInSecType,\n        disabled: isDisabled,\n        ariaDisabled: isDisabled ? \"true\" : undefined,\n        classes: \"ui5-yp-item\",\n        parts: \"year-cell\"\n      };\n      if (isSelected) {\n        year.classes += \" ui5-yp-item--selected\";\n        year.parts += \" year-cell-selected\";\n      }\n      if (isSelectedBetween) {\n        year.classes += \" ui5-yp-item--selected-between\";\n        year.parts += \" year-cell-selected-between\";\n      }\n      if (isDisabled) {\n        year.classes += \" ui5-yp-item--disabled\";\n      }\n      if (this.hasSecondaryCalendarType) {\n        year.classes += \" ui5-yp-item-secondary-type\";\n      }\n      const intervalIndex = Math.floor(i / this._getRowSize());\n      if (intervals[intervalIndex]) {\n        intervals[intervalIndex].push(year);\n      } else {\n        intervals[intervalIndex] = [year];\n      }\n      tempDate.setYear(tempDate.getYear() + 1);\n    }\n    this._years = intervals;\n  }\n  _calculateFirstYear() {\n    const pageSize = this._getPageSize();\n    const absoluteMaxYear = getMaxCalendarDate(this._primaryCalendarType).getYear(); // 9999\n    const currentYear = this._calendarDate.getYear();\n    // 1. If first load - center the current year (set first year to be current year minus half page size)\n    if (!this._firstYear) {\n      this._firstYear = currentYear - pageSize / 2;\n    }\n    // 2. If out of range - change by a page (20) - do not center in order to keep the same position as the last page\n    if (currentYear < this._firstYear) {\n      this._firstYear -= pageSize;\n    } else if (currentYear >= this._firstYear + pageSize) {\n      this._firstYear += pageSize;\n    }\n    // 3. If the date was changed by more than 20 years - reset _firstYear completely\n    if (Math.abs(this._firstYear - currentYear) >= pageSize) {\n      this._firstYear = currentYear - pageSize / 2;\n    }\n    // Keep it in the range between the min and max year\n    this._firstYear = Math.max(this._firstYear, this._minDate.getYear());\n    this._firstYear = Math.min(this._firstYear, this._maxDate.getYear());\n    // If first year is > 9980, make it 9980 to not show any years beyond 9999\n    if (this._firstYear > absoluteMaxYear - pageSize + 1) {\n      this._firstYear = absoluteMaxYear - pageSize + 1;\n    }\n  }\n  onAfterRendering() {\n    if (!this._hidden) {\n      this.focus();\n    }\n  }\n  /**\n    * Returns true if year timestamp is inside the selection range.\n    * @private\n    */\n  _isYearInsideSelectionRange(timestamp) {\n    if (this.selectionMode !== CalendarSelectionMode.Range || !this.selectedDates.length) {\n      return false;\n    }\n    // Only one date selected - second is hovered or focused\n    if (this.selectedDates.length === 1 && this._secondTimestamp) {\n      return isBetween(timestamp, this.selectedDates[0], this._secondTimestamp);\n    }\n    return isBetween(timestamp, this.selectedDates[0], this.selectedDates[1]);\n  }\n  _onkeydown(e) {\n    let preventDefault = true;\n    const pageSize = this._getPageSize();\n    const rowSize = this._getRowSize();\n    if (isEnter(e)) {\n      this._selectYear(e);\n    } else if (isSpace(e)) {\n      e.preventDefault();\n    } else if (isLeft(e)) {\n      this._modifyTimestampBy(-1);\n    } else if (isRight(e)) {\n      this._modifyTimestampBy(1);\n    } else if (isUp(e)) {\n      this._modifyTimestampBy(-rowSize);\n    } else if (isDown(e)) {\n      this._modifyTimestampBy(rowSize);\n    } else if (isPageUp(e)) {\n      this._modifyTimestampBy(-pageSize);\n    } else if (isPageDown(e)) {\n      this._modifyTimestampBy(pageSize);\n    } else if (isHome(e) || isEnd(e)) {\n      this._onHomeOrEnd(isHome(e));\n    } else if (isHomeCtrl(e)) {\n      this._setTimestamp(parseInt(this._years[0][0].timestamp)); // first year of first row\n    } else if (isEndCtrl(e)) {\n      this._setTimestamp(parseInt(this._years[pageSize / rowSize - 1][rowSize - 1].timestamp)); // last year of last row\n    } else {\n      preventDefault = false;\n    }\n    if (preventDefault) {\n      e.preventDefault();\n    }\n  }\n  _onHomeOrEnd(homePressed) {\n    this._years.forEach(row => {\n      const indexInRow = row.findIndex(item => CalendarDate.fromTimestamp(parseInt(item.timestamp) * 1000).getYear() === this._calendarDate.getYear());\n      if (indexInRow !== -1) {\n        // The current year is on this row\n        const index = homePressed ? 0 : this._getRowSize() - 1; // select the first (if Home) or last (if End) year on the row\n        this._setTimestamp(parseInt(row[index].timestamp));\n      }\n    });\n  }\n  /**\n   * In range selection, the currently focused or hovered year is considered the \"second day\".\n   * @private\n   */\n  _updateSecondTimestamp() {\n    if (this.selectionMode === CalendarSelectionMode.Range && (this.selectedDates.length === 1 || this.selectedDates.length === 2)) {\n      this._secondTimestamp = this.timestamp;\n    }\n  }\n  /**\n   * Set the hovered day as the \"_secondTimestamp\".\n   *\n   * @param e\n   * @private\n   */\n  _onmouseover(e) {\n    const target = e.target;\n    const hoveredItem = target.closest(\".ui5-yp-item\");\n    if (hoveredItem && this.selectionMode === CalendarSelectionMode.Range && this.selectedDates.length === 1) {\n      this._secondTimestamp = this._getTimestampFromDom(hoveredItem);\n    }\n  }\n  /**\n   * Sets the timestamp to an absolute value.\n   * @param value\n   * @private\n   */\n  _setTimestamp(value) {\n    this._safelySetTimestamp(value);\n    this.fireEvent(\"navigate\", {\n      timestamp: this.timestamp\n    });\n  }\n  /**\n   * Modifies timestamp by a given amount of years and, if necessary, loads the prev/next page.\n   * @param amount\n   * @private\n   */\n  _modifyTimestampBy(amount) {\n    // Modify the current timestamp\n    this._safelyModifyTimestampBy(amount, \"year\");\n    this._updateSecondTimestamp();\n    // Notify the calendar to update its timestamp\n    this.fireEvent(\"navigate\", {\n      timestamp: this.timestamp\n    });\n  }\n  _onkeyup(e) {\n    if (isSpace(e)) {\n      this._selectYear(e);\n    }\n  }\n  /**\n   * User clicked with the mouser or pressed Enter/Space\n   * @param e\n   * @private\n   */\n  _selectYear(e) {\n    e.preventDefault();\n    const target = e.target;\n    if (target.className.indexOf(\"ui5-yp-item\") === -1) {\n      return;\n    }\n    const timestamp = this._getTimestampFromDom(target);\n    this._safelySetTimestamp(timestamp);\n    this._updateSecondTimestamp();\n    this._updateSelectedDates(timestamp);\n    this.fireEvent(\"change\", {\n      timestamp: this.timestamp,\n      dates: this.selectedDates\n    });\n  }\n  _updateSelectedDates(timestamp) {\n    if (this.selectionMode === CalendarSelectionMode.Range && this.selectedDates.length === 1) {\n      this.selectedDates = [this.selectedDates[0], timestamp];\n      return;\n    }\n    this.selectedDates = [timestamp];\n  }\n  /**\n   * Called by the Calendar component.\n   * @protected\n   */\n  _hasPreviousPage() {\n    return this._firstYear > this._minDate.getYear();\n  }\n  /**\n   * Called by the Calendar component.\n   * @protected\n   */\n  _hasNextPage() {\n    return this._firstYear + this._getPageSize() - 1 < this._maxDate.getYear();\n  }\n  /**\n   * Called by the Calendar component.\n   * **Note:** when the user presses the \"<\" button in the calendar header (same as \"PageUp\")\n   * @protected\n   */\n  _showPreviousPage() {\n    const pageSize = this._getPageSize();\n    this._modifyTimestampBy(-pageSize);\n  }\n  /**\n   * Called by the Calendar component.\n   * **Note:** when the user presses the \">\" button in the calendar header (same as \"PageDown\")\n   * @protected\n   */\n  _showNextPage() {\n    this._modifyTimestampBy(this._getPageSize());\n  }\n};\n__decorate([property({\n  type: Array\n})], YearPicker.prototype, \"selectedDates\", void 0);\n__decorate([property()], YearPicker.prototype, \"selectionMode\", void 0);\n__decorate([property({\n  type: Array\n})], YearPicker.prototype, \"_years\", void 0);\n__decorate([property({\n  type: Boolean,\n  noAttribute: true\n})], YearPicker.prototype, \"_hidden\", void 0);\n__decorate([property({\n  type: Number\n})], YearPicker.prototype, \"_secondTimestamp\", void 0);\nYearPicker = YearPicker_1 = __decorate([customElement({\n  tag: \"ui5-yearpicker\",\n  styles: yearPickerStyles,\n  template: YearPickerTemplate\n})\n/**\n * Fired when the user selects a year via \"Space\", \"Enter\" or click.\n */, event(\"change\")\n/**\n * Fired when the timestamp changes - the user navigates with the keyboard or clicks with the mouse.\n * @since 1.0.0-rc.9\n */, event(\"navigate\")], YearPicker);\nYearPicker.define();\nexport default YearPicker;","map":{"version":3,"names":["customElement","property","event","DateFormat","isEnter","isSpace","isDown","isUp","isLeft","isRight","isHome","isEnd","isHomeCtrl","isEndCtrl","isPageUp","isPageDown","getLocale","transformDateToSecondaryType","CalendarDate","getMaxCalendarDate","getI18nBundle","CalendarPart","YEAR_PICKER_DESCRIPTION","YearPickerTemplate","yearPickerStyles","CalendarSelectionMode","isBetween","x","num1","num2","Math","min","max","YearPicker","YearPicker_1","constructor","selectedDates","selectionMode","_years","_hidden","onDefine","i18nBundle","roleDescription","getText","onBeforeRendering","_buildYears","_getPageSize","hasSecondaryCalendarType","_getRowSize","pageSize","locale","oYearFormat","getDateInstance","format","calendarType","_primaryCalendarType","oYearFormatInSecType","secondaryCalendarType","_calculateFirstYear","_lastYear","_firstYear","calendarDate","_calendarDate","minDate","_minDate","maxDate","_maxDate","tempDate","tempDateInSecType","textInSecType","setYear","intervals","timestamp","i","valueOf","isSelected","some","itemTimestamp","date","fromTimestamp","getYear","isFocused","isDisabled","isSelectedBetween","_isYearInsideSelectionRange","firstDate","lastDate","toLocalJSDate","year","toString","_tabIndex","focusRef","selected","ariaSelected","String","yearInSecType","disabled","ariaDisabled","undefined","classes","parts","intervalIndex","floor","push","absoluteMaxYear","currentYear","abs","onAfterRendering","focus","Range","length","_secondTimestamp","_onkeydown","e","preventDefault","rowSize","_selectYear","_modifyTimestampBy","_onHomeOrEnd","_setTimestamp","parseInt","homePressed","forEach","row","indexInRow","findIndex","item","index","_updateSecondTimestamp","_onmouseover","target","hoveredItem","closest","_getTimestampFromDom","value","_safelySetTimestamp","fireEvent","amount","_safelyModifyTimestampBy","_onkeyup","className","indexOf","_updateSelectedDates","dates","_hasPreviousPage","_hasNextPage","_showPreviousPage","_showNextPage","__decorate","type","Array","Boolean","noAttribute","Number","tag","styles","template","define"],"sources":["/home/user/projects/reactproj/node_modules/@ui5/webcomponents/src/YearPicker.ts"],"sourcesContent":["import customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport event from \"@ui5/webcomponents-base/dist/decorators/event.js\";\nimport type LocaleT from \"sap/ui/core/Locale\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport {\n\tisEnter,\n\tisSpace,\n\tisDown,\n\tisUp,\n\tisLeft,\n\tisRight,\n\tisHome,\n\tisEnd,\n\tisHomeCtrl,\n\tisEndCtrl,\n\tisPageUp,\n\tisPageDown,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport transformDateToSecondaryType from \"@ui5/webcomponents-localization/dist/dates/transformDateToSecondaryType.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport { getMaxCalendarDate } from \"@ui5/webcomponents-localization/dist/dates/ExtremeDates.js\";\nimport { getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport type I18nBundle from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport CalendarPart from \"./CalendarPart.js\";\nimport type { ICalendarPicker } from \"./Calendar.js\";\nimport { YEAR_PICKER_DESCRIPTION } from \"./generated/i18n/i18n-defaults.js\";\n\n// Template\nimport YearPickerTemplate from \"./generated/templates/YearPickerTemplate.lit.js\";\n\n// Styles\nimport yearPickerStyles from \"./generated/themes/YearPicker.css.js\";\nimport CalendarSelectionMode from \"./types/CalendarSelectionMode.js\";\n\nconst isBetween = (x: number, num1: number, num2: number) => x > Math.min(num1, num2) && x < Math.max(num1, num2);\n\ntype Year = {\n\ttimestamp: string;\n\t_tabIndex: string;\n\tfocusRef: boolean;\n\tselected: boolean;\n\tariaSelected: string;\n\tyear: string;\n\tyearInSecType: string | undefined;\n\tdisabled: boolean;\n\tariaDisabled: string | undefined;\n\tclasses: string;\n\tparts: string;\n}\n\ntype YearInterval = Array<Array<Year>>;\n\ntype YearPickerChangeEventDetail = {\n\tdates: Array<number>,\n\ttimestamp: number,\n}\n\ntype YearPickerNavigateEventDetail = {\n\ttimestamp: number,\n}\n\n/**\n * @class\n *\n * Displays years which can be selected.\n * @constructor\n * @extends CalendarPart\n * @private\n */\n@customElement({\n\ttag: \"ui5-yearpicker\",\n\tstyles: yearPickerStyles,\n\ttemplate: YearPickerTemplate,\n})\n/**\n * Fired when the user selects a year via \"Space\", \"Enter\" or click.\n */\n@event(\"change\")\n/**\n * Fired when the timestamp changes - the user navigates with the keyboard or clicks with the mouse.\n * @since 1.0.0-rc.9\n */\n@event(\"navigate\")\nclass YearPicker extends CalendarPart implements ICalendarPicker {\n\t/**\n\t * An array of UTC timestamps representing the selected date\n\t * or dates depending on the capabilities of the picker component.\n\t * @default []\n\t */\n\t@property({ type: Array })\n\tselectedDates: Array<number> = [];\n\n\t/**\n\t * Defines the type of selection used in the year picker component.\n\t * Accepted property values are:\n\t *\n\t * - `CalendarSelectionMode.Single` - enables election of a single year.\n\t * - `CalendarSelectionMode.Range` - enables selection of a year range.\n\t *\n\t * Note that 'CalendarSelectionMode.Multiple` is not supported for Year Picker!\n\t * @default \"Single\"\n\t * @since 2.2.0\n\t */\n\t@property()\n\tselectionMode: `${CalendarSelectionMode}` = \"Single\";\n\n\t@property({ type: Array })\n\t_years: YearInterval = [];\n\n\t@property({ type: Boolean, noAttribute: true })\n\t_hidden = false;\n\n\t/**\n\t * When selectionMode=\"Range\" and the first year in the range is selected, this is the currently hovered or focused year.\n\t *\n\t * @private\n\t */\n\t@property({ type: Number })\n\t_secondTimestamp?: number;\n\n\t_firstYear?: number;\n\t_lastYear?: number;\n\n\tstatic i18nBundle: I18nBundle;\n\n\tstatic async onDefine() {\n\t\tYearPicker.i18nBundle = await getI18nBundle(\"@ui5/webcomponents\");\n\t}\n\n\tget roleDescription() {\n\t\treturn YearPicker.i18nBundle.getText(YEAR_PICKER_DESCRIPTION);\n\t}\n\n\tonBeforeRendering() {\n\t\tthis._buildYears();\n\t}\n\n\t_getPageSize() {\n\t\t// Total years on a single page depending on using on one or two calendar type\n\t\treturn this.hasSecondaryCalendarType ? 8 : 20;\n\t}\n\n\t_getRowSize() {\n\t\t// Years per row (5 rows of 4 years each) for one claendar type and (4 row of 2 years each) for two calendar type\n\t\treturn this.hasSecondaryCalendarType ? 2 : 4;\n\t}\n\n\t_buildYears() {\n\t\tif (this._hidden) {\n\t\t\treturn;\n\t\t}\n\t\tconst pageSize = this._getPageSize();\n\t\tconst locale = getLocale() as unknown as LocaleT;\n\t\tconst oYearFormat = DateFormat.getDateInstance({ format: \"y\", calendarType: this._primaryCalendarType }, locale);\n\t\tconst oYearFormatInSecType = DateFormat.getDateInstance({ format: \"y\", calendarType: this.secondaryCalendarType }, locale);\n\t\tthis._calculateFirstYear();\n\t\tthis._lastYear = this._firstYear! + pageSize - 1;\n\n\t\tconst calendarDate = this._calendarDate; // store the value of the expensive getter\n\t\tconst minDate = this._minDate; // store the value of the expensive getter\n\t\tconst maxDate = this._maxDate; // store the value of the expensive getter\n\t\tconst tempDate = new CalendarDate(calendarDate, this._primaryCalendarType);\n\t\tlet tempDateInSecType;\n\t\tlet textInSecType;\n\t\ttempDate.setYear(this._firstYear!);\n\n\t\tconst intervals: YearInterval = [];\n\t\tlet timestamp;\n\n\t\t/* eslint-disable no-loop-func */\n\t\tfor (let i = 0; i < pageSize; i++) {\n\t\t\ttimestamp = tempDate.valueOf() / 1000;\n\n\t\t\tconst isSelected = this.selectedDates.some(itemTimestamp => {\n\t\t\t\tconst date = CalendarDate.fromTimestamp(itemTimestamp * 1000, this._primaryCalendarType);\n\t\t\t\treturn date.getYear() === tempDate.getYear();\n\t\t\t});\n\t\t\tconst isFocused = tempDate.getYear() === calendarDate.getYear();\n\t\t\tconst isDisabled = tempDate.getYear() < minDate.getYear() || tempDate.getYear() > maxDate.getYear();\n\t\t\tconst isSelectedBetween = this._isYearInsideSelectionRange(timestamp);\n\n\t\t\tif (this.hasSecondaryCalendarType) {\n\t\t\t\ttempDateInSecType = transformDateToSecondaryType(this._primaryCalendarType, this.secondaryCalendarType, timestamp, true);\n\t\t\t\ttextInSecType = tempDateInSecType.firstDate.getYear() === tempDateInSecType.lastDate.getYear()\n\t\t\t\t\t? `${oYearFormatInSecType.format(tempDateInSecType.firstDate.toLocalJSDate(), true)}`\n\t\t\t\t\t: `${oYearFormatInSecType.format(tempDateInSecType.firstDate.toLocalJSDate(), true)} - ${oYearFormatInSecType.format(tempDateInSecType.lastDate.toLocalJSDate(), true)}`;\n\t\t\t}\n\n\t\t\tconst year: Year = {\n\t\t\t\ttimestamp: timestamp.toString(),\n\t\t\t\t_tabIndex: isFocused ? \"0\" : \"-1\",\n\t\t\t\tfocusRef: isFocused,\n\t\t\t\tselected: isSelected || isSelectedBetween,\n\t\t\t\tariaSelected: String(isSelected || isSelectedBetween),\n\t\t\t\tyear: oYearFormat.format(tempDate.toLocalJSDate()),\n\t\t\t\tyearInSecType: textInSecType,\n\t\t\t\tdisabled: isDisabled,\n\t\t\t\tariaDisabled: isDisabled ? \"true\" : undefined,\n\t\t\t\tclasses: \"ui5-yp-item\",\n\t\t\t\tparts: \"year-cell\",\n\t\t\t};\n\n\t\t\tif (isSelected) {\n\t\t\t\tyear.classes += \" ui5-yp-item--selected\";\n\t\t\t\tyear.parts += \" year-cell-selected\";\n\t\t\t}\n\n\t\t\tif (isSelectedBetween) {\n\t\t\t\tyear.classes += \" ui5-yp-item--selected-between\";\n\t\t\t\tyear.parts += \" year-cell-selected-between\";\n\t\t\t}\n\n\t\t\tif (isDisabled) {\n\t\t\t\tyear.classes += \" ui5-yp-item--disabled\";\n\t\t\t}\n\n\t\t\tif (this.hasSecondaryCalendarType) {\n\t\t\t\tyear.classes += \" ui5-yp-item-secondary-type\";\n\t\t\t}\n\t\t\tconst intervalIndex = Math.floor(i / this._getRowSize());\n\n\t\t\tif (intervals[intervalIndex]) {\n\t\t\t\tintervals[intervalIndex].push(year);\n\t\t\t} else {\n\t\t\t\tintervals[intervalIndex] = [year];\n\t\t\t}\n\n\t\t\ttempDate.setYear(tempDate.getYear() + 1);\n\t\t}\n\n\t\tthis._years = intervals;\n\t}\n\n\t_calculateFirstYear() {\n\t\tconst pageSize = this._getPageSize();\n\t\tconst absoluteMaxYear = getMaxCalendarDate(this._primaryCalendarType).getYear(); // 9999\n\t\tconst currentYear = this._calendarDate.getYear();\n\n\t\t// 1. If first load - center the current year (set first year to be current year minus half page size)\n\t\tif (!this._firstYear) {\n\t\t\tthis._firstYear = currentYear - pageSize / 2;\n\t\t}\n\n\t\t// 2. If out of range - change by a page (20) - do not center in order to keep the same position as the last page\n\t\tif (currentYear < this._firstYear) {\n\t\t\tthis._firstYear -= pageSize;\n\t\t} else if (currentYear >= this._firstYear + pageSize) {\n\t\t\tthis._firstYear += pageSize;\n\t\t}\n\n\t\t// 3. If the date was changed by more than 20 years - reset _firstYear completely\n\t\tif (Math.abs(this._firstYear - currentYear) >= pageSize) {\n\t\t\tthis._firstYear = currentYear - pageSize / 2;\n\t\t}\n\n\t\t// Keep it in the range between the min and max year\n\t\tthis._firstYear = Math.max(this._firstYear, this._minDate.getYear());\n\t\tthis._firstYear = Math.min(this._firstYear, this._maxDate.getYear());\n\n\t\t// If first year is > 9980, make it 9980 to not show any years beyond 9999\n\t\tif (this._firstYear > absoluteMaxYear - pageSize + 1) {\n\t\t\tthis._firstYear = absoluteMaxYear - pageSize + 1;\n\t\t}\n\t}\n\n\tonAfterRendering() {\n\t\tif (!this._hidden) {\n\t\t\tthis.focus();\n\t\t}\n\t}\n\n\t/**\n\t  * Returns true if year timestamp is inside the selection range.\n\t  * @private\n\t  */\n\t_isYearInsideSelectionRange(timestamp: number): boolean {\n\t\tif (this.selectionMode !== CalendarSelectionMode.Range || !this.selectedDates.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Only one date selected - second is hovered or focused\n\t\tif (this.selectedDates.length === 1 && this._secondTimestamp) {\n\t\t\treturn isBetween(timestamp, this.selectedDates[0], this._secondTimestamp);\n\t\t}\n\n\t\treturn isBetween(timestamp, this.selectedDates[0], this.selectedDates[1]);\n\t}\n\n\t_onkeydown(e: KeyboardEvent) {\n\t\tlet preventDefault = true;\n\t\tconst pageSize = this._getPageSize();\n\t\tconst rowSize = this._getRowSize();\n\n\t\tif (isEnter(e)) {\n\t\t\tthis._selectYear(e);\n\t\t} else if (isSpace(e)) {\n\t\t\te.preventDefault();\n\t\t} else if (isLeft(e)) {\n\t\t\tthis._modifyTimestampBy(-1);\n\t\t} else if (isRight(e)) {\n\t\t\tthis._modifyTimestampBy(1);\n\t\t} else if (isUp(e)) {\n\t\t\tthis._modifyTimestampBy(-rowSize);\n\t\t} else if (isDown(e)) {\n\t\t\tthis._modifyTimestampBy(rowSize);\n\t\t} else if (isPageUp(e)) {\n\t\t\tthis._modifyTimestampBy(-pageSize);\n\t\t} else if (isPageDown(e)) {\n\t\t\tthis._modifyTimestampBy(pageSize);\n\t\t} else if (isHome(e) || isEnd(e)) {\n\t\t\tthis._onHomeOrEnd(isHome(e));\n\t\t} else if (isHomeCtrl(e)) {\n\t\t\tthis._setTimestamp(parseInt(this._years[0][0].timestamp)); // first year of first row\n\t\t} else if (isEndCtrl(e)) {\n\t\t\tthis._setTimestamp(parseInt(this._years[pageSize / rowSize - 1][rowSize - 1].timestamp)); // last year of last row\n\t\t} else {\n\t\t\tpreventDefault = false;\n\t\t}\n\n\t\tif (preventDefault) {\n\t\t\te.preventDefault();\n\t\t}\n\t}\n\n\t_onHomeOrEnd(homePressed: boolean) {\n\t\tthis._years.forEach(row => {\n\t\t\tconst indexInRow = row.findIndex(item => CalendarDate.fromTimestamp(parseInt(item.timestamp) * 1000).getYear() === this._calendarDate.getYear());\n\t\t\tif (indexInRow !== -1) { // The current year is on this row\n\t\t\t\tconst index = homePressed ? 0 : this._getRowSize() - 1; // select the first (if Home) or last (if End) year on the row\n\t\t\t\tthis._setTimestamp(parseInt(row[index].timestamp));\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * In range selection, the currently focused or hovered year is considered the \"second day\".\n\t * @private\n\t */\n\t_updateSecondTimestamp() {\n\t\tif (this.selectionMode === CalendarSelectionMode.Range && (this.selectedDates.length === 1 || this.selectedDates.length === 2)) {\n\t\t\tthis._secondTimestamp = this.timestamp;\n\t\t}\n\t}\n\n\t/**\n\t * Set the hovered day as the \"_secondTimestamp\".\n\t *\n\t * @param e\n\t * @private\n\t */\n\t_onmouseover(e: MouseEvent) {\n\t\tconst target = e.target as HTMLElement;\n\t\tconst hoveredItem = target.closest(\".ui5-yp-item\") as HTMLElement;\n\t\tif (hoveredItem && this.selectionMode === CalendarSelectionMode.Range && this.selectedDates.length === 1) {\n\t\t\tthis._secondTimestamp = this._getTimestampFromDom(hoveredItem);\n\t\t}\n\t}\n\n\t/**\n\t * Sets the timestamp to an absolute value.\n\t * @param value\n\t * @private\n\t */\n\t_setTimestamp(value: number) {\n\t\tthis._safelySetTimestamp(value);\n\t\tthis.fireEvent<YearPickerNavigateEventDetail>(\"navigate\", { timestamp: this.timestamp! });\n\t}\n\n\t/**\n\t * Modifies timestamp by a given amount of years and, if necessary, loads the prev/next page.\n\t * @param amount\n\t * @private\n\t */\n\t_modifyTimestampBy(amount: number) {\n\t\t// Modify the current timestamp\n\t\tthis._safelyModifyTimestampBy(amount, \"year\");\n\t\tthis._updateSecondTimestamp();\n\n\t\t// Notify the calendar to update its timestamp\n\t\tthis.fireEvent<YearPickerNavigateEventDetail>(\"navigate\", { timestamp: this.timestamp! });\n\t}\n\n\t_onkeyup(e: KeyboardEvent) {\n\t\tif (isSpace(e)) {\n\t\t\tthis._selectYear(e);\n\t\t}\n\t}\n\n\t/**\n\t * User clicked with the mouser or pressed Enter/Space\n\t * @param e\n\t * @private\n\t */\n\t_selectYear(e: Event) {\n\t\te.preventDefault();\n\t\tconst target = e.target as HTMLElement;\n\n\t\tif (target.className.indexOf(\"ui5-yp-item\") === -1) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst timestamp = this._getTimestampFromDom(target);\n\t\tthis._safelySetTimestamp(timestamp);\n\t\tthis._updateSecondTimestamp();\n\t\tthis._updateSelectedDates(timestamp);\n\n\t\tthis.fireEvent<YearPickerChangeEventDetail>(\"change\", {\n\t\t\ttimestamp: this.timestamp!,\n\t\t\tdates: this.selectedDates,\n\t\t});\n\t}\n\n\t_updateSelectedDates(timestamp: number) {\n\t\tif (this.selectionMode === CalendarSelectionMode.Range && this.selectedDates.length === 1) {\n\t\t\tthis.selectedDates = [this.selectedDates[0], timestamp];\n\t\t\treturn;\n\t\t}\n\n\t\tthis.selectedDates = [timestamp];\n\t}\n\n\t/**\n\t * Called by the Calendar component.\n\t * @protected\n\t */\n\t_hasPreviousPage(): boolean {\n\t\treturn this._firstYear! > this._minDate.getYear();\n\t}\n\n\t/**\n\t * Called by the Calendar component.\n\t * @protected\n\t */\n\t_hasNextPage(): boolean {\n\t\treturn this._firstYear! + this._getPageSize() - 1 < this._maxDate.getYear();\n\t}\n\n\t/**\n\t * Called by the Calendar component.\n\t * **Note:** when the user presses the \"<\" button in the calendar header (same as \"PageUp\")\n\t * @protected\n\t */\n\t_showPreviousPage() {\n\t\tconst pageSize = this._getPageSize();\n\t\tthis._modifyTimestampBy(-pageSize);\n\t}\n\n\t/**\n\t * Called by the Calendar component.\n\t * **Note:** when the user presses the \">\" button in the calendar header (same as \"PageDown\")\n\t * @protected\n\t */\n\t_showNextPage() {\n\t\tthis._modifyTimestampBy(this._getPageSize());\n\t}\n}\n\nYearPicker.define();\n\nexport default YearPicker;\nexport type {\n\tYearPickerChangeEventDetail,\n\tYearPickerNavigateEventDetail,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}