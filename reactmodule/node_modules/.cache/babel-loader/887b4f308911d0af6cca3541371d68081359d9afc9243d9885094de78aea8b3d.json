{"ast":null,"code":"'use client';\n\nimport { createOrUpdateStyle, removeStyle } from '@ui5/webcomponents-base/dist/ManagedStyles.js';\nimport { getCurrentRuntimeIndex } from '@ui5/webcomponents-base/dist/Runtimes.js';\nimport { useSyncExternalStore } from 'use-sync-external-store/shim/index.js';\nimport { StyleStore } from '../stores/StyleStore.js';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect.js';\nexport function useStylesheet(styles, componentName, options) {\n  const {\n    staticCssInjected,\n    componentsMap\n  } = useSyncExternalStore(StyleStore.subscribe, StyleStore.getSnapshot, StyleStore.getServerSnapshot);\n  useIsomorphicLayoutEffect(() => {\n    const scopedComponentName = `${componentName}-${getCurrentRuntimeIndex()}`;\n    const shouldInject = options?.alwaysInject || !staticCssInjected;\n    if (shouldInject) {\n      createOrUpdateStyle(styles, 'data-ui5wcr-component', scopedComponentName);\n      StyleStore.mountComponent(componentName);\n    }\n    return () => {\n      if (shouldInject) {\n        StyleStore.unmountComponent(componentName);\n        const numberOfMountedComponents = componentsMap.get(componentName);\n        if (numberOfMountedComponents <= 0) {\n          removeStyle('data-ui5wcr-component', scopedComponentName);\n        }\n      }\n    };\n  }, [styles, staticCssInjected]);\n}","map":{"version":3,"names":["createOrUpdateStyle","removeStyle","getCurrentRuntimeIndex","useSyncExternalStore","StyleStore","useIsomorphicLayoutEffect","useStylesheet","styles","componentName","options","staticCssInjected","componentsMap","subscribe","getSnapshot","getServerSnapshot","scopedComponentName","shouldInject","alwaysInject","mountComponent","unmountComponent","numberOfMountedComponents","get"],"sources":["/home/user/projects/reactproj/node_modules/@ui5/webcomponents-react-base/dist/hooks/useStylesheet.js"],"sourcesContent":["'use client';\nimport { createOrUpdateStyle, removeStyle } from '@ui5/webcomponents-base/dist/ManagedStyles.js';\nimport { getCurrentRuntimeIndex } from '@ui5/webcomponents-base/dist/Runtimes.js';\nimport { useSyncExternalStore } from 'use-sync-external-store/shim/index.js';\nimport { StyleStore } from '../stores/StyleStore.js';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect.js';\nexport function useStylesheet(styles, componentName, options) {\n    const { staticCssInjected, componentsMap } = useSyncExternalStore(StyleStore.subscribe, StyleStore.getSnapshot, StyleStore.getServerSnapshot);\n    useIsomorphicLayoutEffect(() => {\n        const scopedComponentName = `${componentName}-${getCurrentRuntimeIndex()}`;\n        const shouldInject = options?.alwaysInject || !staticCssInjected;\n        if (shouldInject) {\n            createOrUpdateStyle(styles, 'data-ui5wcr-component', scopedComponentName);\n            StyleStore.mountComponent(componentName);\n        }\n        return () => {\n            if (shouldInject) {\n                StyleStore.unmountComponent(componentName);\n                const numberOfMountedComponents = componentsMap.get(componentName);\n                if (numberOfMountedComponents <= 0) {\n                    removeStyle('data-ui5wcr-component', scopedComponentName);\n                }\n            }\n        };\n    }, [styles, staticCssInjected]);\n}\n"],"mappings":"AAAA,YAAY;;AACZ,SAASA,mBAAmB,EAAEC,WAAW,QAAQ,+CAA+C;AAChG,SAASC,sBAAsB,QAAQ,0CAA0C;AACjF,SAASC,oBAAoB,QAAQ,uCAAuC;AAC5E,SAASC,UAAU,QAAQ,yBAAyB;AACpD,SAASC,yBAAyB,QAAQ,gCAAgC;AAC1E,OAAO,SAASC,aAAaA,CAACC,MAAM,EAAEC,aAAa,EAAEC,OAAO,EAAE;EAC1D,MAAM;IAAEC,iBAAiB;IAAEC;EAAc,CAAC,GAAGR,oBAAoB,CAACC,UAAU,CAACQ,SAAS,EAAER,UAAU,CAACS,WAAW,EAAET,UAAU,CAACU,iBAAiB,CAAC;EAC7IT,yBAAyB,CAAC,MAAM;IAC5B,MAAMU,mBAAmB,GAAG,GAAGP,aAAa,IAAIN,sBAAsB,CAAC,CAAC,EAAE;IAC1E,MAAMc,YAAY,GAAGP,OAAO,EAAEQ,YAAY,IAAI,CAACP,iBAAiB;IAChE,IAAIM,YAAY,EAAE;MACdhB,mBAAmB,CAACO,MAAM,EAAE,uBAAuB,EAAEQ,mBAAmB,CAAC;MACzEX,UAAU,CAACc,cAAc,CAACV,aAAa,CAAC;IAC5C;IACA,OAAO,MAAM;MACT,IAAIQ,YAAY,EAAE;QACdZ,UAAU,CAACe,gBAAgB,CAACX,aAAa,CAAC;QAC1C,MAAMY,yBAAyB,GAAGT,aAAa,CAACU,GAAG,CAACb,aAAa,CAAC;QAClE,IAAIY,yBAAyB,IAAI,CAAC,EAAE;UAChCnB,WAAW,CAAC,uBAAuB,EAAEc,mBAAmB,CAAC;QAC7D;MACJ;IACJ,CAAC;EACL,CAAC,EAAE,CAACR,MAAM,EAAEG,iBAAiB,CAAC,CAAC;AACnC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}