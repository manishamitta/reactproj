{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar Popover_1;\nimport customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport slot from \"@ui5/webcomponents-base/dist/decorators/slot.js\";\nimport { isIOS } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { getClosedPopupParent } from \"@ui5/webcomponents-base/dist/util/PopupUtils.js\";\nimport clamp from \"@ui5/webcomponents-base/dist/util/clamp.js\";\nimport isElementContainingBlock from \"@ui5/webcomponents-base/dist/util/isElementContainingBlock.js\";\nimport getEffectiveScrollbarStyle from \"@ui5/webcomponents-base/dist/util/getEffectiveScrollbarStyle.js\";\nimport getParentElement from \"@ui5/webcomponents-base/dist/util/getParentElement.js\";\nimport DOMReferenceConverter from \"@ui5/webcomponents-base/dist/converters/DOMReference.js\";\nimport { renderFinished } from \"@ui5/webcomponents-base/dist/Render.js\";\nimport Popup from \"./Popup.js\";\nimport PopoverPlacement from \"./types/PopoverPlacement.js\";\nimport PopoverVerticalAlign from \"./types/PopoverVerticalAlign.js\";\nimport PopoverHorizontalAlign from \"./types/PopoverHorizontalAlign.js\";\nimport { addOpenedPopover, removeOpenedPopover } from \"./popup-utils/PopoverRegistry.js\";\n// Template\nimport PopoverTemplate from \"./generated/templates/PopoverTemplate.lit.js\";\n// Styles\nimport PopupsCommonCss from \"./generated/themes/PopupsCommon.css.js\";\nimport PopoverCss from \"./generated/themes/Popover.css.js\";\nconst ARROW_SIZE = 8;\n/**\n * @class\n *\n * ### Overview\n *\n * The `ui5-popover` component displays additional information for an object\n * in a compact way and without leaving the page.\n * The Popover can contain various UI elements, such as fields, tables, images, and charts.\n * It can also include actions in the footer.\n *\n * ### Structure\n *\n * The popover has three main areas:\n *\n * - Header (optional)\n * - Content\n * - Footer (optional)\n *\n * **Note:** The `ui5-popover` is closed when the user clicks\n * or taps outside the popover\n * or selects an action within the popover. You can prevent this with the\n * `modal` property.\n *\n * ### ES6 Module Import\n *\n * `import \"@ui5/webcomponents/dist/Popover.js\";`\n *\n * @constructor\n * @extends Popup\n * @since 1.0.0-rc.6\n * @public\n * @csspart header - Used to style the header of the component\n * @csspart content - Used to style the content of the component\n * @csspart footer - Used to style the footer of the component\n */\nlet Popover = Popover_1 = class Popover extends Popup {\n  static get VIEWPORT_MARGIN() {\n    return 10; // px\n  }\n  constructor() {\n    super();\n    /**\n     * Determines on which side the component is placed at.\n     * @default \"End\"\n     * @public\n     */\n    this.placement = \"End\";\n    /**\n     * Determines the horizontal alignment of the component.\n     * @default \"Center\"\n     * @public\n     */\n    this.horizontalAlign = \"Center\";\n    /**\n     * Determines the vertical alignment of the component.\n     * @default \"Center\"\n     * @public\n     */\n    this.verticalAlign = \"Center\";\n    /**\n     * Defines whether the component should close when\n     * clicking/tapping outside of the popover.\n     * If enabled, it blocks any interaction with the background.\n     * @default false\n     * @public\n     */\n    this.modal = false;\n    /**\n     * Determines whether the component arrow is hidden.\n     * @default false\n     * @public\n     * @since 1.0.0-rc.15\n     */\n    this.hideArrow = false;\n    /**\n     * Determines if there is no enough space, the component can be placed\n     * over the target.\n     * @default false\n     * @public\n     */\n    this.allowTargetOverlap = false;\n    /**\n     * Defines whether the content is scrollable.\n     * @default false\n     * @private\n     */\n    this.disableScrolling = false;\n    /**\n     * Sets the X translation of the arrow\n     * @private\n     */\n    this.arrowTranslateX = 0;\n    /**\n     * Sets the Y translation of the arrow\n     * @private\n     */\n    this.arrowTranslateY = 0;\n    /**\n     * Returns the calculated placement depending on the free space\n     * @private\n     */\n    this.actualPlacement = \"End\";\n  }\n  /**\n   * Defines the ID or DOM Reference of the element at which the popover is shown.\n   * When using this attribute in a declarative way, you must only use the `id` (as a string) of the element at which you want to show the popover.\n   * You can only set the `opener` attribute to a DOM Reference when using JavaScript.\n   * @public\n   * @default undefined\n   * @since 1.2.0\n   */\n  set opener(value) {\n    if (this._opener === value) {\n      return;\n    }\n    this._opener = value;\n    if (value && this.open) {\n      this.openPopup();\n    }\n  }\n  get opener() {\n    return this._opener;\n  }\n  async openPopup() {\n    if (this._opened) {\n      return;\n    }\n    const opener = this.getOpenerHTMLElement(this.opener);\n    if (!opener) {\n      console.warn(\"Valid opener id is required. It must be defined before opening the popover.\"); // eslint-disable-line\n      return;\n    }\n    if (this.isOpenerOutsideViewport(opener.getBoundingClientRect())) {\n      await renderFinished();\n      this.open = false;\n      this.fireEvent(\"close\", {}, false, false);\n      return;\n    }\n    this._openerRect = opener.getBoundingClientRect();\n    await super.openPopup();\n  }\n  isOpenerClicked(e) {\n    const target = e.target;\n    if (target === this._opener) {\n      return true;\n    }\n    const ui5ElementTarget = target;\n    if (ui5ElementTarget.getFocusDomRef && ui5ElementTarget.getFocusDomRef() === this._opener) {\n      return true;\n    }\n    return e.composedPath().indexOf(this._opener) > -1;\n  }\n  /**\n   * Override for the _addOpenedPopup hook, which would otherwise just call addOpenedPopup(this)\n   * @private\n   */\n  _addOpenedPopup() {\n    addOpenedPopover(this);\n  }\n  /**\n   * Override for the _removeOpenedPopup hook, which would otherwise just call removeOpenedPopup(this)\n   * @private\n   */\n  _removeOpenedPopup() {\n    removeOpenedPopover(this);\n  }\n  getOpenerHTMLElement(opener) {\n    if (opener === undefined || opener instanceof HTMLElement) {\n      return opener;\n    }\n    const rootNode = this.getRootNode();\n    if (rootNode instanceof Document) {\n      return rootNode.getElementById(opener);\n    }\n    return document.getElementById(opener);\n  }\n  shouldCloseDueToOverflow(placement, openerRect) {\n    const threshold = 32;\n    const limits = {\n      \"Start\": openerRect.right,\n      \"End\": openerRect.left,\n      \"Top\": openerRect.top,\n      \"Bottom\": openerRect.bottom\n    };\n    const opener = this.getOpenerHTMLElement(this.opener);\n    const closedPopupParent = getClosedPopupParent(opener);\n    let overflowsBottom = false;\n    let overflowsTop = false;\n    if (closedPopupParent instanceof Popover_1) {\n      const contentRect = closedPopupParent.contentDOM.getBoundingClientRect();\n      overflowsBottom = openerRect.top > contentRect.top + contentRect.height;\n      overflowsTop = openerRect.top + openerRect.height < contentRect.top;\n    }\n    return limits[placement] < 0 || limits[placement] + threshold > closedPopupParent.innerHeight || overflowsBottom || overflowsTop;\n  }\n  shouldCloseDueToNoOpener(openerRect) {\n    return openerRect.top === 0 && openerRect.bottom === 0 && openerRect.left === 0 && openerRect.right === 0;\n  }\n  isOpenerOutsideViewport(openerRect) {\n    return openerRect.bottom < 0 || openerRect.top > window.innerHeight || openerRect.right < 0 || openerRect.left > window.innerWidth;\n  }\n  /**\n   * @override\n   */\n  _resize() {\n    super._resize();\n    if (this.open) {\n      this.reposition();\n    }\n  }\n  reposition() {\n    this._show();\n  }\n  async _show() {\n    super._show();\n    const opener = this.getOpenerHTMLElement(this.opener);\n    if (opener && this._isUI5Element(opener) && !opener.getDomRef()) {\n      return;\n    }\n    if (!this._opened) {\n      this._showOutsideViewport();\n    }\n    const popoverSize = this.getPopoverSize();\n    let placement;\n    if (popoverSize.width === 0 || popoverSize.height === 0) {\n      // size can not be determined properly at this point, popover will be shown with the next reposition\n      return;\n    }\n    if (this.open) {\n      // update opener rect if it was changed during the popover being opened\n      this._openerRect = opener.getBoundingClientRect();\n    }\n    if (this._oldPlacement && this.shouldCloseDueToNoOpener(this._openerRect) && this.isFocusWithin()) {\n      // reuse the old placement as the opener is not available,\n      // but keep the popover open as the focus is within\n      placement = this._oldPlacement;\n    } else {\n      placement = this.calcPlacement(this._openerRect, popoverSize);\n    }\n    if (this._preventRepositionAndClose || this.isOpenerOutsideViewport(this._openerRect)) {\n      await this._waitForDomRef();\n      return this.closePopup();\n    }\n    this._oldPlacement = placement;\n    this.actualPlacement = placement.placement;\n    let left = clamp(this._left, Popover_1.VIEWPORT_MARGIN, document.documentElement.clientWidth - popoverSize.width - Popover_1.VIEWPORT_MARGIN);\n    if (this.actualPlacement === PopoverPlacement.End) {\n      left = Math.max(left, this._left);\n    }\n    let top = clamp(this._top, Popover_1.VIEWPORT_MARGIN, document.documentElement.clientHeight - popoverSize.height - Popover_1.VIEWPORT_MARGIN);\n    if (this.actualPlacement === PopoverPlacement.Bottom) {\n      top = Math.max(top, this._top);\n    }\n    this.arrowTranslateX = placement.arrow.x;\n    this.arrowTranslateY = placement.arrow.y;\n    top = this._adjustForIOSKeyboard(top);\n    Object.assign(this.style, {\n      top: `${top}px`,\n      left: `${left}px`\n    });\n    if (this.horizontalAlign === PopoverHorizontalAlign.Stretch && this._width) {\n      this.style.width = this._width;\n    }\n  }\n  /**\n   * Adjust the desired top position to compensate for shift of the screen\n   * caused by opened keyboard on iOS which affects all elements with position:fixed.\n   * @private\n   * @param top The target top in px.\n   * @returns The adjusted top in px.\n   */\n  _adjustForIOSKeyboard(top) {\n    if (!isIOS()) {\n      return top;\n    }\n    const actualTop = Math.ceil(this.getBoundingClientRect().top);\n    return top + (Number.parseInt(this.style.top || \"0\") - actualTop);\n  }\n  _getContainingBlockClientLocation() {\n    let parentElement = getParentElement(this);\n    while (parentElement) {\n      if (isElementContainingBlock(parentElement)) {\n        return parentElement.getBoundingClientRect();\n      }\n      parentElement = getParentElement(parentElement);\n    }\n    return {\n      left: 0,\n      top: 0\n    };\n  }\n  getPopoverSize() {\n    const rect = this.getBoundingClientRect(),\n      width = rect.width,\n      height = rect.height;\n    return {\n      width,\n      height\n    };\n  }\n  _showOutsideViewport() {\n    Object.assign(this.style, {\n      top: \"-10000px\",\n      left: \"-10000px\"\n    });\n  }\n  _isUI5Element(el) {\n    return \"isUI5Element\" in el;\n  }\n  get arrowDOM() {\n    return this.shadowRoot.querySelector(\".ui5-popover-arrow\");\n  }\n  /**\n   * @private\n   */\n  calcPlacement(targetRect, popoverSize) {\n    let left = Popover_1.VIEWPORT_MARGIN;\n    let top = 0;\n    const allowTargetOverlap = this.allowTargetOverlap;\n    const clientWidth = document.documentElement.clientWidth;\n    const clientHeight = document.documentElement.clientHeight;\n    let maxHeight = clientHeight;\n    let maxWidth = clientWidth;\n    const placement = this.getActualPlacement(targetRect, popoverSize);\n    this._preventRepositionAndClose = this.shouldCloseDueToNoOpener(targetRect) || this.shouldCloseDueToOverflow(placement, targetRect);\n    const isVertical = placement === PopoverPlacement.Top || placement === PopoverPlacement.Bottom;\n    if (this.horizontalAlign === PopoverHorizontalAlign.Stretch && isVertical) {\n      popoverSize.width = targetRect.width;\n      this._width = `${targetRect.width}px`;\n    } else if (this.verticalAlign === PopoverVerticalAlign.Stretch && !isVertical) {\n      popoverSize.height = targetRect.height;\n    }\n    const arrowOffset = this.hideArrow ? 0 : ARROW_SIZE;\n    // calc popover positions\n    switch (placement) {\n      case PopoverPlacement.Top:\n        left = this.getVerticalLeft(targetRect, popoverSize);\n        top = Math.max(targetRect.top - popoverSize.height - arrowOffset, 0);\n        if (!allowTargetOverlap) {\n          maxHeight = targetRect.top - arrowOffset;\n        }\n        break;\n      case PopoverPlacement.Bottom:\n        left = this.getVerticalLeft(targetRect, popoverSize);\n        top = targetRect.bottom + arrowOffset;\n        if (allowTargetOverlap) {\n          top = Math.max(Math.min(top, clientHeight - popoverSize.height), 0);\n        } else {\n          maxHeight = clientHeight - targetRect.bottom - arrowOffset;\n        }\n        break;\n      case PopoverPlacement.Start:\n        left = Math.max(targetRect.left - popoverSize.width - arrowOffset, 0);\n        top = this.getHorizontalTop(targetRect, popoverSize);\n        if (!allowTargetOverlap) {\n          maxWidth = targetRect.left - arrowOffset;\n        }\n        break;\n      case PopoverPlacement.End:\n        left = targetRect.left + targetRect.width + arrowOffset;\n        top = this.getHorizontalTop(targetRect, popoverSize);\n        if (allowTargetOverlap) {\n          left = Math.max(Math.min(left, clientWidth - popoverSize.width), 0);\n        } else {\n          maxWidth = clientWidth - targetRect.right - arrowOffset;\n        }\n        break;\n    }\n    // correct popover positions\n    if (isVertical) {\n      if (popoverSize.width > clientWidth || left < Popover_1.VIEWPORT_MARGIN) {\n        left = Popover_1.VIEWPORT_MARGIN;\n      } else if (left + popoverSize.width > clientWidth - Popover_1.VIEWPORT_MARGIN) {\n        left = clientWidth - Popover_1.VIEWPORT_MARGIN - popoverSize.width;\n      }\n    } else {\n      if (popoverSize.height > clientHeight || top < 0) {\n        // eslint-disable-line\n        top = 0;\n      } else if (top + popoverSize.height > clientHeight) {\n        top -= top + popoverSize.height - clientHeight;\n      }\n    }\n    this._maxHeight = Math.round(maxHeight - Popover_1.VIEWPORT_MARGIN);\n    this._maxWidth = Math.round(maxWidth - Popover_1.VIEWPORT_MARGIN);\n    if (this._left === undefined || Math.abs(this._left - left) > 1.5) {\n      this._left = Math.round(left);\n    }\n    if (this._top === undefined || Math.abs(this._top - top) > 1.5) {\n      this._top = Math.round(top);\n    }\n    const borderRadius = Number.parseInt(window.getComputedStyle(this).getPropertyValue(\"border-radius\"));\n    const arrowPos = this.getArrowPosition(targetRect, popoverSize, left, top, isVertical, borderRadius);\n    return {\n      arrow: arrowPos,\n      top: this._top,\n      left: this._left,\n      placement\n    };\n  }\n  /**\n   * Calculates the position for the arrow.\n   * @private\n   * @param targetRect BoundingClientRect of the target element\n   * @param popoverSize Width and height of the popover\n   * @param left Left offset of the popover\n   * @param top Top offset of the popover\n   * @param isVertical If the popover is positioned vertically to the target element\n   * @param borderRadius Value of the border-radius property\n   * @returns  Arrow's coordinates\n   */\n  getArrowPosition(targetRect, popoverSize, left, top, isVertical, borderRadius) {\n    const horizontalAlign = this._actualHorizontalAlign;\n    let arrowXCentered = horizontalAlign === PopoverHorizontalAlign.Center || horizontalAlign === PopoverHorizontalAlign.Stretch;\n    if (horizontalAlign === PopoverHorizontalAlign.End && left <= targetRect.left) {\n      arrowXCentered = true;\n    }\n    if (horizontalAlign === PopoverHorizontalAlign.Start && left + popoverSize.width >= targetRect.left + targetRect.width) {\n      arrowXCentered = true;\n    }\n    let arrowTranslateX = 0;\n    if (isVertical && arrowXCentered) {\n      arrowTranslateX = targetRect.left + targetRect.width / 2 - left - popoverSize.width / 2;\n    }\n    let arrowTranslateY = 0;\n    if (!isVertical) {\n      arrowTranslateY = targetRect.top + targetRect.height / 2 - top - popoverSize.height / 2;\n    }\n    // Restricts the arrow's translate value along each dimension,\n    // so that the arrow does not clip over the popover's rounded borders.\n    const safeRangeForArrowY = popoverSize.height / 2 - borderRadius - ARROW_SIZE / 2;\n    arrowTranslateY = clamp(arrowTranslateY, -safeRangeForArrowY, safeRangeForArrowY);\n    const safeRangeForArrowX = popoverSize.width / 2 - borderRadius - ARROW_SIZE / 2;\n    arrowTranslateX = clamp(arrowTranslateX, -safeRangeForArrowX, safeRangeForArrowX);\n    return {\n      x: Math.round(arrowTranslateX),\n      y: Math.round(arrowTranslateY)\n    };\n  }\n  /**\n   * Fallbacks to new placement, prioritizing `Left` and `Right` placements.\n   * @private\n   */\n  fallbackPlacement(clientWidth, clientHeight, targetRect, popoverSize) {\n    if (targetRect.left > popoverSize.width) {\n      return PopoverPlacement.Start;\n    }\n    if (clientWidth - targetRect.right > targetRect.left) {\n      return PopoverPlacement.End;\n    }\n    if (clientHeight - targetRect.bottom > popoverSize.height) {\n      return PopoverPlacement.Bottom;\n    }\n    if (clientHeight - targetRect.bottom < targetRect.top) {\n      return PopoverPlacement.Top;\n    }\n  }\n  getActualPlacement(targetRect, popoverSize) {\n    const placement = this.placement;\n    let actualPlacement = placement;\n    const clientWidth = document.documentElement.clientWidth;\n    const clientHeight = document.documentElement.clientHeight;\n    switch (placement) {\n      case PopoverPlacement.Top:\n        if (targetRect.top < popoverSize.height && targetRect.top < clientHeight - targetRect.bottom) {\n          actualPlacement = PopoverPlacement.Bottom;\n        }\n        break;\n      case PopoverPlacement.Bottom:\n        if (clientHeight - targetRect.bottom < popoverSize.height && clientHeight - targetRect.bottom < targetRect.top) {\n          actualPlacement = PopoverPlacement.Top;\n        }\n        break;\n      case PopoverPlacement.Start:\n        if (targetRect.left < popoverSize.width) {\n          actualPlacement = this.fallbackPlacement(clientWidth, clientHeight, targetRect, popoverSize) || placement;\n        }\n        break;\n      case PopoverPlacement.End:\n        if (clientWidth - targetRect.right < popoverSize.width) {\n          actualPlacement = this.fallbackPlacement(clientWidth, clientHeight, targetRect, popoverSize) || placement;\n        }\n        break;\n    }\n    return actualPlacement;\n  }\n  getVerticalLeft(targetRect, popoverSize) {\n    const horizontalAlign = this._actualHorizontalAlign;\n    let left = Popover_1.VIEWPORT_MARGIN;\n    switch (horizontalAlign) {\n      case PopoverHorizontalAlign.Center:\n      case PopoverHorizontalAlign.Stretch:\n        left = targetRect.left - (popoverSize.width - targetRect.width) / 2;\n        break;\n      case PopoverHorizontalAlign.Start:\n        left = targetRect.left;\n        break;\n      case PopoverHorizontalAlign.End:\n        left = targetRect.right - popoverSize.width;\n        break;\n    }\n    return left;\n  }\n  getHorizontalTop(targetRect, popoverSize) {\n    let top = 0;\n    switch (this.verticalAlign) {\n      case PopoverVerticalAlign.Center:\n      case PopoverVerticalAlign.Stretch:\n        top = targetRect.top - (popoverSize.height - targetRect.height) / 2;\n        break;\n      case PopoverVerticalAlign.Top:\n        top = targetRect.top;\n        break;\n      case PopoverVerticalAlign.Bottom:\n        top = targetRect.bottom - popoverSize.height;\n        break;\n    }\n    return top;\n  }\n  get isModal() {\n    return this.modal;\n  }\n  get _ariaLabelledBy() {\n    if (!this._ariaLabel && this._displayHeader) {\n      return \"ui5-popup-header\";\n    }\n    return undefined;\n  }\n  get styles() {\n    return {\n      ...super.styles,\n      root: {\n        \"max-height\": this._maxHeight ? `${this._maxHeight}px` : \"\",\n        \"max-width\": this._maxWidth ? `${this._maxWidth}px` : \"\"\n      },\n      arrow: {\n        transform: `translate(${this.arrowTranslateX}px, ${this.arrowTranslateY}px)`\n      }\n    };\n  }\n  get classes() {\n    const allClasses = super.classes;\n    allClasses.root[\"ui5-popover-root\"] = true;\n    return allClasses;\n  }\n  /**\n   * Hook for descendants to hide header.\n   */\n  get _displayHeader() {\n    return !!(this.header.length || this.headerText);\n  }\n  /**\n   * Hook for descendants to hide footer.\n   */\n  get _displayFooter() {\n    return true;\n  }\n  get _actualHorizontalAlign() {\n    if (this.effectiveDir === \"rtl\") {\n      if (this.horizontalAlign === PopoverHorizontalAlign.Start) {\n        return PopoverHorizontalAlign.End;\n      }\n      if (this.horizontalAlign === PopoverHorizontalAlign.End) {\n        return PopoverHorizontalAlign.Start;\n      }\n    }\n    return this.horizontalAlign;\n  }\n};\n__decorate([property()], Popover.prototype, \"headerText\", void 0);\n__decorate([property()], Popover.prototype, \"placement\", void 0);\n__decorate([property()], Popover.prototype, \"horizontalAlign\", void 0);\n__decorate([property()], Popover.prototype, \"verticalAlign\", void 0);\n__decorate([property({\n  type: Boolean\n})], Popover.prototype, \"modal\", void 0);\n__decorate([property({\n  type: Boolean\n})], Popover.prototype, \"hideArrow\", void 0);\n__decorate([property({\n  type: Boolean\n})], Popover.prototype, \"allowTargetOverlap\", void 0);\n__decorate([property({\n  type: Boolean\n})], Popover.prototype, \"disableScrolling\", void 0);\n__decorate([property({\n  type: Number,\n  noAttribute: true\n})], Popover.prototype, \"arrowTranslateX\", void 0);\n__decorate([property({\n  type: Number,\n  noAttribute: true\n})], Popover.prototype, \"arrowTranslateY\", void 0);\n__decorate([property()], Popover.prototype, \"actualPlacement\", void 0);\n__decorate([property({\n  type: Number,\n  noAttribute: true\n})], Popover.prototype, \"_maxHeight\", void 0);\n__decorate([property({\n  type: Number,\n  noAttribute: true\n})], Popover.prototype, \"_maxWidth\", void 0);\n__decorate([slot({\n  type: HTMLElement\n})], Popover.prototype, \"header\", void 0);\n__decorate([slot({\n  type: HTMLElement\n})], Popover.prototype, \"footer\", void 0);\n__decorate([property({\n  converter: DOMReferenceConverter\n})], Popover.prototype, \"opener\", null);\nPopover = Popover_1 = __decorate([customElement({\n  tag: \"ui5-popover\",\n  styles: [Popup.styles, PopupsCommonCss, PopoverCss, getEffectiveScrollbarStyle()],\n  template: PopoverTemplate\n})], Popover);\nconst instanceOfPopover = object => {\n  return \"opener\" in object;\n};\nPopover.define();\nexport default Popover;\nexport { instanceOfPopover };","map":{"version":3,"names":["customElement","property","slot","isIOS","getClosedPopupParent","clamp","isElementContainingBlock","getEffectiveScrollbarStyle","getParentElement","DOMReferenceConverter","renderFinished","Popup","PopoverPlacement","PopoverVerticalAlign","PopoverHorizontalAlign","addOpenedPopover","removeOpenedPopover","PopoverTemplate","PopupsCommonCss","PopoverCss","ARROW_SIZE","Popover","Popover_1","VIEWPORT_MARGIN","constructor","placement","horizontalAlign","verticalAlign","modal","hideArrow","allowTargetOverlap","disableScrolling","arrowTranslateX","arrowTranslateY","actualPlacement","opener","value","_opener","open","openPopup","_opened","getOpenerHTMLElement","console","warn","isOpenerOutsideViewport","getBoundingClientRect","fireEvent","_openerRect","isOpenerClicked","e","target","ui5ElementTarget","getFocusDomRef","composedPath","indexOf","_addOpenedPopup","_removeOpenedPopup","undefined","HTMLElement","rootNode","getRootNode","Document","getElementById","document","shouldCloseDueToOverflow","openerRect","threshold","limits","right","left","top","bottom","closedPopupParent","overflowsBottom","overflowsTop","contentRect","contentDOM","height","innerHeight","shouldCloseDueToNoOpener","window","innerWidth","_resize","reposition","_show","_isUI5Element","getDomRef","_showOutsideViewport","popoverSize","getPopoverSize","width","_oldPlacement","isFocusWithin","calcPlacement","_preventRepositionAndClose","_waitForDomRef","closePopup","_left","documentElement","clientWidth","End","Math","max","_top","clientHeight","Bottom","arrow","x","y","_adjustForIOSKeyboard","Object","assign","style","Stretch","_width","actualTop","ceil","Number","parseInt","_getContainingBlockClientLocation","parentElement","rect","el","arrowDOM","shadowRoot","querySelector","targetRect","maxHeight","maxWidth","getActualPlacement","isVertical","Top","arrowOffset","getVerticalLeft","min","Start","getHorizontalTop","_maxHeight","round","_maxWidth","abs","borderRadius","getComputedStyle","getPropertyValue","arrowPos","getArrowPosition","_actualHorizontalAlign","arrowXCentered","Center","safeRangeForArrowY","safeRangeForArrowX","fallbackPlacement","isModal","_ariaLabelledBy","_ariaLabel","_displayHeader","styles","root","transform","classes","allClasses","header","length","headerText","_displayFooter","effectiveDir","__decorate","type","Boolean","noAttribute","converter","tag","template","instanceOfPopover","object","define"],"sources":["/home/user/projects/reactproj/node_modules/@ui5/webcomponents/src/Popover.ts"],"sourcesContent":["import type UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport slot from \"@ui5/webcomponents-base/dist/decorators/slot.js\";\nimport { isIOS } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { getClosedPopupParent } from \"@ui5/webcomponents-base/dist/util/PopupUtils.js\";\nimport clamp from \"@ui5/webcomponents-base/dist/util/clamp.js\";\nimport isElementContainingBlock from \"@ui5/webcomponents-base/dist/util/isElementContainingBlock.js\";\nimport getEffectiveScrollbarStyle from \"@ui5/webcomponents-base/dist/util/getEffectiveScrollbarStyle.js\";\nimport getParentElement from \"@ui5/webcomponents-base/dist/util/getParentElement.js\";\nimport DOMReferenceConverter from \"@ui5/webcomponents-base/dist/converters/DOMReference.js\";\n\nimport { renderFinished } from \"@ui5/webcomponents-base/dist/Render.js\";\nimport Popup from \"./Popup.js\";\nimport type { PopupBeforeCloseEventDetail as PopoverBeforeCloseEventDetail } from \"./Popup.js\";\nimport PopoverPlacement from \"./types/PopoverPlacement.js\";\nimport PopoverVerticalAlign from \"./types/PopoverVerticalAlign.js\";\nimport PopoverHorizontalAlign from \"./types/PopoverHorizontalAlign.js\";\nimport { addOpenedPopover, removeOpenedPopover } from \"./popup-utils/PopoverRegistry.js\";\n\n// Template\nimport PopoverTemplate from \"./generated/templates/PopoverTemplate.lit.js\";\n// Styles\nimport PopupsCommonCss from \"./generated/themes/PopupsCommon.css.js\";\nimport PopoverCss from \"./generated/themes/Popover.css.js\";\n\nconst ARROW_SIZE = 8;\n\ntype PopoverSize = {\n\twidth: number;\n\theight: number;\n}\n\ntype ArrowPosition = {\n\tx: number;\n\ty: number;\n}\n\ntype CalculatedPlacement = {\n\tarrow: ArrowPosition,\n\ttop: number,\n\tleft: number,\n\tplacement: `${PopoverPlacement}`,\n}\n\n/**\n * @class\n *\n * ### Overview\n *\n * The `ui5-popover` component displays additional information for an object\n * in a compact way and without leaving the page.\n * The Popover can contain various UI elements, such as fields, tables, images, and charts.\n * It can also include actions in the footer.\n *\n * ### Structure\n *\n * The popover has three main areas:\n *\n * - Header (optional)\n * - Content\n * - Footer (optional)\n *\n * **Note:** The `ui5-popover` is closed when the user clicks\n * or taps outside the popover\n * or selects an action within the popover. You can prevent this with the\n * `modal` property.\n *\n * ### ES6 Module Import\n *\n * `import \"@ui5/webcomponents/dist/Popover.js\";`\n *\n * @constructor\n * @extends Popup\n * @since 1.0.0-rc.6\n * @public\n * @csspart header - Used to style the header of the component\n * @csspart content - Used to style the content of the component\n * @csspart footer - Used to style the footer of the component\n */\n@customElement({\n\ttag: \"ui5-popover\",\n\tstyles: [\n\t\tPopup.styles,\n\t\tPopupsCommonCss,\n\t\tPopoverCss,\n\t\tgetEffectiveScrollbarStyle(),\n\t],\n\ttemplate: PopoverTemplate,\n})\nclass Popover extends Popup {\n\t/**\n\t * Defines the header text.\n\t *\n\t * **Note:** If `header` slot is provided, the `headerText` is ignored.\n\t * @default undefined\n\t * @public\n\t */\n\t@property()\n\theaderText?: string;\n\n\t/**\n\t * Determines on which side the component is placed at.\n\t * @default \"End\"\n\t * @public\n\t */\n\t@property()\n\tplacement: `${PopoverPlacement}` = \"End\";\n\n\t/**\n\t * Determines the horizontal alignment of the component.\n\t * @default \"Center\"\n\t * @public\n\t */\n\t@property()\n\thorizontalAlign: `${PopoverHorizontalAlign}` = \"Center\";\n\n\t/**\n\t * Determines the vertical alignment of the component.\n\t * @default \"Center\"\n\t * @public\n\t */\n\t@property()\n\tverticalAlign: `${PopoverVerticalAlign}` = \"Center\";\n\n\t/**\n\t * Defines whether the component should close when\n\t * clicking/tapping outside of the popover.\n\t * If enabled, it blocks any interaction with the background.\n\t * @default false\n\t * @public\n\t */\n\t@property({ type: Boolean })\n\tmodal = false;\n\n\t/**\n\t * Determines whether the component arrow is hidden.\n\t * @default false\n\t * @public\n\t * @since 1.0.0-rc.15\n\t */\n\t@property({ type: Boolean })\n\thideArrow = false;\n\n\t/**\n\t * Determines if there is no enough space, the component can be placed\n\t * over the target.\n\t * @default false\n\t * @public\n\t */\n\t@property({ type: Boolean })\n\tallowTargetOverlap = false;\n\n\t/**\n\t * Defines whether the content is scrollable.\n\t * @default false\n\t * @private\n\t */\n\t@property({ type: Boolean })\n\tdisableScrolling = false;\n\n\t/**\n\t * Sets the X translation of the arrow\n\t * @private\n\t */\n\t@property({ type: Number, noAttribute: true })\n\tarrowTranslateX = 0;\n\n\t/**\n\t * Sets the Y translation of the arrow\n\t * @private\n\t */\n\t@property({ type: Number, noAttribute: true })\n\tarrowTranslateY = 0;\n\n\t/**\n\t * Returns the calculated placement depending on the free space\n\t * @private\n\t */\n\t@property()\n\tactualPlacement: `${PopoverPlacement}` = \"End\";\n\n\t@property({ type: Number, noAttribute: true })\n\t_maxHeight?: number;\n\n\t@property({ type: Number, noAttribute: true })\n\t_maxWidth?: number;\n\n\t/**\n\t * Defines the header HTML Element.\n\t * @public\n\t */\n\t@slot({ type: HTMLElement })\n\theader!: Array<HTMLElement>;\n\n\t/**\n\t * Defines the footer HTML Element.\n\t * @public\n\t */\n\t@slot({ type: HTMLElement })\n\tfooter!: Array<HTMLElement>;\n\n\t_opener?: HTMLElement | string;\n\t_openerRect?: DOMRect;\n\t_preventRepositionAndClose?: boolean;\n\t_top?: number;\n\t_left?: number;\n\t_oldPlacement?: CalculatedPlacement;\n\t_width?: string;\n\n\tstatic get VIEWPORT_MARGIN() {\n\t\treturn 10; // px\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t/**\n\t * Defines the ID or DOM Reference of the element at which the popover is shown.\n\t * When using this attribute in a declarative way, you must only use the `id` (as a string) of the element at which you want to show the popover.\n\t * You can only set the `opener` attribute to a DOM Reference when using JavaScript.\n\t * @public\n\t * @default undefined\n\t * @since 1.2.0\n\t */\n\t@property({ converter: DOMReferenceConverter })\n\tset opener(value: HTMLElement | string) {\n\t\tif (this._opener === value) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._opener = value;\n\n\t\tif (value && this.open) {\n\t\t\tthis.openPopup();\n\t\t}\n\t}\n\n\tget opener(): HTMLElement | string | undefined {\n\t\treturn this._opener;\n\t}\n\n\tasync openPopup() {\n\t\tif (this._opened) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst opener = this.getOpenerHTMLElement(this.opener);\n\n\t\tif (!opener) {\n\t\t\tconsole.warn(\"Valid opener id is required. It must be defined before opening the popover.\"); // eslint-disable-line\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.isOpenerOutsideViewport(opener.getBoundingClientRect())) {\n\t\t\tawait renderFinished();\n\t\t\tthis.open = false;\n\t\t\tthis.fireEvent(\"close\", {}, false, false);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._openerRect = opener.getBoundingClientRect();\n\n\t\tawait super.openPopup();\n\t}\n\n\tisOpenerClicked(e: MouseEvent) {\n\t\tconst target = e.target as HTMLElement;\n\t\tif (target === this._opener) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst ui5ElementTarget = target as UI5Element;\n\n\t\tif (ui5ElementTarget.getFocusDomRef && ui5ElementTarget.getFocusDomRef() === this._opener) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn e.composedPath().indexOf(this._opener as EventTarget) > -1;\n\t}\n\n\t/**\n\t * Override for the _addOpenedPopup hook, which would otherwise just call addOpenedPopup(this)\n\t * @private\n\t */\n\t_addOpenedPopup() {\n\t\taddOpenedPopover(this);\n\t}\n\n\t/**\n\t * Override for the _removeOpenedPopup hook, which would otherwise just call removeOpenedPopup(this)\n\t * @private\n\t */\n\t_removeOpenedPopup() {\n\t\tremoveOpenedPopover(this);\n\t}\n\n\tgetOpenerHTMLElement(opener: HTMLElement | string | undefined): HTMLElement | null | undefined {\n\t\tif (opener === undefined || opener instanceof HTMLElement) {\n\t\t\treturn opener;\n\t\t}\n\n\t\tconst rootNode = this.getRootNode();\n\n\t\tif (rootNode instanceof Document) {\n\t\t\treturn rootNode.getElementById(opener);\n\t\t}\n\t\treturn document.getElementById(opener);\n\t}\n\n\tshouldCloseDueToOverflow(placement: `${PopoverPlacement}`, openerRect: DOMRect): boolean {\n\t\tconst threshold = 32;\n\t\tconst limits = {\n\t\t\t\"Start\": openerRect.right,\n\t\t\t\"End\": openerRect.left,\n\t\t\t\"Top\": openerRect.top,\n\t\t\t\"Bottom\": openerRect.bottom,\n\t\t};\n\n\t\tconst opener = this.getOpenerHTMLElement(this.opener);\n\t\tconst closedPopupParent = getClosedPopupParent(opener!);\n\t\tlet overflowsBottom = false;\n\t\tlet overflowsTop = false;\n\n\t\tif (closedPopupParent instanceof Popover) {\n\t\t\tconst contentRect = closedPopupParent.contentDOM.getBoundingClientRect();\n\t\t\toverflowsBottom = openerRect.top > (contentRect.top + contentRect.height);\n\t\t\toverflowsTop = (openerRect.top + openerRect.height) < contentRect.top;\n\t\t}\n\n\t\treturn (limits[placement] < 0 || (limits[placement] + threshold > (closedPopupParent as unknown as Window).innerHeight)) || overflowsBottom || overflowsTop;\n\t}\n\n\tshouldCloseDueToNoOpener(openerRect: DOMRect): boolean {\n\t\treturn openerRect.top === 0\n\t\t\t&& openerRect.bottom === 0\n\t\t\t&& openerRect.left === 0\n\t\t\t&& openerRect.right === 0;\n\t}\n\n\tisOpenerOutsideViewport(openerRect: DOMRect): boolean {\n\t\treturn openerRect.bottom < 0\n\t\t\t|| openerRect.top > window.innerHeight\n\t\t\t|| openerRect.right < 0\n\t\t\t|| openerRect.left > window.innerWidth;\n\t}\n\n\t/**\n\t * @override\n\t */\n\t_resize() {\n\t\tsuper._resize();\n\n\t\tif (this.open) {\n\t\t\tthis.reposition();\n\t\t}\n\t}\n\n\treposition() {\n\t\tthis._show();\n\t}\n\n\tasync _show() {\n\t\tsuper._show();\n\n\t\tconst opener = this.getOpenerHTMLElement(this.opener);\n\n\t\tif (opener && this._isUI5Element(opener) && !opener.getDomRef()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._opened) {\n\t\t\tthis._showOutsideViewport();\n\t\t}\n\n\t\tconst popoverSize = this.getPopoverSize();\n\t\tlet placement;\n\n\t\tif (popoverSize.width === 0 || popoverSize.height === 0) {\n\t\t\t// size can not be determined properly at this point, popover will be shown with the next reposition\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.open) {\n\t\t\t// update opener rect if it was changed during the popover being opened\n\t\t\tthis._openerRect = opener!.getBoundingClientRect();\n\t\t}\n\n\t\tif (this._oldPlacement && this.shouldCloseDueToNoOpener(this._openerRect!) && this.isFocusWithin()) {\n\t\t\t// reuse the old placement as the opener is not available,\n\t\t\t// but keep the popover open as the focus is within\n\t\t\tplacement = this._oldPlacement;\n\t\t} else {\n\t\t\tplacement = this.calcPlacement(this._openerRect!, popoverSize);\n\t\t}\n\n\t\tif (this._preventRepositionAndClose || this.isOpenerOutsideViewport(this._openerRect!)) {\n\t\t\tawait this._waitForDomRef();\n\t\t\treturn this.closePopup();\n\t\t}\n\n\t\tthis._oldPlacement = placement;\n\t\tthis.actualPlacement = placement.placement;\n\n\t\tlet left = clamp(\n\t\t\tthis._left!,\n\t\t\tPopover.VIEWPORT_MARGIN,\n\t\t\tdocument.documentElement.clientWidth - popoverSize.width - Popover.VIEWPORT_MARGIN,\n\t\t);\n\n\t\tif (this.actualPlacement === PopoverPlacement.End) {\n\t\t\tleft = Math.max(left, this._left!);\n\t\t}\n\n\t\tlet top = clamp(\n\t\t\tthis._top!,\n\t\t\tPopover.VIEWPORT_MARGIN,\n\t\t\tdocument.documentElement.clientHeight - popoverSize.height - Popover.VIEWPORT_MARGIN,\n\t\t);\n\n\t\tif (this.actualPlacement === PopoverPlacement.Bottom) {\n\t\t\ttop = Math.max(top, this._top!);\n\t\t}\n\n\t\tthis.arrowTranslateX = placement.arrow.x;\n\t\tthis.arrowTranslateY = placement.arrow.y;\n\n\t\ttop = this._adjustForIOSKeyboard(top);\n\n\t\tObject.assign(this.style, {\n\t\t\ttop: `${top}px`,\n\t\t\tleft: `${left}px`,\n\t\t});\n\n\t\tif (this.horizontalAlign === PopoverHorizontalAlign.Stretch && this._width) {\n\t\t\tthis.style.width = this._width;\n\t\t}\n\t}\n\n\t/**\n\t * Adjust the desired top position to compensate for shift of the screen\n\t * caused by opened keyboard on iOS which affects all elements with position:fixed.\n\t * @private\n\t * @param top The target top in px.\n\t * @returns The adjusted top in px.\n\t */\n\t_adjustForIOSKeyboard(top: number): number {\n\t\tif (!isIOS()) {\n\t\t\treturn top;\n\t\t}\n\n\t\tconst actualTop = Math.ceil(this.getBoundingClientRect().top);\n\n\t\treturn top + (Number.parseInt(this.style.top || \"0\") - actualTop);\n\t}\n\n\t_getContainingBlockClientLocation() {\n\t\tlet parentElement = getParentElement(this);\n\n\t\twhile (parentElement) {\n\t\t\tif (isElementContainingBlock(parentElement)) {\n\t\t\t\treturn parentElement.getBoundingClientRect();\n\t\t\t}\n\n\t\t\tparentElement = getParentElement(parentElement);\n\t\t}\n\n\t\treturn { left: 0, top: 0 };\n\t}\n\n\tgetPopoverSize(): PopoverSize {\n\t\tconst rect = this.getBoundingClientRect(),\n\t\t\twidth = rect.width,\n\t\t\theight = rect.height;\n\n\t\treturn { width, height };\n\t}\n\n\t_showOutsideViewport() {\n\t\tObject.assign(this.style, {\n\t\t\ttop: \"-10000px\",\n\t\t\tleft: \"-10000px\",\n\t\t});\n\t}\n\n\t_isUI5Element(el: HTMLElement): el is UI5Element {\n\t\treturn \"isUI5Element\" in el;\n\t}\n\n\tget arrowDOM() {\n\t\treturn this.shadowRoot!.querySelector(\".ui5-popover-arrow\")!;\n\t}\n\n\t/**\n\t * @private\n\t */\n\tcalcPlacement(targetRect: DOMRect, popoverSize: PopoverSize): CalculatedPlacement {\n\t\tlet left = Popover.VIEWPORT_MARGIN;\n\t\tlet top = 0;\n\t\tconst allowTargetOverlap = this.allowTargetOverlap;\n\n\t\tconst clientWidth = document.documentElement.clientWidth;\n\t\tconst clientHeight = document.documentElement.clientHeight;\n\n\t\tlet maxHeight = clientHeight;\n\t\tlet maxWidth = clientWidth;\n\n\t\tconst placement = this.getActualPlacement(targetRect, popoverSize);\n\n\t\tthis._preventRepositionAndClose = this.shouldCloseDueToNoOpener(targetRect) || this.shouldCloseDueToOverflow(placement, targetRect);\n\n\t\tconst isVertical = placement === PopoverPlacement.Top\n\t\t\t|| placement === PopoverPlacement.Bottom;\n\n\t\tif (this.horizontalAlign === PopoverHorizontalAlign.Stretch && isVertical) {\n\t\t\tpopoverSize.width = targetRect.width;\n\t\t\tthis._width = `${targetRect.width}px`;\n\t\t} else if (this.verticalAlign === PopoverVerticalAlign.Stretch && !isVertical) {\n\t\t\tpopoverSize.height = targetRect.height;\n\t\t}\n\n\t\tconst arrowOffset = this.hideArrow ? 0 : ARROW_SIZE;\n\n\t\t// calc popover positions\n\t\tswitch (placement) {\n\t\tcase PopoverPlacement.Top:\n\t\t\tleft = this.getVerticalLeft(targetRect, popoverSize);\n\t\t\ttop = Math.max(targetRect.top - popoverSize.height - arrowOffset, 0);\n\n\t\t\tif (!allowTargetOverlap) {\n\t\t\t\tmaxHeight = targetRect.top - arrowOffset;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacement.Bottom:\n\t\t\tleft = this.getVerticalLeft(targetRect, popoverSize);\n\t\t\ttop = targetRect.bottom + arrowOffset;\n\n\t\t\tif (allowTargetOverlap) {\n\t\t\t\ttop = Math.max(Math.min(top, clientHeight - popoverSize.height), 0);\n\t\t\t} else {\n\t\t\t\tmaxHeight = clientHeight - targetRect.bottom - arrowOffset;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacement.Start:\n\t\t\tleft = Math.max(targetRect.left - popoverSize.width - arrowOffset, 0);\n\t\t\ttop = this.getHorizontalTop(targetRect, popoverSize);\n\n\t\t\tif (!allowTargetOverlap) {\n\t\t\t\tmaxWidth = targetRect.left - arrowOffset;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacement.End:\n\t\t\tleft = targetRect.left + targetRect.width + arrowOffset;\n\t\t\ttop = this.getHorizontalTop(targetRect, popoverSize);\n\n\t\t\tif (allowTargetOverlap) {\n\t\t\t\tleft = Math.max(Math.min(left, clientWidth - popoverSize.width), 0);\n\t\t\t} else {\n\t\t\t\tmaxWidth = clientWidth - targetRect.right - arrowOffset;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t\t// correct popover positions\n\t\tif (isVertical) {\n\t\t\tif (popoverSize.width > clientWidth || left < Popover.VIEWPORT_MARGIN) {\n\t\t\t\tleft = Popover.VIEWPORT_MARGIN;\n\t\t\t} else if (left + popoverSize.width > clientWidth - Popover.VIEWPORT_MARGIN) {\n\t\t\t\tleft = clientWidth - Popover.VIEWPORT_MARGIN - popoverSize.width;\n\t\t\t}\n\t\t} else {\n\t\t\tif (popoverSize.height > clientHeight || top < 0) { // eslint-disable-line\n\t\t\t\ttop = 0;\n\t\t\t} else if (top + popoverSize.height > clientHeight) {\n\t\t\t\ttop -= top + popoverSize.height - clientHeight;\n\t\t\t}\n\t\t}\n\n\t\tthis._maxHeight = Math.round(maxHeight - Popover.VIEWPORT_MARGIN);\n\t\tthis._maxWidth = Math.round(maxWidth - Popover.VIEWPORT_MARGIN);\n\n\t\tif (this._left === undefined || Math.abs(this._left - left) > 1.5) {\n\t\t\tthis._left = Math.round(left);\n\t\t}\n\n\t\tif (this._top === undefined || Math.abs(this._top - top) > 1.5) {\n\t\t\tthis._top = Math.round(top);\n\t\t}\n\n\t\tconst borderRadius = Number.parseInt(window.getComputedStyle(this).getPropertyValue(\"border-radius\"));\n\t\tconst arrowPos = this.getArrowPosition(targetRect, popoverSize, left, top, isVertical, borderRadius);\n\n\t\treturn {\n\t\t\tarrow: arrowPos,\n\t\t\ttop: this._top,\n\t\t\tleft: this._left,\n\t\t\tplacement,\n\t\t};\n\t}\n\n\t/**\n\t * Calculates the position for the arrow.\n\t * @private\n\t * @param targetRect BoundingClientRect of the target element\n\t * @param popoverSize Width and height of the popover\n\t * @param left Left offset of the popover\n\t * @param top Top offset of the popover\n\t * @param isVertical If the popover is positioned vertically to the target element\n\t * @param borderRadius Value of the border-radius property\n\t * @returns  Arrow's coordinates\n\t */\n\tgetArrowPosition(targetRect: DOMRect, popoverSize: PopoverSize, left: number, top: number, isVertical: boolean, borderRadius: number): ArrowPosition {\n\t\tconst horizontalAlign = this._actualHorizontalAlign;\n\t\tlet arrowXCentered = horizontalAlign === PopoverHorizontalAlign.Center || horizontalAlign === PopoverHorizontalAlign.Stretch;\n\n\t\tif (horizontalAlign === PopoverHorizontalAlign.End && left <= targetRect.left) {\n\t\t\tarrowXCentered = true;\n\t\t}\n\n\t\tif (horizontalAlign === PopoverHorizontalAlign.Start && left + popoverSize.width >= targetRect.left + targetRect.width) {\n\t\t\tarrowXCentered = true;\n\t\t}\n\n\t\tlet arrowTranslateX = 0;\n\t\tif (isVertical && arrowXCentered) {\n\t\t\tarrowTranslateX = targetRect.left + targetRect.width / 2 - left - popoverSize.width / 2;\n\t\t}\n\n\t\tlet arrowTranslateY = 0;\n\t\tif (!isVertical) {\n\t\t\tarrowTranslateY = targetRect.top + targetRect.height / 2 - top - popoverSize.height / 2;\n\t\t}\n\n\t\t// Restricts the arrow's translate value along each dimension,\n\t\t// so that the arrow does not clip over the popover's rounded borders.\n\t\tconst safeRangeForArrowY = popoverSize.height / 2 - borderRadius - ARROW_SIZE / 2;\n\t\tarrowTranslateY = clamp(\n\t\t\tarrowTranslateY,\n\t\t\t-safeRangeForArrowY,\n\t\t\tsafeRangeForArrowY,\n\t\t);\n\n\t\tconst safeRangeForArrowX = popoverSize.width / 2 - borderRadius - ARROW_SIZE / 2;\n\t\tarrowTranslateX = clamp(\n\t\t\tarrowTranslateX,\n\t\t\t-safeRangeForArrowX,\n\t\t\tsafeRangeForArrowX,\n\t\t);\n\n\t\treturn {\n\t\t\tx: Math.round(arrowTranslateX),\n\t\t\ty: Math.round(arrowTranslateY),\n\t\t};\n\t}\n\n\t/**\n\t * Fallbacks to new placement, prioritizing `Left` and `Right` placements.\n\t * @private\n\t */\n\tfallbackPlacement(clientWidth: number, clientHeight: number, targetRect: DOMRect, popoverSize: PopoverSize): PopoverPlacement | undefined {\n\t\tif (targetRect.left > popoverSize.width) {\n\t\t\treturn PopoverPlacement.Start;\n\t\t}\n\n\t\tif (clientWidth - targetRect.right > targetRect.left) {\n\t\t\treturn PopoverPlacement.End;\n\t\t}\n\n\t\tif (clientHeight - targetRect.bottom > popoverSize.height) {\n\t\t\treturn PopoverPlacement.Bottom;\n\t\t}\n\n\t\tif (clientHeight - targetRect.bottom < targetRect.top) {\n\t\t\treturn PopoverPlacement.Top;\n\t\t}\n\t}\n\n\tgetActualPlacement(targetRect: DOMRect, popoverSize: PopoverSize): `${PopoverPlacement}` {\n\t\tconst placement = this.placement;\n\t\tlet actualPlacement = placement;\n\n\t\tconst clientWidth = document.documentElement.clientWidth;\n\t\tconst clientHeight = document.documentElement.clientHeight;\n\n\t\tswitch (placement) {\n\t\tcase PopoverPlacement.Top:\n\t\t\tif (targetRect.top < popoverSize.height\n\t\t\t\t&& targetRect.top < clientHeight - targetRect.bottom) {\n\t\t\t\tactualPlacement = PopoverPlacement.Bottom;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacement.Bottom:\n\t\t\tif (clientHeight - targetRect.bottom < popoverSize.height\n\t\t\t\t&& clientHeight - targetRect.bottom < targetRect.top) {\n\t\t\t\tactualPlacement = PopoverPlacement.Top;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacement.Start:\n\t\t\tif (targetRect.left < popoverSize.width) {\n\t\t\t\tactualPlacement = this.fallbackPlacement(clientWidth, clientHeight, targetRect, popoverSize) || placement;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase PopoverPlacement.End:\n\t\t\tif (clientWidth - targetRect.right < popoverSize.width) {\n\t\t\t\tactualPlacement = this.fallbackPlacement(clientWidth, clientHeight, targetRect, popoverSize) || placement;\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\n\t\treturn actualPlacement;\n\t}\n\n\tgetVerticalLeft(targetRect: DOMRect, popoverSize: PopoverSize): number {\n\t\tconst horizontalAlign = this._actualHorizontalAlign;\n\t\tlet left = Popover.VIEWPORT_MARGIN;\n\n\t\tswitch (horizontalAlign) {\n\t\tcase PopoverHorizontalAlign.Center:\n\t\tcase PopoverHorizontalAlign.Stretch:\n\t\t\tleft = targetRect.left - (popoverSize.width - targetRect.width) / 2;\n\t\t\tbreak;\n\t\tcase PopoverHorizontalAlign.Start:\n\t\t\tleft = targetRect.left;\n\t\t\tbreak;\n\t\tcase PopoverHorizontalAlign.End:\n\t\t\tleft = targetRect.right - popoverSize.width;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn left;\n\t}\n\n\tgetHorizontalTop(targetRect: DOMRect, popoverSize: PopoverSize): number {\n\t\tlet top = 0;\n\n\t\tswitch (this.verticalAlign) {\n\t\tcase PopoverVerticalAlign.Center:\n\t\tcase PopoverVerticalAlign.Stretch:\n\t\t\ttop = targetRect.top - (popoverSize.height - targetRect.height) / 2;\n\t\t\tbreak;\n\t\tcase PopoverVerticalAlign.Top:\n\t\t\ttop = targetRect.top;\n\t\t\tbreak;\n\t\tcase PopoverVerticalAlign.Bottom:\n\t\t\ttop = targetRect.bottom - popoverSize.height;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn top;\n\t}\n\n\tget isModal() { // Required by Popup.js\n\t\treturn this.modal;\n\t}\n\n\tget _ariaLabelledBy() { // Required by Popup.js\n\t\tif (!this._ariaLabel && this._displayHeader) {\n\t\t\treturn \"ui5-popup-header\";\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\t...super.styles,\n\t\t\troot: {\n\t\t\t\t\"max-height\": this._maxHeight ? `${this._maxHeight}px` : \"\",\n\t\t\t\t\"max-width\": this._maxWidth ? `${this._maxWidth}px` : \"\",\n\t\t\t},\n\t\t\tarrow: {\n\t\t\t\ttransform: `translate(${this.arrowTranslateX}px, ${this.arrowTranslateY}px)`,\n\t\t\t},\n\t\t};\n\t}\n\n\tget classes() {\n\t\tconst allClasses = super.classes;\n\t\tallClasses.root[\"ui5-popover-root\"] = true;\n\n\t\treturn allClasses;\n\t}\n\n\t/**\n\t * Hook for descendants to hide header.\n\t */\n\tget _displayHeader() {\n\t\treturn !!(this.header.length || this.headerText);\n\t}\n\n\t/**\n\t * Hook for descendants to hide footer.\n\t */\n\tget _displayFooter() {\n\t\treturn true;\n\t}\n\n\tget _actualHorizontalAlign() {\n\t\tif (this.effectiveDir === \"rtl\") {\n\t\t\tif (this.horizontalAlign === PopoverHorizontalAlign.Start) {\n\t\t\t\treturn PopoverHorizontalAlign.End;\n\t\t\t}\n\n\t\t\tif (this.horizontalAlign === PopoverHorizontalAlign.End) {\n\t\t\t\treturn PopoverHorizontalAlign.Start;\n\t\t\t}\n\t\t}\n\n\t\treturn this.horizontalAlign;\n\t}\n}\n\nconst instanceOfPopover = (object: any): object is Popover => {\n\treturn \"opener\" in object;\n};\n\nPopover.define();\n\nexport default Popover;\n\nexport { instanceOfPopover };\n\nexport type {\n\tPopoverBeforeCloseEventDetail,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}