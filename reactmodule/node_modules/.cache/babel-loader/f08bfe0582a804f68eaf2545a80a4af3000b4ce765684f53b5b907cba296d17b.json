{"ast":null,"code":"import { getI18nBundle } from '@ui5/webcomponents-base/dist/i18nBundle.js';\nglobalThis['@ui5/webcomponents-react'] ??= {};\nconst STORE_LOCATION = globalThis['@ui5/webcomponents-react'];\nconst STORE_SYMBOL_LISTENERS = Symbol.for('@ui5/webcomponents-react/I18nStore/Listeners');\nconst STORE_SYMBOL = Symbol.for('@ui5/webcomponents-react/I18nStore');\nconst initialStore = {};\nfunction getListeners() {\n  STORE_LOCATION[STORE_SYMBOL_LISTENERS] ??= [];\n  return STORE_LOCATION[STORE_SYMBOL_LISTENERS];\n}\nfunction emitChange() {\n  for (const listener of getListeners()) {\n    listener();\n  }\n}\nfunction getSnapshot() {\n  STORE_LOCATION[STORE_SYMBOL] ??= initialStore;\n  return STORE_LOCATION[STORE_SYMBOL];\n}\nfunction subscribe(listener) {\n  const listeners = getListeners();\n  STORE_LOCATION[STORE_SYMBOL_LISTENERS] = [...listeners, listener];\n  return () => {\n    STORE_LOCATION[STORE_SYMBOL_LISTENERS] = listeners.filter(l => l !== listener);\n  };\n}\nexport const I18nStore = {\n  subscribe,\n  getSnapshot,\n  getServerSnapshot: () => {\n    return initialStore;\n  },\n  loadBundle: bundleName => {\n    const bundles = getSnapshot();\n    if (!bundles.hasOwnProperty(bundleName)) {\n      void getI18nBundle(bundleName).then(bundle => {\n        STORE_LOCATION[STORE_SYMBOL] = {\n          ...STORE_LOCATION[STORE_SYMBOL],\n          [bundleName]: bundle\n        };\n        emitChange();\n      });\n    }\n  },\n  handleLanguageChange: async () => {\n    const bundles = getSnapshot();\n    const newBundles = await Promise.all(Object.keys(bundles).map(bundleName => getI18nBundle(bundleName)));\n    STORE_LOCATION[STORE_SYMBOL] = newBundles.reduce((acc, bundle) => ({\n      ...acc,\n      [bundle.packageName]: bundle\n    }), {});\n    emitChange();\n  }\n};","map":{"version":3,"names":["getI18nBundle","globalThis","STORE_LOCATION","STORE_SYMBOL_LISTENERS","Symbol","for","STORE_SYMBOL","initialStore","getListeners","emitChange","listener","getSnapshot","subscribe","listeners","filter","l","I18nStore","getServerSnapshot","loadBundle","bundleName","bundles","hasOwnProperty","then","bundle","handleLanguageChange","newBundles","Promise","all","Object","keys","map","reduce","acc","packageName"],"sources":["/home/user/projects/reactproj/node_modules/@ui5/webcomponents-react-base/dist/stores/I18nStore.js"],"sourcesContent":["import { getI18nBundle } from '@ui5/webcomponents-base/dist/i18nBundle.js';\nglobalThis['@ui5/webcomponents-react'] ??= {};\nconst STORE_LOCATION = globalThis['@ui5/webcomponents-react'];\nconst STORE_SYMBOL_LISTENERS = Symbol.for('@ui5/webcomponents-react/I18nStore/Listeners');\nconst STORE_SYMBOL = Symbol.for('@ui5/webcomponents-react/I18nStore');\nconst initialStore = {};\nfunction getListeners() {\n    STORE_LOCATION[STORE_SYMBOL_LISTENERS] ??= [];\n    return STORE_LOCATION[STORE_SYMBOL_LISTENERS];\n}\nfunction emitChange() {\n    for (const listener of getListeners()) {\n        listener();\n    }\n}\nfunction getSnapshot() {\n    STORE_LOCATION[STORE_SYMBOL] ??= initialStore;\n    return STORE_LOCATION[STORE_SYMBOL];\n}\nfunction subscribe(listener) {\n    const listeners = getListeners();\n    STORE_LOCATION[STORE_SYMBOL_LISTENERS] = [...listeners, listener];\n    return () => {\n        STORE_LOCATION[STORE_SYMBOL_LISTENERS] = listeners.filter((l) => l !== listener);\n    };\n}\nexport const I18nStore = {\n    subscribe,\n    getSnapshot,\n    getServerSnapshot: () => {\n        return initialStore;\n    },\n    loadBundle: (bundleName) => {\n        const bundles = getSnapshot();\n        if (!bundles.hasOwnProperty(bundleName)) {\n            void getI18nBundle(bundleName).then((bundle) => {\n                STORE_LOCATION[STORE_SYMBOL] = {\n                    ...STORE_LOCATION[STORE_SYMBOL],\n                    [bundleName]: bundle\n                };\n                emitChange();\n            });\n        }\n    },\n    handleLanguageChange: async () => {\n        const bundles = getSnapshot();\n        const newBundles = await Promise.all(Object.keys(bundles).map((bundleName) => getI18nBundle(bundleName)));\n        STORE_LOCATION[STORE_SYMBOL] = newBundles.reduce((acc, bundle) => ({\n            ...acc,\n            [bundle.packageName]: bundle\n        }), {});\n        emitChange();\n    }\n};\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,4CAA4C;AAC1EC,UAAU,CAAC,0BAA0B,CAAC,KAAK,CAAC,CAAC;AAC7C,MAAMC,cAAc,GAAGD,UAAU,CAAC,0BAA0B,CAAC;AAC7D,MAAME,sBAAsB,GAAGC,MAAM,CAACC,GAAG,CAAC,8CAA8C,CAAC;AACzF,MAAMC,YAAY,GAAGF,MAAM,CAACC,GAAG,CAAC,oCAAoC,CAAC;AACrE,MAAME,YAAY,GAAG,CAAC,CAAC;AACvB,SAASC,YAAYA,CAAA,EAAG;EACpBN,cAAc,CAACC,sBAAsB,CAAC,KAAK,EAAE;EAC7C,OAAOD,cAAc,CAACC,sBAAsB,CAAC;AACjD;AACA,SAASM,UAAUA,CAAA,EAAG;EAClB,KAAK,MAAMC,QAAQ,IAAIF,YAAY,CAAC,CAAC,EAAE;IACnCE,QAAQ,CAAC,CAAC;EACd;AACJ;AACA,SAASC,WAAWA,CAAA,EAAG;EACnBT,cAAc,CAACI,YAAY,CAAC,KAAKC,YAAY;EAC7C,OAAOL,cAAc,CAACI,YAAY,CAAC;AACvC;AACA,SAASM,SAASA,CAACF,QAAQ,EAAE;EACzB,MAAMG,SAAS,GAAGL,YAAY,CAAC,CAAC;EAChCN,cAAc,CAACC,sBAAsB,CAAC,GAAG,CAAC,GAAGU,SAAS,EAAEH,QAAQ,CAAC;EACjE,OAAO,MAAM;IACTR,cAAc,CAACC,sBAAsB,CAAC,GAAGU,SAAS,CAACC,MAAM,CAAEC,CAAC,IAAKA,CAAC,KAAKL,QAAQ,CAAC;EACpF,CAAC;AACL;AACA,OAAO,MAAMM,SAAS,GAAG;EACrBJ,SAAS;EACTD,WAAW;EACXM,iBAAiB,EAAEA,CAAA,KAAM;IACrB,OAAOV,YAAY;EACvB,CAAC;EACDW,UAAU,EAAGC,UAAU,IAAK;IACxB,MAAMC,OAAO,GAAGT,WAAW,CAAC,CAAC;IAC7B,IAAI,CAACS,OAAO,CAACC,cAAc,CAACF,UAAU,CAAC,EAAE;MACrC,KAAKnB,aAAa,CAACmB,UAAU,CAAC,CAACG,IAAI,CAAEC,MAAM,IAAK;QAC5CrB,cAAc,CAACI,YAAY,CAAC,GAAG;UAC3B,GAAGJ,cAAc,CAACI,YAAY,CAAC;UAC/B,CAACa,UAAU,GAAGI;QAClB,CAAC;QACDd,UAAU,CAAC,CAAC;MAChB,CAAC,CAAC;IACN;EACJ,CAAC;EACDe,oBAAoB,EAAE,MAAAA,CAAA,KAAY;IAC9B,MAAMJ,OAAO,GAAGT,WAAW,CAAC,CAAC;IAC7B,MAAMc,UAAU,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACC,MAAM,CAACC,IAAI,CAACT,OAAO,CAAC,CAACU,GAAG,CAAEX,UAAU,IAAKnB,aAAa,CAACmB,UAAU,CAAC,CAAC,CAAC;IACzGjB,cAAc,CAACI,YAAY,CAAC,GAAGmB,UAAU,CAACM,MAAM,CAAC,CAACC,GAAG,EAAET,MAAM,MAAM;MAC/D,GAAGS,GAAG;MACN,CAACT,MAAM,CAACU,WAAW,GAAGV;IAC1B,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACPd,UAAU,CAAC,CAAC;EAChB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}