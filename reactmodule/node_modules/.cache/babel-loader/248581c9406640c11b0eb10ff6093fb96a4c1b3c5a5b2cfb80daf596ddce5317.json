{"ast":null,"code":"'use client';\n\nimport '@ui5/webcomponents-fiori/dist/illustrations/UnableToLoad.js';\nimport BarDesign from '@ui5/webcomponents/dist/types/BarDesign.js';\nimport ButtonDesign from '@ui5/webcomponents/dist/types/ButtonDesign.js';\nimport ListSelectionMode from '@ui5/webcomponents/dist/types/ListSelectionMode.js';\nimport PopoverPlacement from '@ui5/webcomponents/dist/types/PopoverPlacement.js';\nimport TitleLevel from '@ui5/webcomponents/dist/types/TitleLevel.js';\nimport IllustrationMessageType from '@ui5/webcomponents-fiori/dist/types/IllustrationMessageType.js';\nimport navDownIcon from '@ui5/webcomponents-icons/dist/navigation-down-arrow.js';\nimport searchIcon from '@ui5/webcomponents-icons/dist/search.js';\nimport { enrichEventWithDetails, useI18nBundle, useStylesheet } from '@ui5/webcomponents-react-base';\nimport { clsx } from 'clsx';\nimport { Children, cloneElement, forwardRef, isValidElement, useCallback, useEffect, useRef, useState } from 'react';\nimport { MANAGE, MY_VIEWS, SAVE, SAVE_AS, SEARCH, SEARCH_VARIANT, SELECT_VIEW } from '../../i18n/i18n-defaults.js';\nimport { stopPropagation } from '../../internal/stopPropagation.js';\nimport { VariantManagementContext } from '../../internal/VariantManagementContext.js';\nimport { Bar, Button, Icon, IllustratedMessage, Input, List, ResponsivePopover, Title } from '../../webComponents/index.js';\nimport { FlexBox } from '../FlexBox/index.js';\nimport { ManageViewsDialog } from './ManageViewsDialog.js';\nimport { SaveViewDialog } from './SaveViewDialog.js';\nimport { classNames, styleData } from './VariantManagement.module.css.js';\n\n/**\n * The VariantManagement can be used to manage variants (views). You can use this component to create and maintain personalization changes.\n *\n * __Note:__ On the user interface, variants are generally referred to as \"views\".\n *\n * ### Matching header styles\n *\n * To ensure consistent header styles for different use-cases of the `VariantManagement`, we recommend setting the following styles to the `ui5-title` component:\n *\n * #### DynamicPage & ObjectPage\n *\n * - `font-family: var(--sapObjectHeader_Title_FontFamily);`\n *\n * __Header expanded__\n *\n * - `font-size: var(--sapObjectHeader_Title_FontSize);`\n *\n * __Header collapsed/snapped__\n *\n * - `font-size: var(--sapObjectHeader_Title_SnappedFontSize);`\n *\n * #### Tables\n *\n * - `font-size: var(--sapGroup_Title_FontSize);`\n *\n * #### Example\n *\n * ```css\n * .variantManagement [data-component-name=\"VariantManagementTitle\"] {\n *     font-family: var(--sapObjectHeader_Title_FontFamily);\n *     font-size: var(--sapObjectHeader_Title_FontSize);\n * }\n * ```\n * ```jsx\n *  <VariantManagement className=\"variantManagement\">\n * ```\n *\n */\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nconst VariantManagement = /*#__PURE__*/forwardRef((props, ref) => {\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  const {\n    titleText = i18nBundle.getText(MY_VIEWS),\n    className,\n    style,\n    placement = PopoverPlacement.Bottom,\n    level = TitleLevel.H4,\n    size = TitleLevel.H4,\n    onSelect,\n    closeOnItemSelect,\n    disabled,\n    onSaveAs,\n    onSaveManageViews,\n    showOnlyFavorites,\n    inErrorState,\n    hideShare,\n    children,\n    hideManageVariants,\n    hideApplyAutomatically,\n    hideSetAsDefault,\n    hideCreatedBy,\n    hideSaveAs,\n    dirtyStateText = '*',\n    dirtyState,\n    onSave,\n    onManageViewsCancel,\n    onSaveViewCancel,\n    ...rest\n  } = props;\n  useStylesheet(styleData, VariantManagement.displayName);\n  const popoverRef = useRef(null);\n  const [safeChildren, setSafeChildren] = useState(Children.toArray(children));\n  useEffect(() => {\n    setSafeChildren(Children.toArray(children));\n  }, [children]);\n  const [popoverOpen, setPopoverOpen] = useState(false);\n  const [manageViewsDialogOpen, setManageViewsDialogOpen] = useState(false);\n  const [saveAsDialogOpen, setSaveAsDialogOpen] = useState(false);\n  const [selectedVariant, setSelectedVariant] = useState(() => {\n    const currentSelectedVariant = safeChildren.find(item => /*#__PURE__*/isValidElement(item) && item.props.selected);\n    if (currentSelectedVariant) {\n      return {\n        ...currentSelectedVariant.props,\n        variantItem: currentSelectedVariant.ref\n      };\n    }\n  });\n  const [selectedSaveViewInputProps, setSelectedSaveViewInputProps] = useState(selectedVariant?.saveViewInputProps ?? {});\n  const handleClose = () => {\n    setPopoverOpen(false);\n  };\n  const handleManageClick = () => {\n    setManageViewsDialogOpen(true);\n    handleClose();\n  };\n  const handleManageClose = () => {\n    setManageViewsDialogOpen(false);\n  };\n  const handleOpenSaveAsDialog = () => {\n    setSaveAsDialogOpen(true);\n    handleClose();\n  };\n  const handleSaveAsClose = () => {\n    setSaveAsDialogOpen(false);\n  };\n  const handleSave = e => {\n    if (typeof onSave === 'function') {\n      onSave(enrichEventWithDetails(e, selectedVariant));\n    }\n  };\n  const handleSaveView = (e, selectedVariant) => {\n    if (typeof onSaveAs === 'function') {\n      onSaveAs(enrichEventWithDetails(e, selectedVariant));\n    }\n    setSelectedVariant(selectedVariant);\n    if (!e.defaultPrevented) {\n      handleSaveAsClose();\n    }\n  };\n  const handleSaveManageViews = (e, payload) => {\n    const {\n      defaultView,\n      updatedRows,\n      deletedRows\n    } = payload;\n    const callbackProperties = {\n      deletedVariants: [],\n      prevVariants: [],\n      updatedVariants: [],\n      variants: []\n    };\n    setSafeChildren(prev => Children.toArray(prev.map(child => {\n      if (! /*#__PURE__*/isValidElement(child)) {\n        return false;\n      }\n      const castChild = child;\n      let updatedProps = {};\n      const currentVariant = popoverRef.current.querySelector(`ui5-li[data-children=\"${castChild.props.children}\"]`);\n      callbackProperties.prevVariants.push(castChild.props);\n      if (defaultView) {\n        if (defaultView === castChild.props.children) {\n          updatedProps.isDefault = true;\n        } else if (castChild.props.isDefault) {\n          updatedProps.isDefault = false;\n        }\n      }\n      if (Object.keys(updatedRows).includes(castChild.props.children)) {\n        const {\n          currentVariant: _0,\n          ...rest\n        } = updatedRows[castChild.props.children];\n        updatedProps = {\n          ...updatedProps,\n          ...rest\n        };\n      }\n      if (deletedRows.has(castChild.props.children)) {\n        callbackProperties.deletedVariants.push(castChild.props);\n        return false;\n      }\n      if (Object.keys(updatedProps).length > 0) {\n        callbackProperties.updatedVariants.push({\n          ...castChild.props,\n          ...updatedProps,\n          variantItem: currentVariant,\n          prevVariant: {\n            ...castChild.props\n          }\n        });\n      }\n      callbackProperties.variants.push({\n        ...castChild.props,\n        ...updatedProps,\n        variantItem: currentVariant\n      });\n      return /*#__PURE__*/cloneElement(castChild, updatedProps);\n    })));\n    if (typeof onSaveManageViews === 'function') {\n      onSaveManageViews(enrichEventWithDetails(e, callbackProperties));\n    }\n    if (!e.defaultPrevented) {\n      handleManageClose();\n    }\n  };\n  const handleOpenVariantManagement = useCallback(e => {\n    popoverRef.current.opener = e.target;\n    setPopoverOpen(true);\n  }, [popoverRef]);\n  const handleCloseVariantManagement = e => {\n    stopPropagation(e);\n    setPopoverOpen(false);\n  };\n  const searchText = i18nBundle.getText(SEARCH);\n  const saveAsText = i18nBundle.getText(SAVE_AS);\n  const manageText = i18nBundle.getText(MANAGE);\n  const saveText = i18nBundle.getText(SAVE);\n  const a11ySearchText = i18nBundle.getText(SEARCH_VARIANT);\n  const selectViewText = i18nBundle.getText(SELECT_VIEW);\n  const variantManagementClasses = clsx(classNames.container, disabled && classNames.disabled, className);\n  const dirtyStateClasses = clsx(classNames.dirtyState, dirtyStateText !== '*' && classNames.dirtyStateText);\n  const selectVariantEventRef = useRef(undefined);\n  useEffect(() => {\n    if (selectVariantEventRef.current) {\n      if (typeof onSelect === 'function') {\n        onSelect(enrichEventWithDetails(selectVariantEventRef.current, {\n          selectedVariant\n        }));\n        selectVariantEventRef.current = undefined;\n      }\n    }\n  }, [selectedVariant, onSelect]);\n  useEffect(() => {\n    const selectedChild = safeChildren.find(item => /*#__PURE__*/isValidElement(item) && item.props.children === selectedVariant?.children);\n    setSelectedSaveViewInputProps(selectedChild?.props.saveViewInputProps ?? {});\n  }, [selectedVariant, safeChildren]);\n  const handleVariantItemSelect = e => {\n    setSelectedVariant({\n      ...e.detail.selectedItems[0].dataset,\n      variantItem: e.detail.selectedItems[0]\n    });\n    selectVariantEventRef.current = e;\n    if (closeOnItemSelect) {\n      handleClose();\n    }\n  };\n  const variantNames = safeChildren.map(item => /*#__PURE__*/isValidElement(item) && typeof item.props?.children === 'string' ? item.props.children : '');\n  const [favoriteChildren, setFavoriteChildren] = useState(undefined);\n  useEffect(() => {\n    if (showOnlyFavorites) {\n      setFavoriteChildren(safeChildren.filter(child => {\n        return /*#__PURE__*/isValidElement(child) && (child.props.favorite || child.props.isDefault);\n      }));\n    }\n    if (!showOnlyFavorites && favoriteChildren?.length > 0) {\n      setFavoriteChildren(undefined);\n    }\n  }, [showOnlyFavorites, safeChildren]);\n  const safeChildrenWithFavorites = favoriteChildren ?? safeChildren;\n  const showInput = safeChildrenWithFavorites.length > 10;\n  const [filteredChildren, setFilteredChildren] = useState(undefined);\n  const [searchValue, setSearchValue] = useState('');\n  const handleSearchInput = e => {\n    setSearchValue(e.target.value);\n    setFilteredChildren(safeChildrenWithFavorites.filter(child => typeof child?.props?.children === 'string' && child.props.children.toLowerCase().includes(e.target.value.toLowerCase())));\n  };\n  useEffect(() => {\n    if (filteredChildren) {\n      setFilteredChildren(safeChildrenWithFavorites.filter(child => typeof child?.props?.children === 'string' && child.props.children.toLowerCase().includes(searchValue)));\n    }\n  }, [safeChildrenWithFavorites]);\n\n  // todo: this applies if `readOnly` is set to `false` as well since the value is read via data-attribute and is therefore a string not a boolean\n  const showSaveBtn = dirtyState && !selectedVariant?.hasOwnProperty('readOnly');\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: variantManagementClasses,\n    style: style,\n    ...rest,\n    ref: ref,\n    children: /*#__PURE__*/_jsxs(VariantManagementContext.Provider, {\n      value: {\n        selectVariantItem: setSelectedVariant\n      },\n      children: [/*#__PURE__*/_jsxs(FlexBox, {\n        onClick: disabled ? undefined : handleOpenVariantManagement,\n        children: [/*#__PURE__*/_jsx(Title, {\n          level: level,\n          size: size,\n          className: classNames.title,\n          \"data-component-name\": \"VariantManagementTitle\",\n          children: selectedVariant?.children\n        }), dirtyState && /*#__PURE__*/_jsx(\"div\", {\n          className: dirtyStateClasses,\n          children: dirtyStateText\n        })]\n      }), /*#__PURE__*/_jsx(Button, {\n        className: clsx(classNames.navDownBtn, 'ui5-content-density-compact'),\n        tooltip: selectViewText,\n        accessibleName: selectViewText,\n        onClick: disabled ? undefined : handleOpenVariantManagement,\n        design: ButtonDesign.Transparent,\n        icon: navDownIcon,\n        disabled: disabled\n      }), /*#__PURE__*/_jsx(ResponsivePopover, {\n        open: popoverOpen,\n        className: classNames.popover,\n        ref: popoverRef,\n        headerText: titleText,\n        placement: placement,\n        footer: (showSaveBtn || !hideSaveAs || !hideManageVariants) && /*#__PURE__*/_jsx(Bar, {\n          design: BarDesign.Footer,\n          className: classNames.footer,\n          endContent: /*#__PURE__*/_jsxs(_Fragment, {\n            children: [!inErrorState && showSaveBtn && /*#__PURE__*/_jsx(Button, {\n              onClick: handleSave,\n              design: ButtonDesign.Emphasized,\n              children: saveText\n            }), !inErrorState && !hideSaveAs && /*#__PURE__*/_jsx(Button, {\n              onClick: handleOpenSaveAsDialog,\n              design: showSaveBtn ? ButtonDesign.Transparent : ButtonDesign.Emphasized,\n              disabled: !selectedVariant || Object.keys(selectedVariant).length === 0,\n              children: saveAsText\n            }), !inErrorState && !hideManageVariants && /*#__PURE__*/_jsx(Button, {\n              onClick: handleManageClick,\n              design: showSaveBtn || !hideSaveAs ? ButtonDesign.Transparent : ButtonDesign.Emphasized,\n              children: manageText\n            })]\n          })\n        }),\n        onClose: handleCloseVariantManagement,\n        children: inErrorState ? /*#__PURE__*/_jsx(IllustratedMessage, {\n          name: IllustrationMessageType.UnableToLoad\n        }) : /*#__PURE__*/_jsx(List, {\n          onSelectionChange: handleVariantItemSelect,\n          selectionMode: ListSelectionMode.Single,\n          header: showInput ? /*#__PURE__*/_jsx(\"div\", {\n            className: classNames.searchInputContainer,\n            tabIndex: -1,\n            children: /*#__PURE__*/_jsx(Input, {\n              className: classNames.searchInput,\n              accessibleName: a11ySearchText,\n              value: searchValue,\n              placeholder: searchText,\n              onInput: handleSearchInput,\n              showClearIcon: true,\n              icon: /*#__PURE__*/_jsx(Icon, {\n                name: searchIcon,\n                className: classNames.inputIcon\n              })\n            })\n          }) : undefined,\n          children: filteredChildren ?? safeChildrenWithFavorites\n        })\n      }), manageViewsDialogOpen && /*#__PURE__*/_jsx(ManageViewsDialog, {\n        onAfterClose: handleManageClose,\n        onManageViewsCancel: onManageViewsCancel,\n        handleSaveManageViews: handleSaveManageViews,\n        showShare: !hideShare,\n        showApplyAutomatically: !hideApplyAutomatically,\n        showCreatedBy: !hideCreatedBy,\n        showSetAsDefault: !hideSetAsDefault,\n        variantNames: variantNames,\n        showOnlyFavorites: showOnlyFavorites,\n        children: safeChildren\n      }), saveAsDialogOpen && /*#__PURE__*/_jsx(SaveViewDialog, {\n        onSaveViewCancel: onSaveViewCancel,\n        saveViewInputProps: selectedSaveViewInputProps,\n        showShare: !hideShare,\n        showApplyAutomatically: !hideApplyAutomatically,\n        showSetAsDefault: !hideSetAsDefault,\n        onAfterClose: handleSaveAsClose,\n        handleSave: handleSaveView,\n        selectedVariant: selectedVariant,\n        variantNames: variantNames\n      })]\n    })\n  });\n});\nVariantManagement.displayName = 'VariantManagement';\nexport { VariantManagement };","map":{"version":3,"names":["BarDesign","ButtonDesign","ListSelectionMode","PopoverPlacement","TitleLevel","IllustrationMessageType","navDownIcon","searchIcon","enrichEventWithDetails","useI18nBundle","useStylesheet","clsx","Children","cloneElement","forwardRef","isValidElement","useCallback","useEffect","useRef","useState","MANAGE","MY_VIEWS","SAVE","SAVE_AS","SEARCH","SEARCH_VARIANT","SELECT_VIEW","stopPropagation","VariantManagementContext","Bar","Button","Icon","IllustratedMessage","Input","List","ResponsivePopover","Title","FlexBox","ManageViewsDialog","SaveViewDialog","classNames","styleData","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VariantManagement","props","ref","i18nBundle","titleText","getText","className","style","placement","Bottom","level","H4","size","onSelect","closeOnItemSelect","disabled","onSaveAs","onSaveManageViews","showOnlyFavorites","inErrorState","hideShare","children","hideManageVariants","hideApplyAutomatically","hideSetAsDefault","hideCreatedBy","hideSaveAs","dirtyStateText","dirtyState","onSave","onManageViewsCancel","onSaveViewCancel","rest","displayName","popoverRef","safeChildren","setSafeChildren","toArray","popoverOpen","setPopoverOpen","manageViewsDialogOpen","setManageViewsDialogOpen","saveAsDialogOpen","setSaveAsDialogOpen","selectedVariant","setSelectedVariant","currentSelectedVariant","find","item","selected","variantItem","selectedSaveViewInputProps","setSelectedSaveViewInputProps","saveViewInputProps","handleClose","handleManageClick","handleManageClose","handleOpenSaveAsDialog","handleSaveAsClose","handleSave","e","handleSaveView","defaultPrevented","handleSaveManageViews","payload","defaultView","updatedRows","deletedRows","callbackProperties","deletedVariants","prevVariants","updatedVariants","variants","prev","map","child","castChild","updatedProps","currentVariant","current","querySelector","push","isDefault","Object","keys","includes","_0","has","length","prevVariant","handleOpenVariantManagement","opener","target","handleCloseVariantManagement","searchText","saveAsText","manageText","saveText","a11ySearchText","selectViewText","variantManagementClasses","container","dirtyStateClasses","selectVariantEventRef","undefined","selectedChild","handleVariantItemSelect","detail","selectedItems","dataset","variantNames","favoriteChildren","setFavoriteChildren","filter","favorite","safeChildrenWithFavorites","showInput","filteredChildren","setFilteredChildren","searchValue","setSearchValue","handleSearchInput","value","toLowerCase","showSaveBtn","hasOwnProperty","Provider","selectVariantItem","onClick","title","navDownBtn","tooltip","accessibleName","design","Transparent","icon","open","popover","headerText","footer","Footer","endContent","Emphasized","onClose","name","UnableToLoad","onSelectionChange","selectionMode","Single","header","searchInputContainer","tabIndex","searchInput","placeholder","onInput","showClearIcon","inputIcon","onAfterClose","showShare","showApplyAutomatically","showCreatedBy","showSetAsDefault"],"sources":["/home/user/projects/reactproj/node_modules/@ui5/webcomponents-react/dist/components/VariantManagement/index.js"],"sourcesContent":["'use client';\n\nimport '@ui5/webcomponents-fiori/dist/illustrations/UnableToLoad.js';\nimport BarDesign from '@ui5/webcomponents/dist/types/BarDesign.js';\nimport ButtonDesign from '@ui5/webcomponents/dist/types/ButtonDesign.js';\nimport ListSelectionMode from '@ui5/webcomponents/dist/types/ListSelectionMode.js';\nimport PopoverPlacement from '@ui5/webcomponents/dist/types/PopoverPlacement.js';\nimport TitleLevel from '@ui5/webcomponents/dist/types/TitleLevel.js';\nimport IllustrationMessageType from '@ui5/webcomponents-fiori/dist/types/IllustrationMessageType.js';\nimport navDownIcon from '@ui5/webcomponents-icons/dist/navigation-down-arrow.js';\nimport searchIcon from '@ui5/webcomponents-icons/dist/search.js';\nimport { enrichEventWithDetails, useI18nBundle, useStylesheet } from '@ui5/webcomponents-react-base';\nimport { clsx } from 'clsx';\nimport { Children, cloneElement, forwardRef, isValidElement, useCallback, useEffect, useRef, useState } from 'react';\nimport { MANAGE, MY_VIEWS, SAVE, SAVE_AS, SEARCH, SEARCH_VARIANT, SELECT_VIEW } from '../../i18n/i18n-defaults.js';\nimport { stopPropagation } from '../../internal/stopPropagation.js';\nimport { VariantManagementContext } from '../../internal/VariantManagementContext.js';\nimport { Bar, Button, Icon, IllustratedMessage, Input, List, ResponsivePopover, Title } from '../../webComponents/index.js';\nimport { FlexBox } from '../FlexBox/index.js';\nimport { ManageViewsDialog } from './ManageViewsDialog.js';\nimport { SaveViewDialog } from './SaveViewDialog.js';\nimport { classNames, styleData } from './VariantManagement.module.css.js';\n\n/**\n * The VariantManagement can be used to manage variants (views). You can use this component to create and maintain personalization changes.\n *\n * __Note:__ On the user interface, variants are generally referred to as \"views\".\n *\n * ### Matching header styles\n *\n * To ensure consistent header styles for different use-cases of the `VariantManagement`, we recommend setting the following styles to the `ui5-title` component:\n *\n * #### DynamicPage & ObjectPage\n *\n * - `font-family: var(--sapObjectHeader_Title_FontFamily);`\n *\n * __Header expanded__\n *\n * - `font-size: var(--sapObjectHeader_Title_FontSize);`\n *\n * __Header collapsed/snapped__\n *\n * - `font-size: var(--sapObjectHeader_Title_SnappedFontSize);`\n *\n * #### Tables\n *\n * - `font-size: var(--sapGroup_Title_FontSize);`\n *\n * #### Example\n *\n * ```css\n * .variantManagement [data-component-name=\"VariantManagementTitle\"] {\n *     font-family: var(--sapObjectHeader_Title_FontFamily);\n *     font-size: var(--sapObjectHeader_Title_FontSize);\n * }\n * ```\n * ```jsx\n *  <VariantManagement className=\"variantManagement\">\n * ```\n *\n */\nimport { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nconst VariantManagement = /*#__PURE__*/forwardRef((props, ref) => {\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  const {\n    titleText = i18nBundle.getText(MY_VIEWS),\n    className,\n    style,\n    placement = PopoverPlacement.Bottom,\n    level = TitleLevel.H4,\n    size = TitleLevel.H4,\n    onSelect,\n    closeOnItemSelect,\n    disabled,\n    onSaveAs,\n    onSaveManageViews,\n    showOnlyFavorites,\n    inErrorState,\n    hideShare,\n    children,\n    hideManageVariants,\n    hideApplyAutomatically,\n    hideSetAsDefault,\n    hideCreatedBy,\n    hideSaveAs,\n    dirtyStateText = '*',\n    dirtyState,\n    onSave,\n    onManageViewsCancel,\n    onSaveViewCancel,\n    ...rest\n  } = props;\n  useStylesheet(styleData, VariantManagement.displayName);\n  const popoverRef = useRef(null);\n  const [safeChildren, setSafeChildren] = useState(Children.toArray(children));\n  useEffect(() => {\n    setSafeChildren(Children.toArray(children));\n  }, [children]);\n  const [popoverOpen, setPopoverOpen] = useState(false);\n  const [manageViewsDialogOpen, setManageViewsDialogOpen] = useState(false);\n  const [saveAsDialogOpen, setSaveAsDialogOpen] = useState(false);\n  const [selectedVariant, setSelectedVariant] = useState(() => {\n    const currentSelectedVariant = safeChildren.find(item => /*#__PURE__*/isValidElement(item) && item.props.selected);\n    if (currentSelectedVariant) {\n      return {\n        ...currentSelectedVariant.props,\n        variantItem: currentSelectedVariant.ref\n      };\n    }\n  });\n  const [selectedSaveViewInputProps, setSelectedSaveViewInputProps] = useState(selectedVariant?.saveViewInputProps ?? {});\n  const handleClose = () => {\n    setPopoverOpen(false);\n  };\n  const handleManageClick = () => {\n    setManageViewsDialogOpen(true);\n    handleClose();\n  };\n  const handleManageClose = () => {\n    setManageViewsDialogOpen(false);\n  };\n  const handleOpenSaveAsDialog = () => {\n    setSaveAsDialogOpen(true);\n    handleClose();\n  };\n  const handleSaveAsClose = () => {\n    setSaveAsDialogOpen(false);\n  };\n  const handleSave = e => {\n    if (typeof onSave === 'function') {\n      onSave(enrichEventWithDetails(e, selectedVariant));\n    }\n  };\n  const handleSaveView = (e, selectedVariant) => {\n    if (typeof onSaveAs === 'function') {\n      onSaveAs(enrichEventWithDetails(e, selectedVariant));\n    }\n    setSelectedVariant(selectedVariant);\n    if (!e.defaultPrevented) {\n      handleSaveAsClose();\n    }\n  };\n  const handleSaveManageViews = (e, payload) => {\n    const {\n      defaultView,\n      updatedRows,\n      deletedRows\n    } = payload;\n    const callbackProperties = {\n      deletedVariants: [],\n      prevVariants: [],\n      updatedVariants: [],\n      variants: []\n    };\n    setSafeChildren(prev => Children.toArray(prev.map(child => {\n      if (! /*#__PURE__*/isValidElement(child)) {\n        return false;\n      }\n      const castChild = child;\n      let updatedProps = {};\n      const currentVariant = popoverRef.current.querySelector(`ui5-li[data-children=\"${castChild.props.children}\"]`);\n      callbackProperties.prevVariants.push(castChild.props);\n      if (defaultView) {\n        if (defaultView === castChild.props.children) {\n          updatedProps.isDefault = true;\n        } else if (castChild.props.isDefault) {\n          updatedProps.isDefault = false;\n        }\n      }\n      if (Object.keys(updatedRows).includes(castChild.props.children)) {\n        const {\n          currentVariant: _0,\n          ...rest\n        } = updatedRows[castChild.props.children];\n        updatedProps = {\n          ...updatedProps,\n          ...rest\n        };\n      }\n      if (deletedRows.has(castChild.props.children)) {\n        callbackProperties.deletedVariants.push(castChild.props);\n        return false;\n      }\n      if (Object.keys(updatedProps).length > 0) {\n        callbackProperties.updatedVariants.push({\n          ...castChild.props,\n          ...updatedProps,\n          variantItem: currentVariant,\n          prevVariant: {\n            ...castChild.props\n          }\n        });\n      }\n      callbackProperties.variants.push({\n        ...castChild.props,\n        ...updatedProps,\n        variantItem: currentVariant\n      });\n      return /*#__PURE__*/cloneElement(castChild, updatedProps);\n    })));\n    if (typeof onSaveManageViews === 'function') {\n      onSaveManageViews(enrichEventWithDetails(e, callbackProperties));\n    }\n    if (!e.defaultPrevented) {\n      handleManageClose();\n    }\n  };\n  const handleOpenVariantManagement = useCallback(e => {\n    popoverRef.current.opener = e.target;\n    setPopoverOpen(true);\n  }, [popoverRef]);\n  const handleCloseVariantManagement = e => {\n    stopPropagation(e);\n    setPopoverOpen(false);\n  };\n  const searchText = i18nBundle.getText(SEARCH);\n  const saveAsText = i18nBundle.getText(SAVE_AS);\n  const manageText = i18nBundle.getText(MANAGE);\n  const saveText = i18nBundle.getText(SAVE);\n  const a11ySearchText = i18nBundle.getText(SEARCH_VARIANT);\n  const selectViewText = i18nBundle.getText(SELECT_VIEW);\n  const variantManagementClasses = clsx(classNames.container, disabled && classNames.disabled, className);\n  const dirtyStateClasses = clsx(classNames.dirtyState, dirtyStateText !== '*' && classNames.dirtyStateText);\n  const selectVariantEventRef = useRef(undefined);\n  useEffect(() => {\n    if (selectVariantEventRef.current) {\n      if (typeof onSelect === 'function') {\n        onSelect(enrichEventWithDetails(selectVariantEventRef.current, {\n          selectedVariant\n        }));\n        selectVariantEventRef.current = undefined;\n      }\n    }\n  }, [selectedVariant, onSelect]);\n  useEffect(() => {\n    const selectedChild = safeChildren.find(item => /*#__PURE__*/isValidElement(item) && item.props.children === selectedVariant?.children);\n    setSelectedSaveViewInputProps(selectedChild?.props.saveViewInputProps ?? {});\n  }, [selectedVariant, safeChildren]);\n  const handleVariantItemSelect = e => {\n    setSelectedVariant({\n      ...e.detail.selectedItems[0].dataset,\n      variantItem: e.detail.selectedItems[0]\n    });\n    selectVariantEventRef.current = e;\n    if (closeOnItemSelect) {\n      handleClose();\n    }\n  };\n  const variantNames = safeChildren.map(item => /*#__PURE__*/isValidElement(item) && typeof item.props?.children === 'string' ? item.props.children : '');\n  const [favoriteChildren, setFavoriteChildren] = useState(undefined);\n  useEffect(() => {\n    if (showOnlyFavorites) {\n      setFavoriteChildren(safeChildren.filter(child => {\n        return /*#__PURE__*/isValidElement(child) && (child.props.favorite || child.props.isDefault);\n      }));\n    }\n    if (!showOnlyFavorites && favoriteChildren?.length > 0) {\n      setFavoriteChildren(undefined);\n    }\n  }, [showOnlyFavorites, safeChildren]);\n  const safeChildrenWithFavorites = favoriteChildren ?? safeChildren;\n  const showInput = safeChildrenWithFavorites.length > 10;\n  const [filteredChildren, setFilteredChildren] = useState(undefined);\n  const [searchValue, setSearchValue] = useState('');\n  const handleSearchInput = e => {\n    setSearchValue(e.target.value);\n    setFilteredChildren(safeChildrenWithFavorites.filter(child => typeof child?.props?.children === 'string' && child.props.children.toLowerCase().includes(e.target.value.toLowerCase())));\n  };\n  useEffect(() => {\n    if (filteredChildren) {\n      setFilteredChildren(safeChildrenWithFavorites.filter(child => typeof child?.props?.children === 'string' && child.props.children.toLowerCase().includes(searchValue)));\n    }\n  }, [safeChildrenWithFavorites]);\n\n  // todo: this applies if `readOnly` is set to `false` as well since the value is read via data-attribute and is therefore a string not a boolean\n  const showSaveBtn = dirtyState && !selectedVariant?.hasOwnProperty('readOnly');\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: variantManagementClasses,\n    style: style,\n    ...rest,\n    ref: ref,\n    children: /*#__PURE__*/_jsxs(VariantManagementContext.Provider, {\n      value: {\n        selectVariantItem: setSelectedVariant\n      },\n      children: [/*#__PURE__*/_jsxs(FlexBox, {\n        onClick: disabled ? undefined : handleOpenVariantManagement,\n        children: [/*#__PURE__*/_jsx(Title, {\n          level: level,\n          size: size,\n          className: classNames.title,\n          \"data-component-name\": \"VariantManagementTitle\",\n          children: selectedVariant?.children\n        }), dirtyState && /*#__PURE__*/_jsx(\"div\", {\n          className: dirtyStateClasses,\n          children: dirtyStateText\n        })]\n      }), /*#__PURE__*/_jsx(Button, {\n        className: clsx(classNames.navDownBtn, 'ui5-content-density-compact'),\n        tooltip: selectViewText,\n        accessibleName: selectViewText,\n        onClick: disabled ? undefined : handleOpenVariantManagement,\n        design: ButtonDesign.Transparent,\n        icon: navDownIcon,\n        disabled: disabled\n      }), /*#__PURE__*/_jsx(ResponsivePopover, {\n        open: popoverOpen,\n        className: classNames.popover,\n        ref: popoverRef,\n        headerText: titleText,\n        placement: placement,\n        footer: (showSaveBtn || !hideSaveAs || !hideManageVariants) && /*#__PURE__*/_jsx(Bar, {\n          design: BarDesign.Footer,\n          className: classNames.footer,\n          endContent: /*#__PURE__*/_jsxs(_Fragment, {\n            children: [!inErrorState && showSaveBtn && /*#__PURE__*/_jsx(Button, {\n              onClick: handleSave,\n              design: ButtonDesign.Emphasized,\n              children: saveText\n            }), !inErrorState && !hideSaveAs && /*#__PURE__*/_jsx(Button, {\n              onClick: handleOpenSaveAsDialog,\n              design: showSaveBtn ? ButtonDesign.Transparent : ButtonDesign.Emphasized,\n              disabled: !selectedVariant || Object.keys(selectedVariant).length === 0,\n              children: saveAsText\n            }), !inErrorState && !hideManageVariants && /*#__PURE__*/_jsx(Button, {\n              onClick: handleManageClick,\n              design: showSaveBtn || !hideSaveAs ? ButtonDesign.Transparent : ButtonDesign.Emphasized,\n              children: manageText\n            })]\n          })\n        }),\n        onClose: handleCloseVariantManagement,\n        children: inErrorState ? /*#__PURE__*/_jsx(IllustratedMessage, {\n          name: IllustrationMessageType.UnableToLoad\n        }) : /*#__PURE__*/_jsx(List, {\n          onSelectionChange: handleVariantItemSelect,\n          selectionMode: ListSelectionMode.Single,\n          header: showInput ? /*#__PURE__*/_jsx(\"div\", {\n            className: classNames.searchInputContainer,\n            tabIndex: -1,\n            children: /*#__PURE__*/_jsx(Input, {\n              className: classNames.searchInput,\n              accessibleName: a11ySearchText,\n              value: searchValue,\n              placeholder: searchText,\n              onInput: handleSearchInput,\n              showClearIcon: true,\n              icon: /*#__PURE__*/_jsx(Icon, {\n                name: searchIcon,\n                className: classNames.inputIcon\n              })\n            })\n          }) : undefined,\n          children: filteredChildren ?? safeChildrenWithFavorites\n        })\n      }), manageViewsDialogOpen && /*#__PURE__*/_jsx(ManageViewsDialog, {\n        onAfterClose: handleManageClose,\n        onManageViewsCancel: onManageViewsCancel,\n        handleSaveManageViews: handleSaveManageViews,\n        showShare: !hideShare,\n        showApplyAutomatically: !hideApplyAutomatically,\n        showCreatedBy: !hideCreatedBy,\n        showSetAsDefault: !hideSetAsDefault,\n        variantNames: variantNames,\n        showOnlyFavorites: showOnlyFavorites,\n        children: safeChildren\n      }), saveAsDialogOpen && /*#__PURE__*/_jsx(SaveViewDialog, {\n        onSaveViewCancel: onSaveViewCancel,\n        saveViewInputProps: selectedSaveViewInputProps,\n        showShare: !hideShare,\n        showApplyAutomatically: !hideApplyAutomatically,\n        showSetAsDefault: !hideSetAsDefault,\n        onAfterClose: handleSaveAsClose,\n        handleSave: handleSaveView,\n        selectedVariant: selectedVariant,\n        variantNames: variantNames\n      })]\n    })\n  });\n});\nVariantManagement.displayName = 'VariantManagement';\nexport { VariantManagement };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}