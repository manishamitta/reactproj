{"ast":null,"code":"\"use strict\";\n\nimport r from \"../util/createLinkInHead.js\";\nimport s from \"../validateThemeRoot.js\";\nimport { getThemeRoot as a } from \"../InitialConfiguration.js\";\nimport { getTheme as m } from \"./Theme.js\";\nimport { attachConfigurationReset as d } from \"./ConfigurationReset.js\";\nlet t;\nd(() => {\n  t = void 0;\n});\nconst n = () => (t === void 0 && (t = a()), t),\n  c = e => {\n    if (t !== e) {\n      if (t = e, !s(e)) {\n        console.warn(`The ${e} is not valid. Check the allowed origins as suggested in the \"setThemeRoot\" description.`);\n        return;\n      }\n      return i(m());\n    }\n  },\n  u = e => `${n()}Base/baseLib/${e}/css_variables.css`,\n  i = async e => {\n    const o = document.querySelector(`[sap-ui-webcomponents-theme=\"${e}\"]`);\n    o && document.head.removeChild(o), await r(u(e), {\n      \"sap-ui-webcomponents-theme\": e\n    });\n  };\nexport { n as getThemeRoot, c as setThemeRoot, i as attachCustomThemeStylesToHead };","map":{"version":3,"names":["r","s","getThemeRoot","a","getTheme","m","attachConfigurationReset","d","t","n","c","e","console","warn","i","u","o","document","querySelector","head","removeChild","setThemeRoot","attachCustomThemeStylesToHead"],"sources":["/home/user/projects/reactproj/node_modules/@ui5/webcomponents-base/src/config/ThemeRoot.ts"],"sourcesContent":["import createLinkInHead from \"../util/createLinkInHead.js\";\nimport validateThemeRoot from \"../validateThemeRoot.js\";\nimport { getThemeRoot as getConfiguredThemeRoot } from \"../InitialConfiguration.js\";\nimport { getTheme } from \"./Theme.js\";\nimport { attachConfigurationReset } from \"./ConfigurationReset.js\";\n\nlet currThemeRoot: string | undefined;\n\nattachConfigurationReset(() => {\n\tcurrThemeRoot = undefined;\n});\n\n/**\n * Returns the current theme root.\n *\n * @public\n * @since 1.14.0\n * @returns { string } the current theme root\n */\nconst getThemeRoot = (): string | undefined => {\n\tif (currThemeRoot === undefined) {\n\t\tcurrThemeRoot = getConfiguredThemeRoot();\n\t}\n\n\treturn currThemeRoot;\n};\n\n/**\n * Sets theme root for the current theme.\n * When set, the framework will validate the theme root and fetch the theme styles (CSS variables) from this location.\n *\n * **Note:** The feature is specific to custom themes, created with the `UI Theme Designer`.\n * The provided theme root is used only as a base to construct the actual location of the theme styles: `{themeRoot}/.../css_variables.css`.\n *\n * **Note:** Certain security restrictions will apply before fetching the theme assets.\n * Absolute URLs to a different origin than the current page will result in using the current page as an origin.\n * To allow specific origins, use &lt;meta name=\"sap-allowedThemeOrigins\" content=\"https://my-example-host.com/\"&gt; tag inside the &lt;head&gt; of the page.\n *\n * @public\n * @since 1.14.0\n * @param { string } themeRoot the new theme root\n * @returns { Promise<void> }\n */\nconst setThemeRoot = (themeRoot: string): Promise<void> | undefined => {\n\tif (currThemeRoot === themeRoot) {\n\t\treturn;\n\t}\n\n\tcurrThemeRoot = themeRoot;\n\n\tif (!validateThemeRoot(themeRoot)) {\n\t\tconsole.warn(`The ${themeRoot} is not valid. Check the allowed origins as suggested in the \"setThemeRoot\" description.`); // eslint-disable-line\n\t\treturn;\n\t}\n\n\treturn attachCustomThemeStylesToHead(getTheme());\n};\n\nconst formatThemeLink = (theme: string) => {\n\treturn `${getThemeRoot()!}Base/baseLib/${theme}/css_variables.css`; // theme root is always set at this point.\n};\n\nconst attachCustomThemeStylesToHead = async (theme: string): Promise<void> => {\n\tconst link = document.querySelector(`[sap-ui-webcomponents-theme=\"${theme}\"]`);\n\n\tif (link) {\n\t\tdocument.head.removeChild(link);\n\t}\n\n\tawait createLinkInHead(formatThemeLink(theme), { \"sap-ui-webcomponents-theme\": theme });\n};\n\nexport {\n\tgetThemeRoot,\n\tsetThemeRoot,\n\tattachCustomThemeStylesToHead,\n};\n"],"mappings":";;AAAA,OAAOA,CAAA,MAAsB;AAC7B,OAAOC,CAAA,MAAuB;AAC9B,SAASC,YAAA,IAAgBC,CAAA,QAA8B;AACvD,SAASC,QAAA,IAAAC,CAAA,QAAgB;AACzB,SAASC,wBAAA,IAAAC,CAAA,QAAgC;AAEzC,IAAIC,CAAA;AAEJD,CAAA,CAAyB,MAAM;EAC9BC,CAAA,GAAgB,MACjB;AAAA,CAAC;AASD,MAAMC,CAAA,GAAeP,CAAA,MAChBM,CAAA,KAAkB,WACrBA,CAAA,GAAgBL,CAAA,CAAuB,IAGjCK,CAAA;EAmBFE,CAAA,GAAgBC,CAAA,IAAiD;IACtE,IAAIH,CAAA,KAAkBG,CAAA,EAMtB;MAAA,IAFAH,CAAA,GAAgBG,CAAA,EAEZ,CAACV,CAAA,CAAkBU,CAAS,GAAG;QAClCC,OAAA,CAAQC,IAAA,CAAK,OAAOF,CAAS,0FAA0F;QACvH;MACD;MAEA,OAAOG,CAAA,CAA8BT,CAAA,CAAS,CAAC;IAAA;EAChD;EAEMU,CAAA,GAAmBJ,CAAA,IACjB,GAAGF,CAAA,CAAa,CAAE,gBAAgBE,CAAK;EAGzCG,CAAA,GAAgC,MAAOH,CAAA,IAAiC;IAC7E,MAAMK,CAAA,GAAOC,QAAA,CAASC,aAAA,CAAc,gCAAgCP,CAAK,IAAI;IAEzEK,CAAA,IACHC,QAAA,CAASE,IAAA,CAAKC,WAAA,CAAYJ,CAAI,GAG/B,MAAMhB,CAAA,CAAiBe,CAAA,CAAgBJ,CAAK,GAAG;MAAE,8BAA8BA;IAAM,CAAC,CACvF;EAAA;AAEA,SACCF,CAAA,IAAAP,YAAA,EACAQ,CAAA,IAAAW,YAAA,EACAP,CAAA,IAAAQ,6BAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}