{"ast":null,"code":"import { AnalyticalTableSelectionBehavior, AnalyticalTableSelectionMode } from '../../../enums/index.js';\nconst setCellProps = (cellProps, _ref) => {\n  let {\n    cell,\n    instance\n  } = _ref;\n  const {\n    column,\n    row,\n    value\n  } = cell;\n  const columnIndex = instance.visibleColumns.findIndex(_ref2 => {\n    let {\n      id\n    } = _ref2;\n    return id === column.id;\n  });\n  const {\n    alwaysShowSubComponent,\n    renderRowSubComponent,\n    translatableTexts,\n    selectionMode,\n    selectionBehavior\n  } = instance.webComponentsReactProperties;\n  const updatedCellProps = {\n    'aria-colindex': columnIndex + 1,\n    role: 'gridcell'\n  }; // aria index is 1 based, not 0\n\n  const RowSubComponent = typeof renderRowSubComponent === 'function' ? renderRowSubComponent(row) : undefined;\n  const rowIsExpandable = row.canExpand || RowSubComponent && !alwaysShowSubComponent;\n  const userCols = instance.visibleColumns.filter(_ref3 => {\n    let {\n      id\n    } = _ref3;\n    return id !== '__ui5wcr__internal_selection_column' && id !== '__ui5wcr__internal_highlight_column' && id !== '__ui5wcr__internal_navigation_column';\n  });\n  const isFirstUserCol = userCols[0]?.id === column.id || userCols[0]?.accessor === column.accessor;\n  updatedCellProps['data-is-first-column'] = isFirstUserCol;\n  updatedCellProps['aria-label'] = column.headerLabel || (typeof column.Header === 'string' ? column.Header : '');\n  updatedCellProps['aria-label'] &&= `${updatedCellProps['aria-label']} `;\n  updatedCellProps['aria-label'] += value || value === 0 ? `${value} ` : '';\n  if (isFirstUserCol && rowIsExpandable || row.isGrouped && row.canExpand) {\n    updatedCellProps.onKeyDown = row.getToggleRowExpandedProps?.()?.onKeyDown;\n    let ariaLabel = '';\n    if (row.isGrouped) {\n      ariaLabel += translatableTexts.groupedA11yText + ',';\n    }\n    if (row.isExpanded) {\n      updatedCellProps['aria-expanded'] = 'true';\n      ariaLabel += ` ${translatableTexts.collapseA11yText}`;\n    } else {\n      updatedCellProps['aria-expanded'] = 'false';\n      ariaLabel += ` ${translatableTexts.expandA11yText}`;\n    }\n    updatedCellProps['aria-label'] += ariaLabel;\n  } else if (selectionMode !== AnalyticalTableSelectionMode.None && selectionBehavior !== AnalyticalTableSelectionBehavior.RowSelector && !row.isGrouped || column.id === '__ui5wcr__internal_selection_column') {\n    if (row.isSelected) {\n      updatedCellProps['aria-selected'] = 'true';\n      updatedCellProps['aria-label'] += ` ${translatableTexts.unselectA11yText}`;\n    } else {\n      updatedCellProps['aria-selected'] = 'false';\n      updatedCellProps['aria-label'] += ` ${translatableTexts.selectA11yText}`;\n    }\n  }\n  const {\n    cellLabel\n  } = cell.column;\n  if (typeof cellLabel === 'function') {\n    cell.cellLabel = updatedCellProps['aria-label'];\n    updatedCellProps['aria-label'] = cellLabel({\n      cell,\n      instance\n    });\n  }\n  return [cellProps, updatedCellProps];\n};\nconst setHeaderProps = (headerProps, _ref4) => {\n  let {\n    column,\n    instance\n  } = _ref4;\n  const {\n    translatableTexts\n  } = instance.webComponentsReactProperties;\n  if (!column) {\n    return headerProps;\n  }\n  const isFiltered = column?.filterValue && column?.filterValue.length > 0;\n  const updatedProps = {};\n  updatedProps['aria-label'] = column.headerLabel ??= '';\n  if (updatedProps['aria-label']) {\n    updatedProps['aria-label'] += ' ';\n  }\n  if (column.isSorted) {\n    updatedProps['aria-sort'] = column.isSortedDesc ? 'descending' : 'ascending';\n  }\n  if (isFiltered) {\n    updatedProps['aria-label'] += translatableTexts.filteredA11yText;\n  }\n  if (column.isGrouped) {\n    if (updatedProps['aria-label']) {\n      updatedProps['aria-label'] += ` ${translatableTexts.groupedA11yText}`;\n    } else {\n      updatedProps['aria-label'] += translatableTexts.groupedA11yText;\n    }\n  }\n  return [headerProps, {\n    isFiltered,\n    ...updatedProps\n  }];\n};\nexport const useA11y = hooks => {\n  hooks.getCellProps.push(setCellProps);\n  hooks.getHeaderProps.push(setHeaderProps);\n};\nuseA11y.pluginName = 'useA11y';","map":{"version":3,"names":["AnalyticalTableSelectionBehavior","AnalyticalTableSelectionMode","setCellProps","cellProps","_ref","cell","instance","column","row","value","columnIndex","visibleColumns","findIndex","_ref2","id","alwaysShowSubComponent","renderRowSubComponent","translatableTexts","selectionMode","selectionBehavior","webComponentsReactProperties","updatedCellProps","role","RowSubComponent","undefined","rowIsExpandable","canExpand","userCols","filter","_ref3","isFirstUserCol","accessor","headerLabel","Header","isGrouped","onKeyDown","getToggleRowExpandedProps","ariaLabel","groupedA11yText","isExpanded","collapseA11yText","expandA11yText","None","RowSelector","isSelected","unselectA11yText","selectA11yText","cellLabel","setHeaderProps","headerProps","_ref4","isFiltered","filterValue","length","updatedProps","isSorted","isSortedDesc","filteredA11yText","useA11y","hooks","getCellProps","push","getHeaderProps","pluginName"],"sources":["/home/user/projects/reactproj/node_modules/@ui5/webcomponents-react/dist/components/AnalyticalTable/hooks/useA11y.js"],"sourcesContent":["import { AnalyticalTableSelectionBehavior, AnalyticalTableSelectionMode } from '../../../enums/index.js';\nconst setCellProps = (cellProps, {\n  cell,\n  instance\n}) => {\n  const {\n    column,\n    row,\n    value\n  } = cell;\n  const columnIndex = instance.visibleColumns.findIndex(({\n    id\n  }) => id === column.id);\n  const {\n    alwaysShowSubComponent,\n    renderRowSubComponent,\n    translatableTexts,\n    selectionMode,\n    selectionBehavior\n  } = instance.webComponentsReactProperties;\n  const updatedCellProps = {\n    'aria-colindex': columnIndex + 1,\n    role: 'gridcell'\n  }; // aria index is 1 based, not 0\n\n  const RowSubComponent = typeof renderRowSubComponent === 'function' ? renderRowSubComponent(row) : undefined;\n  const rowIsExpandable = row.canExpand || RowSubComponent && !alwaysShowSubComponent;\n  const userCols = instance.visibleColumns.filter(({\n    id\n  }) => id !== '__ui5wcr__internal_selection_column' && id !== '__ui5wcr__internal_highlight_column' && id !== '__ui5wcr__internal_navigation_column');\n  const isFirstUserCol = userCols[0]?.id === column.id || userCols[0]?.accessor === column.accessor;\n  updatedCellProps['data-is-first-column'] = isFirstUserCol;\n  updatedCellProps['aria-label'] = column.headerLabel || (typeof column.Header === 'string' ? column.Header : '');\n  updatedCellProps['aria-label'] &&= `${updatedCellProps['aria-label']} `;\n  updatedCellProps['aria-label'] += value || value === 0 ? `${value} ` : '';\n  if (isFirstUserCol && rowIsExpandable || row.isGrouped && row.canExpand) {\n    updatedCellProps.onKeyDown = row.getToggleRowExpandedProps?.()?.onKeyDown;\n    let ariaLabel = '';\n    if (row.isGrouped) {\n      ariaLabel += translatableTexts.groupedA11yText + ',';\n    }\n    if (row.isExpanded) {\n      updatedCellProps['aria-expanded'] = 'true';\n      ariaLabel += ` ${translatableTexts.collapseA11yText}`;\n    } else {\n      updatedCellProps['aria-expanded'] = 'false';\n      ariaLabel += ` ${translatableTexts.expandA11yText}`;\n    }\n    updatedCellProps['aria-label'] += ariaLabel;\n  } else if (selectionMode !== AnalyticalTableSelectionMode.None && selectionBehavior !== AnalyticalTableSelectionBehavior.RowSelector && !row.isGrouped || column.id === '__ui5wcr__internal_selection_column') {\n    if (row.isSelected) {\n      updatedCellProps['aria-selected'] = 'true';\n      updatedCellProps['aria-label'] += ` ${translatableTexts.unselectA11yText}`;\n    } else {\n      updatedCellProps['aria-selected'] = 'false';\n      updatedCellProps['aria-label'] += ` ${translatableTexts.selectA11yText}`;\n    }\n  }\n  const {\n    cellLabel\n  } = cell.column;\n  if (typeof cellLabel === 'function') {\n    cell.cellLabel = updatedCellProps['aria-label'];\n    updatedCellProps['aria-label'] = cellLabel({\n      cell,\n      instance\n    });\n  }\n  return [cellProps, updatedCellProps];\n};\nconst setHeaderProps = (headerProps, {\n  column,\n  instance\n}) => {\n  const {\n    translatableTexts\n  } = instance.webComponentsReactProperties;\n  if (!column) {\n    return headerProps;\n  }\n  const isFiltered = column?.filterValue && column?.filterValue.length > 0;\n  const updatedProps = {};\n  updatedProps['aria-label'] = column.headerLabel ??= '';\n  if (updatedProps['aria-label']) {\n    updatedProps['aria-label'] += ' ';\n  }\n  if (column.isSorted) {\n    updatedProps['aria-sort'] = column.isSortedDesc ? 'descending' : 'ascending';\n  }\n  if (isFiltered) {\n    updatedProps['aria-label'] += translatableTexts.filteredA11yText;\n  }\n  if (column.isGrouped) {\n    if (updatedProps['aria-label']) {\n      updatedProps['aria-label'] += ` ${translatableTexts.groupedA11yText}`;\n    } else {\n      updatedProps['aria-label'] += translatableTexts.groupedA11yText;\n    }\n  }\n  return [headerProps, {\n    isFiltered,\n    ...updatedProps\n  }];\n};\nexport const useA11y = hooks => {\n  hooks.getCellProps.push(setCellProps);\n  hooks.getHeaderProps.push(setHeaderProps);\n};\nuseA11y.pluginName = 'useA11y';"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}