{"ast":null,"code":"\"use strict\";\n\nconst t = new WeakMap();\nclass a {\n  static get tasks() {\n    return t;\n  }\n  static enqueue(s, e) {\n    t.has(s) || t.set(s, []), t.get(s).push(e);\n  }\n  static run(s, e) {\n    return t.has(s) || t.set(s, []), e().then(() => {\n      const T = t.get(s);\n      if (T.length > 0) return a.run(s, T.shift());\n      t.delete(s);\n    });\n  }\n  static push(s, e) {\n    t.get(s) ? a.enqueue(s, e) : a.run(s, e);\n  }\n}\nexport default a;","map":{"version":3,"names":["t","WeakMap","a","tasks","enqueue","s","e","has","set","get","push","run","then","T","length","shift","delete"],"sources":["/home/user/projects/reactproj/node_modules/@ui5/webcomponents-base/src/animations/AnimationQueue.ts"],"sourcesContent":["type TaskType =\t() => Promise<void>;\nconst tasks = new WeakMap<HTMLElement, Array<TaskType>>();\n\nclass AnimationQueue {\n\tstatic get tasks() {\n\t\treturn tasks;\n\t}\n\n\tstatic enqueue(element: HTMLElement, task: TaskType) {\n\t\tif (!tasks.has(element)) {\n\t\t\ttasks.set(element, []);\n\t\t}\n\n\t\ttasks.get(element)!.push(task);\n\t}\n\n\tstatic run(element: HTMLElement, task: TaskType): Promise<void> {\n\t\tif (!tasks.has(element)) {\n\t\t\ttasks.set(element, []);\n\t\t}\n\n\t\treturn task().then(() => {\n\t\t\tconst elementTasks = tasks.get(element);\n\n\t\t\tif (elementTasks!.length > 0) {\n\t\t\t\treturn AnimationQueue.run(element, elementTasks!.shift()!);\n\t\t\t}\n\t\t\ttasks.delete(element);\n\t\t});\n\t}\n\n\tstatic push(element: HTMLElement, task: TaskType) {\n\t\tconst elementTasks = tasks.get(element);\n\n\t\tif (elementTasks) {\n\t\t\tAnimationQueue.enqueue(element, task);\n\t\t} else {\n\t\t\tAnimationQueue.run(element, task);\n\t\t}\n\t}\n}\n\nexport default AnimationQueue;\n"],"mappings":";;AACA,MAAMA,CAAA,GAAQ,IAAIC,OAAA;AAElB,MAAMC,CAAe;EACpB,WAAWC,MAAA,EAAQ;IAClB,OAAOH,CACR;EAAA;EAEA,OAAOI,QAAQC,CAAA,EAAsBC,CAAA,EAAgB;IAC/CN,CAAA,CAAMO,GAAA,CAAIF,CAAO,KACrBL,CAAA,CAAMQ,GAAA,CAAIH,CAAA,EAAS,EAAE,GAGtBL,CAAA,CAAMS,GAAA,CAAIJ,CAAO,EAAGK,IAAA,CAAKJ,CAAI,CAC9B;EAAA;EAEA,OAAOK,IAAIN,CAAA,EAAsBC,CAAA,EAA+B;IAC/D,OAAKN,CAAA,CAAMO,GAAA,CAAIF,CAAO,KACrBL,CAAA,CAAMQ,GAAA,CAAIH,CAAA,EAAS,EAAE,GAGfC,CAAA,CAAK,EAAEM,IAAA,CAAK,MAAM;MACxB,MAAMC,CAAA,GAAeb,CAAA,CAAMS,GAAA,CAAIJ,CAAO;MAEtC,IAAIQ,CAAA,CAAcC,MAAA,GAAS,GAC1B,OAAOZ,CAAA,CAAeS,GAAA,CAAIN,CAAA,EAASQ,CAAA,CAAcE,KAAA,CAAM,CAAE;MAE1Df,CAAA,CAAMgB,MAAA,CAAOX,CAAO,CACrB;IAAA,CAAC,CACF;EAAA;EAEA,OAAOK,KAAKL,CAAA,EAAsBC,CAAA,EAAgB;IAC5BN,CAAA,CAAMS,GAAA,CAAIJ,CAAO,IAGrCH,CAAA,CAAeE,OAAA,CAAQC,CAAA,EAASC,CAAI,IAEpCJ,CAAA,CAAeS,GAAA,CAAIN,CAAA,EAASC,CAAI,CAElC;EAAA;AACD;AAEA,eAAeJ,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}