{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar MediaGallery_1;\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport MediaRange from \"@ui5/webcomponents-base/dist/MediaRange.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport NavigationMode from \"@ui5/webcomponents-base/dist/types/NavigationMode.js\";\nimport UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport Button from \"@ui5/webcomponents/dist/Button.js\";\nimport Carousel from \"@ui5/webcomponents/dist/Carousel.js\";\nimport customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport slot from \"@ui5/webcomponents-base/dist/decorators/slot.js\";\nimport event from \"@ui5/webcomponents-base/dist/decorators/event.js\";\nimport MediaGalleryItem from \"./MediaGalleryItem.js\";\nimport MediaGalleryItemLayout from \"./types/MediaGalleryItemLayout.js\";\nimport MediaGalleryLayout from \"./types/MediaGalleryLayout.js\";\n// Styles\nimport MediaGalleryCss from \"./generated/themes/MediaGallery.css.js\";\n// Template\nimport MediaGalleryTemplate from \"./generated/templates/MediaGalleryTemplate.lit.js\";\n// The allowed number of thumbnail columns on each size\n// (relevant when `showAllThumbnails` is enabled)\nconst COLUMNS_COUNT = {\n  \"S\": 1,\n  \"M\": 2,\n  \"L\": 3,\n  \"XL\": 4\n};\n/**\n * @class\n *\n * ### Overview\n *\n * The `ui5-media-gallery` component allows the user to browse through multimedia items. Currently,\n * the supported items are images and videos. The items should be defined using the `ui5-media-gallery-item`\n * component.\n *\n * The items are initially displayed as thumbnails. When the user selects a thumbnail, the corresponding item\n * is displayed in larger size.\n *\n * The component is responsive by default and adjusts the position of the menu with respect to viewport size,\n * but the application is able to further customize the layout via the provided API.\n *\n * ### Keyboard Handling\n * The `ui5-media-gallery` provides advanced keyboard handling.\n *\n * When the thumbnails menu is focused the following keyboard\n * shortcuts allow the user to navigate through the thumbnail items:\n *\n * - [Up] or [Down] - Navigates up and down the items\n * - [Home] - Navigates to first item\n * - [End] - Navigates to the last item\n * - [Space], [Enter] - Selects an item\n *\n * ### ES6 Module Import\n * `import \"@ui5/webcomponents-fiori/dist/MediaGallery.js\";`\n *\n * `import \"@ui5/webcomponents-fiori/dist/MediaGalleryItem.js\";`\n * @constructor\n * @extends UI5Element\n * @public\n * @since 1.1.0\n */\nlet MediaGallery = MediaGallery_1 = class MediaGallery extends UI5Element {\n  constructor() {\n    super();\n    /**\n     * If set to `true`, all thumbnails are rendered in a scrollable container.\n     * If `false`, only up to five thumbnails are rendered, followed by\n     * an overflow button that shows the count of the remaining thumbnails.\n     * @default false\n     * @public\n     */\n    this.showAllThumbnails = false;\n    /**\n     * If enabled, a `display-area-click` event is fired\n     * when the user clicks or taps on the display area.\n     *\n     * The display area is the central area that contains\n     * the enlarged content of the currently selected item.\n     * @default false\n     * @public\n     */\n    this.interactiveDisplayArea = false;\n    /**\n     * Determines the layout of the component.\n     * @default \"Auto\"\n     * @public\n     */\n    this.layout = \"Auto\";\n    /**\n     * Determines the horizontal alignment of the thumbnails menu\n     * vs. the central display area.\n     * @default \"Left\"\n     * @public\n     */\n    this.menuHorizontalAlign = \"Left\";\n    /**\n     * Determines the vertical alignment of the thumbnails menu\n     * vs. the central display area.\n     * @default \"Bottom\"\n     * @public\n     */\n    this.menuVerticalAlign = \"Bottom\";\n    /**\n     * Determines the actual applied layout type\n     * (esp. needed when the app did not specify a fixed layout type\n     * but selected `Auto` layout type).\n     * @default \"Vertical\"\n     * @private\n     */\n    this.effectiveLayout = \"Vertical\";\n    /**\n     * Defines the current media query size.\n     * @private\n     */\n    this.mediaRange = \"S\";\n    /**\n     * The number of items in the overflow.\n     * @private\n     */\n    this._overflowSize = 0;\n    this._onResize = this._updateLayout.bind(this);\n    this._itemNavigation = new ItemNavigation(this, {\n      navigationMode: NavigationMode.Auto,\n      getItemsCallback: () => this._getFocusableItems()\n    });\n  }\n  onEnterDOM() {\n    !isPhone() && ResizeHandler.register(this, this._onResize);\n  }\n  onExitDOM() {\n    !isPhone() && ResizeHandler.deregister(this, this._onResize);\n  }\n  onAfterRendering() {\n    this._updateLayout();\n    this._updateSelection();\n  }\n  _updateSelection() {\n    let itemToSelect = this.items.find(item => item.selected);\n    if (!itemToSelect || !this._isSelectableItem(itemToSelect)) {\n      itemToSelect = this._findSelectableItem();\n    }\n    if (itemToSelect && itemToSelect !== this._selectedItem) {\n      this._selectItem(itemToSelect);\n    }\n  }\n  _isSelectableItem(item) {\n    return !item.disabled && !item.hidden;\n  }\n  _findSelectableItem() {\n    return this.items.find(this._isSelectableItem);\n  }\n  _updateMediaRange(width) {\n    this.mediaRange = MediaRange.getCurrentRange(MediaRange.RANGESETS.RANGE_4STEPS, width);\n  }\n  _updateLayout() {\n    const rootNode = this.getDomRef(),\n      height = rootNode.offsetHeight,\n      width = rootNode.offsetWidth;\n    if (!width || !height || isPhone()) {\n      return;\n    }\n    this._updateMediaRange(width);\n    this.effectiveLayout = this._infereffectiveLayout();\n    this._overflowSize = this._calculateOverflowSize(width, height);\n    this._toggleDisplaySquareSize(this._shouldHaveSquareDisplay);\n    this._toggleMainItem9x16size(this._shouldHaveWideDisplay);\n  }\n  _calculateOverflowSize(width, height) {\n    const marginSize = MediaGallery_1.THUMBNAIL_MARGIN;\n    let columnHeight, columnsCount;\n    if (this.showAllThumbnails) {\n      return 0;\n    }\n    if (this.effectiveLayout === MediaGalleryLayout.Horizontal) {\n      columnHeight = height - marginSize;\n      columnsCount = this.showAllThumbnails ? COLUMNS_COUNT[this.mediaRange] : 1;\n    } else {\n      columnHeight = width - marginSize * 2; // column is flexed to appear as a row in this case\n      columnsCount = 1;\n    }\n    return this._getOverflowSize(columnHeight, columnsCount);\n  }\n  _toggleDisplaySquareSize(enable) {\n    this._display.style.width = \"\"; // restore default width\n    if (enable) {\n      const marginSize = MediaGallery_1.THUMBNAIL_MARGIN,\n        width = this._display.offsetWidth;\n      let availableHeight = this.getDomRef().offsetHeight - 2 * marginSize;\n      if (this.effectiveLayout === MediaGalleryLayout.Vertical) {\n        availableHeight -= MediaGallery_1.THUMBNAIL_HEIGHT + marginSize;\n      }\n      if (width > availableHeight) {\n        // set to square\n        this._display.style.width = `${availableHeight}px`;\n      }\n    }\n  }\n  _toggleMainItem9x16size(enable) {\n    if (!this._mainItem) {\n      return;\n    }\n    const width = this._mainItem.offsetWidth,\n      contentHeight = enable ? `${width / 16 * 9}px` : \"\";\n    this._mainItem.contentHeight = contentHeight;\n  }\n  _infereffectiveLayout() {\n    if (this.layout === MediaGalleryLayout.Auto) {\n      return this._isPhoneSize ? MediaGalleryLayout.Vertical : MediaGalleryLayout.Horizontal;\n    }\n    return this.layout;\n  }\n  _getMaxAllowedThumbnailsInColumn(columnHeight) {\n    let maxAllowedItems = Math.floor(columnHeight / MediaGallery_1.THUMBNAIL_HEIGHT);\n    if (!this.showAllThumbnails) {\n      maxAllowedItems = Math.min(maxAllowedItems, 5);\n    }\n    return maxAllowedItems;\n  }\n  _getOverflowSize(columnHeight, columnsCount) {\n    const maxAlowedThumbnailsInColumn = this._getMaxAllowedThumbnailsInColumn(columnHeight),\n      overflowSize = Math.max(0, this.items.length - maxAlowedThumbnailsInColumn * columnsCount);\n    if (overflowSize === this.items.length || overflowSize === 0) {\n      return overflowSize;\n    }\n    return overflowSize + 1; // overflow 1 extra item to make room for overflow btn as well\n  }\n  _getFocusableItems() {\n    if (!this._showThumbnails) {\n      return [];\n    }\n    const items = this._visibleItems.filter(item => !item.disabled);\n    if (this._overflowBtn) {\n      items.push(this._overflowBtn);\n    }\n    return items;\n  }\n  _selectItem(item) {\n    let userInteraction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    if (item === this._selectedItem) {\n      return;\n    }\n    this._selectedItem = item;\n    this._updateSelectedFlag(item);\n    this._itemNavigation.setCurrentItem(item);\n    if (userInteraction) {\n      this.fireEvent(\"selection-change\", {\n        item\n      });\n    }\n    if (isPhone()) {\n      this._selectItemOnPhone(item);\n    } else {\n      this._displayContent(item);\n    }\n  }\n  _updateSelectedFlag(itemToSelect) {\n    this.items.forEach(next => {\n      next.selected = false;\n    });\n    itemToSelect.selected = true;\n  }\n  _selectItemOnPhone(item) {\n    const selectableItemIndex = this._selectableItems.indexOf(item),\n      carousel = this._carousel;\n    carousel && carousel.navigateTo(selectableItemIndex);\n  }\n  _displayContent(item) {\n    let clone;\n    const mainItem = this._mainItem,\n      oldContent = mainItem.displayedContent,\n      newContent = item.displayedContent;\n    mainItem._thumbnailDesign = false;\n    oldContent && oldContent.remove();\n    if (newContent) {\n      clone = newContent.cloneNode(true);\n      mainItem.layout = item.layout;\n      mainItem.appendChild(clone);\n    }\n  }\n  _onThumbnailClick(e) {\n    const target = e.target;\n    const item = target.closest(\"[ui5-media-gallery-item]\");\n    if (item.disabled) {\n      return;\n    }\n    if (item !== this._selectedItem) {\n      this._selectItem(item, true /* userInteraction */);\n    }\n  }\n  _onOverflowBtnClick() {\n    this.fireEvent(\"overflow-click\");\n  }\n  _onDisplayAreaClick() {\n    if (!this.interactiveDisplayArea) {\n      return;\n    }\n    this.fireEvent(\"display-area-click\");\n  }\n  _onCarouselNavigate(e) {\n    const selectedIndex = e.detail.selectedIndex,\n      item = this._selectableItems[selectedIndex];\n    this.fireEvent(\"selection-change\", {\n      item\n    });\n  }\n  get _mainItemTabIndex() {\n    return this.interactiveDisplayArea ? 0 : undefined;\n  }\n  get _selectableItems() {\n    return this.items.filter(this._isSelectableItem);\n  }\n  get _carousel() {\n    return this.shadowRoot.querySelector(\"[ui5-carousel]\");\n  }\n  get _display() {\n    return this.shadowRoot.querySelector(\".ui5-media-gallery-display\");\n  }\n  get _mainItem() {\n    return this.shadowRoot.querySelector(\".ui5-media-gallery-display [ui5-media-gallery-item]\");\n  }\n  get _overflowBtn() {\n    return this.shadowRoot.querySelector(\".ui5-media-gallery-overflow [ui5-button]\");\n  }\n  get _visibleItems() {\n    const visibleItemsCount = this.items.length - this._overflowSize;\n    return this.items.slice(0, visibleItemsCount);\n  }\n  get _isPhonePlatform() {\n    return isPhone();\n  }\n  get _showThumbnails() {\n    return !isPhone();\n  }\n  get _showOverflowBtn() {\n    return this._overflowSize > 0;\n  }\n  get _isPhoneSize() {\n    return this.mediaRange === \"S\";\n  }\n  get _mainItemHasWideLayout() {\n    return this._mainItem && this._mainItem.layout === MediaGalleryItemLayout.Wide;\n  }\n  get _shouldHaveWideDisplay() {\n    return !!this._mainItemHasWideLayout && this.showAllThumbnails && this.effectiveLayout === MediaGalleryLayout.Horizontal;\n  }\n  get _shouldHaveSquareDisplay() {\n    // by default it should be square\n    // with the only exception when a wide 9*16 item should be displayed\n    return !this._shouldHaveWideDisplay;\n  }\n  static get THUMBNAIL_HEIGHT() {\n    return 80; // px\n  }\n  static get THUMBNAIL_MARGIN() {\n    return 16; // px\n  }\n};\n__decorate([property({\n  type: Boolean\n})], MediaGallery.prototype, \"showAllThumbnails\", void 0);\n__decorate([property({\n  type: Boolean\n})], MediaGallery.prototype, \"interactiveDisplayArea\", void 0);\n__decorate([property()], MediaGallery.prototype, \"layout\", void 0);\n__decorate([property()], MediaGallery.prototype, \"menuHorizontalAlign\", void 0);\n__decorate([property()], MediaGallery.prototype, \"menuVerticalAlign\", void 0);\n__decorate([property()], MediaGallery.prototype, \"effectiveLayout\", void 0);\n__decorate([property()], MediaGallery.prototype, \"mediaRange\", void 0);\n__decorate([property({\n  type: Number,\n  noAttribute: true\n})], MediaGallery.prototype, \"_overflowSize\", void 0);\n__decorate([slot({\n  type: HTMLElement,\n  individualSlots: true,\n  invalidateOnChildChange: true,\n  \"default\": true\n})], MediaGallery.prototype, \"items\", void 0);\nMediaGallery = MediaGallery_1 = __decorate([customElement({\n  tag: \"ui5-media-gallery\",\n  renderer: litRender,\n  styles: [MediaGalleryCss],\n  template: MediaGalleryTemplate,\n  dependencies: [MediaGalleryItem, Button, Carousel]\n})\n/**\n * Fired when selection is changed by user interaction.\n * @param {HTMLElement} item the selected item.\n * @public\n */, event(\"selection-change\", {\n  detail: {\n    /**\n     * @public\n     */\n    item: {\n      type: HTMLElement\n    }\n  }\n})\n/**\n * Fired when the thumbnails overflow button is clicked.\n * @public\n */, event(\"overflow-click\")\n/**\n * Fired when the display area is clicked.\n * The display area is the central area that contains\n * the enlarged content of the currently selected item.\n * @public\n */, event(\"display-area-click\")], MediaGallery);\nMediaGallery.define();\nexport default MediaGallery;","map":{"version":3,"names":["ItemNavigation","ResizeHandler","isPhone","MediaRange","litRender","NavigationMode","UI5Element","Button","Carousel","customElement","property","slot","event","MediaGalleryItem","MediaGalleryItemLayout","MediaGalleryLayout","MediaGalleryCss","MediaGalleryTemplate","COLUMNS_COUNT","MediaGallery","MediaGallery_1","constructor","showAllThumbnails","interactiveDisplayArea","layout","menuHorizontalAlign","menuVerticalAlign","effectiveLayout","mediaRange","_overflowSize","_onResize","_updateLayout","bind","_itemNavigation","navigationMode","Auto","getItemsCallback","_getFocusableItems","onEnterDOM","register","onExitDOM","deregister","onAfterRendering","_updateSelection","itemToSelect","items","find","item","selected","_isSelectableItem","_findSelectableItem","_selectedItem","_selectItem","disabled","hidden","_updateMediaRange","width","getCurrentRange","RANGESETS","RANGE_4STEPS","rootNode","getDomRef","height","offsetHeight","offsetWidth","_infereffectiveLayout","_calculateOverflowSize","_toggleDisplaySquareSize","_shouldHaveSquareDisplay","_toggleMainItem9x16size","_shouldHaveWideDisplay","marginSize","THUMBNAIL_MARGIN","columnHeight","columnsCount","Horizontal","_getOverflowSize","enable","_display","style","availableHeight","Vertical","THUMBNAIL_HEIGHT","_mainItem","contentHeight","_isPhoneSize","_getMaxAllowedThumbnailsInColumn","maxAllowedItems","Math","floor","min","maxAlowedThumbnailsInColumn","overflowSize","max","length","_showThumbnails","_visibleItems","filter","_overflowBtn","push","userInteraction","arguments","undefined","_updateSelectedFlag","setCurrentItem","fireEvent","_selectItemOnPhone","_displayContent","forEach","next","selectableItemIndex","_selectableItems","indexOf","carousel","_carousel","navigateTo","clone","mainItem","oldContent","displayedContent","newContent","_thumbnailDesign","remove","cloneNode","appendChild","_onThumbnailClick","e","target","closest","_onOverflowBtnClick","_onDisplayAreaClick","_onCarouselNavigate","selectedIndex","detail","_mainItemTabIndex","shadowRoot","querySelector","visibleItemsCount","slice","_isPhonePlatform","_showOverflowBtn","_mainItemHasWideLayout","Wide","__decorate","type","Boolean","Number","noAttribute","HTMLElement","individualSlots","invalidateOnChildChange","tag","renderer","styles","template","dependencies","define"],"sources":["/home/user/projects/reactproj/node_modules/@ui5/webcomponents-fiori/src/MediaGallery.ts"],"sourcesContent":["import ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport ResizeHandler from \"@ui5/webcomponents-base/dist/delegate/ResizeHandler.js\";\nimport { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport MediaRange from \"@ui5/webcomponents-base/dist/MediaRange.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport NavigationMode from \"@ui5/webcomponents-base/dist/types/NavigationMode.js\";\nimport UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport Button from \"@ui5/webcomponents/dist/Button.js\";\nimport type { CarouselNavigateEventDetail } from \"@ui5/webcomponents/dist/Carousel.js\";\nimport Carousel from \"@ui5/webcomponents/dist/Carousel.js\";\nimport customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport slot from \"@ui5/webcomponents-base/dist/decorators/slot.js\";\nimport event from \"@ui5/webcomponents-base/dist/decorators/event.js\";\nimport type { ITabbable } from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport MediaGalleryItem from \"./MediaGalleryItem.js\";\nimport MediaGalleryItemLayout from \"./types/MediaGalleryItemLayout.js\";\nimport MediaGalleryLayout from \"./types/MediaGalleryLayout.js\";\nimport type MediaGalleryMenuHorizontalAlign from \"./types/MediaGalleryMenuHorizontalAlign.js\";\nimport type MediaGalleryMenuVerticalAlign from \"./types/MediaGalleryMenuVerticalAlign.js\";\n\n// Styles\nimport MediaGalleryCss from \"./generated/themes/MediaGallery.css.js\";\n\n// Template\nimport MediaGalleryTemplate from \"./generated/templates/MediaGalleryTemplate.lit.js\";\n\n/**\n * Interface for components that can be slotted inside `ui5-media-gallery` as items.\n * @public\n */\ninterface IMediaGalleryItem extends HTMLElement, ITabbable {\n\tselected: boolean,\n\tdisabled: boolean,\n\tdisplayedContent: HTMLElement | null;\n\tlayout: `${MediaGalleryItemLayout}`\n}\n\ntype MediaGallerySelectionChangeEventDetail = {\n\titem: IMediaGalleryItem;\n}\n\n// The allowed number of thumbnail columns on each size\n// (relevant when `showAllThumbnails` is enabled)\nconst COLUMNS_COUNT: Record<string, number> = {\n\t\"S\": 1,\n\t\"M\": 2,\n\t\"L\": 3,\n\t\"XL\": 4,\n};\n\n/**\n * @class\n *\n * ### Overview\n *\n * The `ui5-media-gallery` component allows the user to browse through multimedia items. Currently,\n * the supported items are images and videos. The items should be defined using the `ui5-media-gallery-item`\n * component.\n *\n * The items are initially displayed as thumbnails. When the user selects a thumbnail, the corresponding item\n * is displayed in larger size.\n *\n * The component is responsive by default and adjusts the position of the menu with respect to viewport size,\n * but the application is able to further customize the layout via the provided API.\n *\n * ### Keyboard Handling\n * The `ui5-media-gallery` provides advanced keyboard handling.\n *\n * When the thumbnails menu is focused the following keyboard\n * shortcuts allow the user to navigate through the thumbnail items:\n *\n * - [Up] or [Down] - Navigates up and down the items\n * - [Home] - Navigates to first item\n * - [End] - Navigates to the last item\n * - [Space], [Enter] - Selects an item\n *\n * ### ES6 Module Import\n * `import \"@ui5/webcomponents-fiori/dist/MediaGallery.js\";`\n *\n * `import \"@ui5/webcomponents-fiori/dist/MediaGalleryItem.js\";`\n * @constructor\n * @extends UI5Element\n * @public\n * @since 1.1.0\n */\n@customElement({\n\ttag: \"ui5-media-gallery\",\n\trenderer: litRender,\n\tstyles: [MediaGalleryCss],\n\ttemplate: MediaGalleryTemplate,\n\tdependencies: [\n\t\tMediaGalleryItem,\n\t\tButton,\n\t\tCarousel,\n\t],\n})\n\n/**\n * Fired when selection is changed by user interaction.\n * @param {HTMLElement} item the selected item.\n * @public\n */\n@event<MediaGallerySelectionChangeEventDetail>(\"selection-change\", {\n\tdetail: {\n\t\t/**\n\t\t * @public\n\t\t */\n\t\titem: { type: HTMLElement },\n\t},\n})\n\n/**\n * Fired when the thumbnails overflow button is clicked.\n * @public\n */\n@event(\"overflow-click\")\n\n/**\n * Fired when the display area is clicked.\n * The display area is the central area that contains\n * the enlarged content of the currently selected item.\n * @public\n */\n@event(\"display-area-click\")\n\nclass MediaGallery extends UI5Element {\n\t/**\n\t * If set to `true`, all thumbnails are rendered in a scrollable container.\n\t * If `false`, only up to five thumbnails are rendered, followed by\n\t * an overflow button that shows the count of the remaining thumbnails.\n\t * @default false\n\t * @public\n\t */\n\t@property({ type: Boolean })\n\tshowAllThumbnails = false;\n\n\t/**\n\t * If enabled, a `display-area-click` event is fired\n\t * when the user clicks or taps on the display area.\n\t *\n\t * The display area is the central area that contains\n\t * the enlarged content of the currently selected item.\n\t * @default false\n\t * @public\n\t */\n\t@property({ type: Boolean })\n\tinteractiveDisplayArea = false;\n\n\t/**\n\t * Determines the layout of the component.\n\t * @default \"Auto\"\n\t * @public\n\t */\n\t@property()\n\tlayout: `${MediaGalleryLayout}` = \"Auto\";\n\n\t/**\n\t * Determines the horizontal alignment of the thumbnails menu\n\t * vs. the central display area.\n\t * @default \"Left\"\n\t * @public\n\t */\n\t@property()\n\tmenuHorizontalAlign: `${MediaGalleryMenuHorizontalAlign}` = \"Left\";\n\n\t/**\n\t * Determines the vertical alignment of the thumbnails menu\n\t * vs. the central display area.\n\t * @default \"Bottom\"\n\t * @public\n\t */\n\t@property()\n\tmenuVerticalAlign: `${MediaGalleryMenuVerticalAlign}` = \"Bottom\";\n\n\t/**\n\t * Determines the actual applied layout type\n\t * (esp. needed when the app did not specify a fixed layout type\n\t * but selected `Auto` layout type).\n\t * @default \"Vertical\"\n\t * @private\n\t */\n\t@property()\n\teffectiveLayout: `${MediaGalleryLayout}` = \"Vertical\";\n\n\t/**\n\t * Defines the current media query size.\n\t * @private\n\t */\n\t@property()\n\tmediaRange = \"S\";\n\n\t/**\n\t * The number of items in the overflow.\n\t * @private\n\t */\n\t@property({ type: Number, noAttribute: true })\n\t_overflowSize = 0;\n\n\t/**\n\t * Defines the component items.\n\t *\n\t * **Note:** Only one selected item is allowed.\n\t *\n\t * **Note:** Use the `ui5-media-gallery-item` component to define the desired items.\n\t * @public\n\t */\n\t@slot({\n\t\ttype: HTMLElement,\n\t\tindividualSlots: true,\n\t\tinvalidateOnChildChange: true,\n\t\t\"default\": true,\n\t})\n\titems!: Array<IMediaGalleryItem>;\n\n\t_itemNavigation: ItemNavigation;\n\t_onResize: () => void;\n\t_selectedItem?: IMediaGalleryItem;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis._onResize = this._updateLayout.bind(this);\n\n\t\tthis._itemNavigation = new ItemNavigation(this, {\n\t\t\tnavigationMode: NavigationMode.Auto,\n\t\t\tgetItemsCallback: () => this._getFocusableItems(),\n\t\t});\n\t}\n\n\tonEnterDOM() {\n\t\t!isPhone() && ResizeHandler.register(this, this._onResize);\n\t}\n\n\tonExitDOM() {\n\t\t!isPhone() && ResizeHandler.deregister(this, this._onResize);\n\t}\n\n\tonAfterRendering() {\n\t\tthis._updateLayout();\n\t\tthis._updateSelection();\n\t}\n\n\t_updateSelection() {\n\t\tlet itemToSelect = this.items.find(item => item.selected);\n\t\tif (!itemToSelect || !this._isSelectableItem(itemToSelect)) {\n\t\t\titemToSelect = this._findSelectableItem();\n\t\t}\n\t\tif (itemToSelect && itemToSelect !== this._selectedItem) {\n\t\t\tthis._selectItem(itemToSelect);\n\t\t}\n\t}\n\n\t_isSelectableItem(this: void, item: IMediaGalleryItem) {\n\t\treturn !item.disabled && !item.hidden;\n\t}\n\n\t_findSelectableItem() {\n\t\treturn this.items.find(this._isSelectableItem);\n\t}\n\n\t_updateMediaRange(width: number) {\n\t\tthis.mediaRange = MediaRange.getCurrentRange(MediaRange.RANGESETS.RANGE_4STEPS, width);\n\t}\n\n\t_updateLayout() {\n\t\tconst rootNode = this.getDomRef()!,\n\t\t\theight = rootNode.offsetHeight,\n\t\t\twidth = rootNode.offsetWidth;\n\n\t\tif (!width || !height || isPhone()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._updateMediaRange(width);\n\t\tthis.effectiveLayout = this._infereffectiveLayout();\n\t\tthis._overflowSize = this._calculateOverflowSize(width, height);\n\n\t\tthis._toggleDisplaySquareSize(this._shouldHaveSquareDisplay);\n\t\tthis._toggleMainItem9x16size(this._shouldHaveWideDisplay);\n\t}\n\n\t_calculateOverflowSize(width: number, height: number) {\n\t\tconst marginSize = MediaGallery.THUMBNAIL_MARGIN;\n\t\tlet columnHeight,\n\t\t\tcolumnsCount;\n\n\t\tif (this.showAllThumbnails) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (this.effectiveLayout === MediaGalleryLayout.Horizontal) {\n\t\t\tcolumnHeight = height - marginSize;\n\t\t\tcolumnsCount = this.showAllThumbnails ? COLUMNS_COUNT[this.mediaRange] : 1;\n\t\t} else {\n\t\t\tcolumnHeight = width - (marginSize * 2); // column is flexed to appear as a row in this case\n\t\t\tcolumnsCount = 1;\n\t\t}\n\t\treturn this._getOverflowSize(columnHeight, columnsCount);\n\t}\n\n\t_toggleDisplaySquareSize(enable: boolean) {\n\t\tthis._display!.style.width = \"\"; // restore default width\n\n\t\tif (enable) {\n\t\t\tconst marginSize = MediaGallery.THUMBNAIL_MARGIN,\n\t\t\t\twidth = this._display!.offsetWidth;\n\n\t\t\tlet availableHeight = this.getDomRef()!.offsetHeight - (2 * marginSize);\n\t\t\tif (this.effectiveLayout === MediaGalleryLayout.Vertical) {\n\t\t\t\tavailableHeight -= (MediaGallery.THUMBNAIL_HEIGHT + marginSize);\n\t\t\t}\n\n\t\t\tif (width > availableHeight) {\n\t\t\t\t// set to square\n\t\t\t\tthis._display!.style.width = `${availableHeight}px`;\n\t\t\t}\n\t\t}\n\t}\n\n\t_toggleMainItem9x16size(enable: boolean) {\n\t\tif (!this._mainItem) {\n\t\t\treturn;\n\t\t}\n\t\tconst width = this._mainItem.offsetWidth,\n\t\t\tcontentHeight = enable ? `${(width / 16) * 9}px` : \"\";\n\n\t\tthis._mainItem.contentHeight = contentHeight;\n\t}\n\n\t_infereffectiveLayout() {\n\t\tif (this.layout === MediaGalleryLayout.Auto) {\n\t\t\treturn (this._isPhoneSize) ? MediaGalleryLayout.Vertical\n\t\t\t\t: MediaGalleryLayout.Horizontal;\n\t\t}\n\t\treturn this.layout;\n\t}\n\n\t_getMaxAllowedThumbnailsInColumn(columnHeight: number) {\n\t\tlet maxAllowedItems = Math.floor(columnHeight / MediaGallery.THUMBNAIL_HEIGHT);\n\t\tif (!this.showAllThumbnails) {\n\t\t\tmaxAllowedItems = Math.min(maxAllowedItems, 5);\n\t\t}\n\t\treturn maxAllowedItems;\n\t}\n\n\t_getOverflowSize(columnHeight: number, columnsCount: number) {\n\t\tconst maxAlowedThumbnailsInColumn = this._getMaxAllowedThumbnailsInColumn(columnHeight),\n\t\t\toverflowSize = Math.max(0, this.items.length - maxAlowedThumbnailsInColumn * columnsCount);\n\t\tif (overflowSize === this.items.length || overflowSize === 0) {\n\t\t\treturn overflowSize;\n\t\t}\n\t\treturn overflowSize + 1; // overflow 1 extra item to make room for overflow btn as well\n\t}\n\n\t_getFocusableItems() {\n\t\tif (!this._showThumbnails) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst items: Array<ITabbable> = this._visibleItems.filter(item => !item.disabled);\n\n\t\tif (this._overflowBtn) {\n\t\t\titems.push(this._overflowBtn);\n\t\t}\n\t\treturn items;\n\t}\n\n\t_selectItem(item: IMediaGalleryItem, userInteraction = false) {\n\t\tif (item === this._selectedItem) {\n\t\t\treturn;\n\t\t}\n\t\tthis._selectedItem = item;\n\n\t\tthis._updateSelectedFlag(item);\n\t\tthis._itemNavigation.setCurrentItem(item);\n\n\t\tif (userInteraction) {\n\t\t\tthis.fireEvent<MediaGallerySelectionChangeEventDetail>(\"selection-change\", { item });\n\t\t}\n\n\t\tif (isPhone()) {\n\t\t\tthis._selectItemOnPhone(item);\n\t\t} else {\n\t\t\tthis._displayContent(item);\n\t\t}\n\t}\n\n\t_updateSelectedFlag(itemToSelect: IMediaGalleryItem) {\n\t\tthis.items.forEach(next => { next.selected = false; });\n\t\titemToSelect.selected = true;\n\t}\n\n\t_selectItemOnPhone(item: IMediaGalleryItem) {\n\t\tconst selectableItemIndex = this._selectableItems.indexOf(item),\n\t\t\tcarousel = this._carousel;\n\t\tcarousel && carousel.navigateTo(selectableItemIndex);\n\t}\n\n\t_displayContent(item: IMediaGalleryItem) {\n\t\tlet clone;\n\t\tconst mainItem = this._mainItem,\n\t\t\toldContent = mainItem!.displayedContent,\n\t\t\tnewContent = item.displayedContent;\n\n\t\tmainItem!._thumbnailDesign = false;\n\t\toldContent && oldContent.remove();\n\n\t\tif (newContent) {\n\t\t\tclone = newContent.cloneNode(true);\n\t\t\tmainItem!.layout = item.layout;\n\t\t\tmainItem!.appendChild(clone);\n\t\t}\n\t}\n\n\t_onThumbnailClick(e: MouseEvent) {\n\t\tconst target = e.target as HTMLElement;\n\t\tconst item = target.closest<IMediaGalleryItem>(\"[ui5-media-gallery-item]\")!;\n\n\t\tif (item.disabled) {\n\t\t\treturn;\n\t\t}\n\t\tif (item !== this._selectedItem) {\n\t\t\tthis._selectItem(item, true /* userInteraction */);\n\t\t}\n\t}\n\n\t_onOverflowBtnClick() {\n\t\tthis.fireEvent(\"overflow-click\");\n\t}\n\n\t_onDisplayAreaClick() {\n\t\tif (!this.interactiveDisplayArea) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.fireEvent(\"display-area-click\");\n\t}\n\n\t_onCarouselNavigate(e: CustomEvent<CarouselNavigateEventDetail>) {\n\t\tconst selectedIndex = e.detail.selectedIndex,\n\t\t\titem = this._selectableItems[selectedIndex];\n\n\t\tthis.fireEvent<MediaGallerySelectionChangeEventDetail>(\"selection-change\", { item });\n\t}\n\n\tget _mainItemTabIndex() {\n\t\treturn this.interactiveDisplayArea ? 0 : undefined;\n\t}\n\n\tget _selectableItems() {\n\t\treturn this.items.filter(this._isSelectableItem);\n\t}\n\n\tget _carousel() {\n\t\treturn this.shadowRoot!.querySelector<Carousel>(\"[ui5-carousel]\");\n\t}\n\n\tget _display() {\n\t\treturn this.shadowRoot!.querySelector<HTMLElement>(\".ui5-media-gallery-display\");\n\t}\n\n\tget _mainItem() {\n\t\treturn this.shadowRoot!.querySelector<MediaGalleryItem>(\".ui5-media-gallery-display [ui5-media-gallery-item]\");\n\t}\n\n\tget _overflowBtn() {\n\t\treturn this.shadowRoot!.querySelector<Button>(\".ui5-media-gallery-overflow [ui5-button]\");\n\t}\n\n\tget _visibleItems() {\n\t\tconst visibleItemsCount = this.items.length - this._overflowSize;\n\t\treturn this.items.slice(0, visibleItemsCount);\n\t}\n\n\tget _isPhonePlatform() {\n\t\treturn isPhone();\n\t}\n\n\tget _showThumbnails() {\n\t\treturn !isPhone();\n\t}\n\n\tget _showOverflowBtn() {\n\t\treturn this._overflowSize > 0;\n\t}\n\n\tget _isPhoneSize() {\n\t\treturn this.mediaRange === \"S\";\n\t}\n\n\tget _mainItemHasWideLayout() {\n\t\treturn this._mainItem && (this._mainItem.layout === MediaGalleryItemLayout.Wide);\n\t}\n\n\tget _shouldHaveWideDisplay() {\n\t\treturn !!this._mainItemHasWideLayout\n\t\t\t&& this.showAllThumbnails\n\t\t\t&& (this.effectiveLayout === MediaGalleryLayout.Horizontal);\n\t}\n\n\tget _shouldHaveSquareDisplay() {\n\t\t// by default it should be square\n\t\t// with the only exception when a wide 9*16 item should be displayed\n\t\treturn !this._shouldHaveWideDisplay;\n\t}\n\n\tstatic get THUMBNAIL_HEIGHT() {\n\t\treturn 80; // px\n\t}\n\n\tstatic get THUMBNAIL_MARGIN() {\n\t\treturn 16; // px\n\t}\n}\n\nMediaGallery.define();\n\nexport default MediaGallery;\n\nexport type {\n\tMediaGallerySelectionChangeEventDetail,\n\tIMediaGalleryItem,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}