{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar DayPicker_1;\nimport customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport event from \"@ui5/webcomponents-base/dist/decorators/event.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport getCachedLocaleDataInstance from \"@ui5/webcomponents-localization/dist/getCachedLocaleDataInstance.js\";\nimport { isSpace, isSpaceShift, isEnter, isEnterShift, isUp, isDown, isLeft, isRight, isHome, isEnd, isHomeCtrl, isEndCtrl, isPageUp, isPageDown, isPageUpShift, isPageUpAlt, isPageUpShiftCtrl, isPageDownShift, isPageDownAlt, isPageDownShiftCtrl } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport CalendarType from \"@ui5/webcomponents-base/dist/types/CalendarType.js\";\nimport UI5Date from \"@ui5/webcomponents-localization/dist/dates/UI5Date.js\";\nimport CalendarUtils from \"@ui5/webcomponents-localization/dist/CalendarUtils.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport CalendarSelectionMode from \"./types/CalendarSelectionMode.js\";\nimport CalendarPart from \"./CalendarPart.js\";\nimport { DAY_PICKER_WEEK_NUMBER_TEXT, DAY_PICKER_NON_WORKING_DAY, DAY_PICKER_TODAY } from \"./generated/i18n/i18n-defaults.js\";\n// Template\nimport DayPickerTemplate from \"./generated/templates/DayPickerTemplate.lit.js\";\n// Styles\nimport dayPickerCSS from \"./generated/themes/DayPicker.css.js\";\nconst isBetween = (x, num1, num2) => x > Math.min(num1, num2) && x < Math.max(num1, num2);\nconst DAYS_IN_WEEK = 7;\n/**\n * @class\n *\n * Represents the days inside a single month view of the `ui5-calendar` component.\n * @constructor\n * @extends CalendarPart\n * @private\n */\nlet DayPicker = DayPicker_1 = class DayPicker extends CalendarPart {\n  constructor() {\n    super(...arguments);\n    /**\n     * An array of UTC timestamps representing the selected date or dates depending on the capabilities of the picker component.\n     * @default []\n     */\n    this.selectedDates = [];\n    /**\n     * Defines the type of selection used in the day picker component.\n     * Accepted property values are:\n     *\n     * - `CalendarSelectionMode.Single` - enables a single date selection.(default value)\n     * - `CalendarSelectionMode.Range` - enables selection of a date range.\n     * - `CalendarSelectionMode.Multiple` - enables selection of multiple dates.\n     * @default \"Single\"\n     */\n    this.selectionMode = \"Single\";\n    /**\n     * Defines the visibility of the week numbers column.\n     *\n     * **Note:** For calendars other than Gregorian,\n     * the week numbers are not displayed regardless of what is set.\n     * @default false\n     * @since 1.0.0-rc.8\n     */\n    this.hideWeekNumbers = false;\n    /**\n     * @private\n     */\n    this._weeks = [];\n    this._dayNames = [];\n    /**\n     * When set, the component will skip all work in onBeforeRendering and will not automatically set the focus on itself\n     * @private\n     */\n    this._hidden = false;\n    /**\n     * Array of special calendar dates (if such are passed) from the calendar.\n     * @private\n     */\n    this.specialCalendarDates = [];\n  }\n  onBeforeRendering() {\n    const localeData = getCachedLocaleDataInstance(getLocale());\n    this._buildWeeks(localeData);\n    this._buildDayNames(localeData);\n  }\n  /**\n   * Builds the \"_weeks\" object that represents the month.\n   * @param localeData\n   * @private\n   */\n  _buildWeeks(localeData) {\n    if (this._hidden) {\n      return; // Optimization to not do any work unless the current picker\n    }\n    this._weeks = [];\n    const firstDayOfWeek = this._getFirstDayOfWeek();\n    const specialCalendarDates = this._specialCalendarDates;\n    const monthsNames = localeData.getMonths(\"wide\", this._primaryCalendarType);\n    const secondaryMonthsNames = this.hasSecondaryCalendarType ? localeData.getMonths(\"wide\", this.secondaryCalendarType) : [];\n    const nonWorkingDayLabel = DayPicker_1.i18nBundle.getText(DAY_PICKER_NON_WORKING_DAY);\n    const todayLabel = DayPicker_1.i18nBundle.getText(DAY_PICKER_TODAY);\n    const tempDate = this._getFirstDay(); // date that will be changed by 1 day 42 times\n    const todayDate = CalendarDate.fromLocalJSDate(UI5Date.getInstance(), this._primaryCalendarType); // current day date - calculate once\n    const calendarDate = this._calendarDate; // store the _calendarDate value as this getter is expensive and degrades IE11 perf\n    const minDate = this._minDate; // store the _minDate (expensive getter)\n    const maxDate = this._maxDate; // store the _maxDate (expensive getter)\n    const tempSecondDate = this.hasSecondaryCalendarType ? this._getSecondaryDay(tempDate) : undefined;\n    let week = [];\n    for (let i = 0; i < DAYS_IN_WEEK * 6; i++) {\n      // always show 6 weeks total, 42 days to avoid jumping\n      const timestamp = tempDate.valueOf() / 1000; // no need to round because CalendarDate does it\n      let dayOfTheWeek = tempDate.getDay() - firstDayOfWeek;\n      if (dayOfTheWeek < 0) {\n        dayOfTheWeek += DAYS_IN_WEEK;\n      }\n      const specialCalendarDate = specialCalendarDates.find(specialDate => specialDate.specialDateTimestamp === timestamp);\n      const specialDayType = specialCalendarDate ? specialCalendarDate.type : \"\";\n      const isFocused = tempDate.getMonth() === calendarDate.getMonth() && tempDate.getDate() === calendarDate.getDate();\n      const isSelected = this._isDaySelected(timestamp);\n      const isSelectedBetween = this._isDayInsideSelectionRange(timestamp);\n      const isOtherMonth = tempDate.getMonth() !== calendarDate.getMonth();\n      const isWeekend = this._isWeekend(tempDate);\n      const isDisabled = tempDate.valueOf() < minDate.valueOf() || tempDate.valueOf() > maxDate.valueOf();\n      const isToday = tempDate.isSame(todayDate);\n      const isFirstDayOfWeek = tempDate.getDay() === firstDayOfWeek;\n      const nonWorkingAriaLabel = isWeekend ? `${nonWorkingDayLabel} ` : \"\";\n      const todayAriaLabel = isToday ? `${todayLabel} ` : \"\";\n      const tempSecondDateNumber = tempSecondDate ? tempSecondDate.getDate() : \"\";\n      const tempSecondYearNumber = tempSecondDate ? tempSecondDate.getYear() : \"\";\n      const secondaryMonthsNamesString = secondaryMonthsNames.length > 0 ? secondaryMonthsNames[tempSecondDate.getMonth()] : \"\";\n      const ariaLabel = this.hasSecondaryCalendarType ? `${todayAriaLabel}${nonWorkingAriaLabel}${monthsNames[tempDate.getMonth()]} ${tempDate.getDate()}, ${tempDate.getYear()}; ${secondaryMonthsNamesString} ${tempSecondDateNumber}, ${tempSecondYearNumber}` : `${todayAriaLabel}${nonWorkingAriaLabel}${monthsNames[tempDate.getMonth()]} ${tempDate.getDate()}, ${tempDate.getYear()}`;\n      const day = {\n        timestamp: timestamp.toString(),\n        focusRef: isFocused,\n        _tabIndex: isFocused ? \"0\" : \"-1\",\n        selected: isSelected || isSelectedBetween,\n        day: tempDate.getDate(),\n        secondDay: this.hasSecondaryCalendarType ? tempSecondDate.getDate() : undefined,\n        _isSecondaryCalendarType: this.hasSecondaryCalendarType,\n        classes: `ui5-dp-item ui5-dp-wday${dayOfTheWeek}`,\n        ariaLabel,\n        ariaSelected: String(isSelected || isSelectedBetween),\n        ariaDisabled: isDisabled || isOtherMonth ? \"true\" : undefined,\n        disabled: isDisabled,\n        type: specialDayType,\n        parts: \"day-cell\"\n      };\n      if (isFirstDayOfWeek) {\n        day.classes += \" ui5-dp-firstday\";\n      }\n      if (isSelected) {\n        day.classes += \" ui5-dp-item--selected\";\n        day.parts += \" day-cell-selected\";\n      }\n      if (isSelectedBetween) {\n        day.classes += \" ui5-dp-item--selected-between\";\n        day.parts += \" day-cell-selected-between\";\n      }\n      if (isToday) {\n        day.classes += \" ui5-dp-item--now\";\n      }\n      if (isOtherMonth) {\n        day.classes += \" ui5-dp-item--othermonth\";\n      }\n      if ((isWeekend || specialDayType === \"NonWorking\") && specialDayType !== \"Working\") {\n        day.classes += \" ui5-dp-item--weekend\";\n      }\n      if (isDisabled) {\n        day.classes += \" ui5-dp-item--disabled\";\n      }\n      if (this.hasSecondaryCalendarType) {\n        day.classes += \" ui5-dp-item--withsecondtype\";\n      }\n      week.push(day);\n      if (dayOfTheWeek === DAYS_IN_WEEK - 1) {\n        // 0-indexed so 6 is the last day of the week\n        const weekNumber = this._calculateWeekNumber(tempDate.toLocalJSDate());\n        week.unshift({\n          weekNum: weekNumber,\n          isHidden: this.shouldHideWeekNumbers\n        });\n      }\n      if (week.length === DAYS_IN_WEEK + 1) {\n        // 7 entries for each day + 1 for the week numbers\n        this._weeks.push(week);\n        week = [];\n      }\n      tempDate.setDate(tempDate.getDate() + 1);\n      if (this.hasSecondaryCalendarType && tempSecondDate) {\n        tempSecondDate.setDate(tempSecondDate.getDate() + 1);\n      }\n    }\n  }\n  _calculateWeekNumber(date) {\n    const oDateFormat = DateFormat.getDateInstance({\n      pattern: \"w\",\n      calendarType: this.primaryCalendarType,\n      calendarWeekNumbering: this.calendarWeekNumbering\n    });\n    const weekNumber = oDateFormat.format(date);\n    return Number(weekNumber);\n  }\n  /**\n   * Builds the dayNames object (header of the month).\n   * @param localeData\n   * @private\n   */\n  _buildDayNames(localeData) {\n    if (this._hidden) {\n      return; // Optimization to not do any work unless the current picker\n    }\n    let dayOfTheWeek;\n    const aDayNamesWide = localeData.getDays(\"wide\", this._primaryCalendarType);\n    let aDayNamesAbbreviated = localeData.getDays(\"abbreviated\", this._primaryCalendarType);\n    let dayName;\n    if (this.namesTooLong(aDayNamesAbbreviated)) {\n      aDayNamesAbbreviated = localeData.getDays(\"narrow\", this._primaryCalendarType);\n    }\n    this._dayNames = [];\n    this._dayNames.push({\n      classes: \"ui5-dp-dayname\",\n      name: DayPicker_1.i18nBundle.getText(DAY_PICKER_WEEK_NUMBER_TEXT)\n    });\n    for (let i = 0; i < DAYS_IN_WEEK; i++) {\n      dayOfTheWeek = i + this._getFirstDayOfWeek();\n      if (dayOfTheWeek > DAYS_IN_WEEK - 1) {\n        // 0-indexed so index of 6 is the maximum allowed\n        dayOfTheWeek -= DAYS_IN_WEEK;\n      }\n      dayName = {\n        name: aDayNamesWide[dayOfTheWeek],\n        ultraShortName: aDayNamesAbbreviated[dayOfTheWeek],\n        classes: \"ui5-dp-dayname\"\n      };\n      this._dayNames.push(dayName);\n    }\n    this._dayNames[1].classes += \" ui5-dp-firstday\";\n    if (this.shouldHideWeekNumbers) {\n      this._dayNames.shift();\n    }\n  }\n  /**\n   * Tells if any of the days is more than 4 characters(too long to render).\n   * @param dayNames\n   * @private\n   */\n  namesTooLong(dayNames) {\n    return dayNames.some(dayName => dayName.length > 4);\n  }\n  onAfterRendering() {\n    if (this._autoFocus && !this._hidden) {\n      this.focus();\n    }\n    const focusedDay = this.shadowRoot.querySelector(\"[data-sap-focus-ref]\");\n    if (focusedDay && document.activeElement !== focusedDay && this._specialCalendarDates.length === 0) {\n      focusedDay.focus();\n    }\n  }\n  _onfocusin() {\n    this._autoFocus = true;\n  }\n  _onfocusout() {\n    this._autoFocus = false;\n  }\n  /**\n   * Tells if the day is selected (dark blue).\n   * @param timestamp\n   * @private\n   */\n  _isDaySelected(timestamp) {\n    if (this.selectionMode === CalendarSelectionMode.Single) {\n      return timestamp === this.selectedDates[0];\n    }\n    if (this.selectionMode === CalendarSelectionMode.Multiple) {\n      return this.selectedDates.includes(timestamp);\n    }\n    return timestamp === this.selectedDates[0] || timestamp === this.selectedDates[this.selectedDates.length - 1];\n  }\n  /**\n   * Tells if the day is inside a selection range (light blue).\n   * @param timestamp\n   * @private\n   */\n  _isDayInsideSelectionRange(timestamp) {\n    // No selection at all (or not in range selection mode)\n    if (this.selectionMode !== CalendarSelectionMode.Range || !this.selectedDates.length) {\n      return false;\n    }\n    // Only one date selected - the user is hovering with the mouse or navigating with the keyboard to select the second one\n    if (this.selectedDates.length === 1 && this._secondTimestamp) {\n      return isBetween(timestamp, this.selectedDates[0], this._secondTimestamp);\n    }\n    // Two dates selected - stable range\n    return isBetween(timestamp, this.selectedDates[0], this.selectedDates[this.selectedDates.length - 1]);\n  }\n  /**\n   * Selects/deselects a day.\n   * @param e\n   * @param isShift true if the user did Click+Shift or Enter+Shift (but not Space+Shift)\n   * @private\n   */\n  _selectDate(e, isShift) {\n    let target = e.target;\n    if (!target.hasAttribute(\"data-sap-timestamp\")) {\n      target = target.parentNode;\n    }\n    if (!this._isDayPressed(target)) {\n      return;\n    }\n    const timestamp = this._getTimestampFromDom(target);\n    this._safelySetTimestamp(timestamp);\n    this._updateSecondTimestamp();\n    this._updateSelectedDates(timestamp, isShift);\n    this.fireEvent(\"change\", {\n      timestamp: this.timestamp,\n      dates: this.selectedDates\n    });\n  }\n  _updateSelectedDates(timestamp, isShift) {\n    if (this.selectionMode === CalendarSelectionMode.Multiple) {\n      if (this.selectedDates.length > 0 && isShift) {\n        this._multipleSelection(timestamp);\n      } else {\n        this._toggleTimestampInSelection(timestamp);\n      }\n      return;\n    }\n    if (this.selectionMode === CalendarSelectionMode.Range && this.selectedDates.length === 1) {\n      this.selectedDates = [this.selectedDates[0], timestamp];\n      return;\n    }\n    this.selectedDates = [timestamp];\n  }\n  /**\n   * Selects/deselects the whole row (week).\n   * @private\n   */\n  _selectWeek() {\n    this._weeks.forEach(week => {\n      const _week = week;\n      const dayInThisWeek = _week.findIndex(item => {\n        const date = CalendarDate.fromTimestamp(parseInt(item.timestamp) * 1000);\n        return date.getMonth() === this._calendarDate.getMonth() && date.getDate() === this._calendarDate.getDate();\n      }) !== -1;\n      if (dayInThisWeek) {\n        // The current day is in this week\n        const notAllDaysOfThisWeekSelected = _week.some(item => item.timestamp && !this.selectedDates.includes(parseInt(item.timestamp)));\n        if (notAllDaysOfThisWeekSelected) {\n          // even if one day is not selected, select the whole week\n          _week.filter(item => item.timestamp).forEach(item => {\n            this._addTimestampToSelection(parseInt(item.timestamp));\n          });\n        } else {\n          // only if all days of this week are selected, deselect them\n          _week.filter(item => item.timestamp).forEach(item => {\n            this._removeTimestampFromSelection(parseInt(item.timestamp));\n          });\n        }\n      }\n    });\n    this.fireEvent(\"change\", {\n      timestamp: this.timestamp,\n      dates: this.selectedDates\n    });\n  }\n  _toggleTimestampInSelection(timestamp) {\n    if (this.selectedDates.includes(timestamp)) {\n      this._removeTimestampFromSelection(timestamp);\n    } else {\n      this._addTimestampToSelection(timestamp);\n    }\n  }\n  _addTimestampToSelection(timestamp) {\n    if (!this.selectedDates.includes(timestamp)) {\n      this.selectedDates = [...this.selectedDates, timestamp];\n    }\n  }\n  _removeTimestampFromSelection(timestamp) {\n    this.selectedDates = this.selectedDates.filter(value => value !== timestamp);\n  }\n  /**\n   * Called when at least one day is selected and the user presses \"Shift\".\n   * @param timestamp\n   * @private\n   */\n  _multipleSelection(timestamp) {\n    const min = Math.min(...this.selectedDates);\n    const max = Math.max(...this.selectedDates);\n    let start;\n    let end;\n    let toggle = false;\n    if (timestamp < min) {\n      start = timestamp;\n      end = min;\n    } else if (timestamp >= min && timestamp <= max) {\n      // inside the current range - toggle all between the selected and focused\n      const distanceToMin = Math.abs(timestamp - min);\n      const distanceToMax = Math.abs(timestamp - max);\n      if (distanceToMin < distanceToMax) {\n        start = timestamp;\n        end = max;\n      } else {\n        start = min;\n        end = timestamp;\n      }\n      toggle = true;\n    } else {\n      start = max;\n      end = timestamp;\n    }\n    const startDate = CalendarDate.fromTimestamp(start * 1000);\n    const endDate = CalendarDate.fromTimestamp(end * 1000);\n    while (startDate.valueOf() <= endDate.valueOf()) {\n      this[toggle ? \"_toggleTimestampInSelection\" : \"_addTimestampToSelection\"](startDate.valueOf() / 1000);\n      startDate.setDate(startDate.getDate() + 1);\n    }\n  }\n  /**\n   * Set the hovered day as the \"_secondTimestamp\".\n   * @param e\n   * @private\n   */\n  _onmouseover(e) {\n    const target = e.target;\n    const hoveredItem = target.closest(\".ui5-dp-item\");\n    if (hoveredItem && this.selectionMode === CalendarSelectionMode.Range && this.selectedDates.length === 1) {\n      this._secondTimestamp = this._getTimestampFromDom(hoveredItem);\n    }\n  }\n  _onkeydown(e) {\n    let preventDefault = true;\n    if (isEnter(e) || isEnterShift(e)) {\n      this._selectDate(e, isEnterShift(e));\n    } else if (isSpace(e) || isSpaceShift(e)) {\n      e.preventDefault();\n    } else if (isLeft(e)) {\n      this._modifyTimestampBy(-1, \"day\", false);\n    } else if (isRight(e)) {\n      this._modifyTimestampBy(1, \"day\", false);\n    } else if (isUp(e)) {\n      this._modifyTimestampBy(-7, \"day\", false);\n    } else if (isDown(e)) {\n      this._modifyTimestampBy(7, \"day\", false);\n    } else if (isPageUp(e)) {\n      this._modifyTimestampBy(-1, \"month\");\n    } else if (isPageDown(e)) {\n      this._modifyTimestampBy(1, \"month\");\n    } else if (isPageUpShift(e) || isPageUpAlt(e)) {\n      this._modifyTimestampBy(-1, \"year\");\n    } else if (isPageDownShift(e) || isPageDownAlt(e)) {\n      this._modifyTimestampBy(1, \"year\");\n    } else if (isPageUpShiftCtrl(e)) {\n      this._modifyTimestampBy(-10, \"year\");\n    } else if (isPageDownShiftCtrl(e)) {\n      this._modifyTimestampBy(10, \"year\");\n    } else if (isHome(e) || isEnd(e)) {\n      this._onHomeOrEnd(isHome(e));\n    } else if (isHomeCtrl(e)) {\n      const tempDate = new CalendarDate(this._calendarDate, this._primaryCalendarType);\n      tempDate.setDate(1); // Set the first day of the month\n      this._setTimestamp(tempDate.valueOf() / 1000);\n    } else if (isEndCtrl(e)) {\n      const tempDate = new CalendarDate(this._calendarDate, this._primaryCalendarType);\n      tempDate.setMonth(tempDate.getMonth() + 1);\n      tempDate.setDate(0); // Set the last day of the month (0th day of next month)\n      this._setTimestamp(tempDate.valueOf() / 1000);\n    } else {\n      preventDefault = false;\n    }\n    if (preventDefault) {\n      e.preventDefault();\n    }\n  }\n  _onkeyup(e) {\n    // Even if Space+Shift was pressed, ignore the shift unless in Multiple selection\n    if (isSpace(e) || isSpaceShift(e) && this.selectionMode !== CalendarSelectionMode.Multiple) {\n      this._selectDate(e, false);\n    } else if (isSpaceShift(e)) {\n      this._selectWeek();\n    }\n  }\n  /**\n   * Click is the same as \"Enter\".\n   * **Note:** \"Click+Shift\" has the same effect as \"Enter+Shift\".\n   * @param e\n   * @private\n   */\n  _onclick(e) {\n    this._selectDate(e, e.shiftKey);\n  }\n  /**\n   * Called upon \"Home\" or \"End\" - moves the focus to the first or last item in the row.\n   * @param homePressed\n   * @private\n   */\n  _onHomeOrEnd(homePressed) {\n    this._weeks.forEach(week => {\n      const _week = week;\n      const dayInThisWeek = _week.findIndex(item => {\n        const date = CalendarDate.fromTimestamp(parseInt(item.timestamp) * 1000);\n        return date.getMonth() === this._calendarDate.getMonth() && date.getDate() === this._calendarDate.getDate();\n      }) !== -1;\n      if (dayInThisWeek) {\n        // The current day is in this week\n        const index = homePressed ? 1 : 7; // select the first (if Home) or last (if End) day of the week\n        this._setTimestamp(parseInt(_week[index].timestamp));\n      }\n    });\n  }\n  /**\n   * Called by the Calendar component.\n   * @protected\n   */\n  _hasPreviousPage() {\n    return !(this._calendarDate.getMonth() === this._minDate.getMonth() && this._calendarDate.getYear() === this._minDate.getYear());\n  }\n  /**\n   * Called by the Calendar component.\n   * @protected\n   */\n  _hasNextPage() {\n    return !(this._calendarDate.getMonth() === this._maxDate.getMonth() && this._calendarDate.getYear() === this._maxDate.getYear());\n  }\n  /**\n   * Called by the Calendar component.\n   * @protected\n   */\n  _showPreviousPage() {\n    this._modifyTimestampBy(-1, \"month\", false);\n  }\n  /**\n   * Called by the Calendar component.\n   * @protected\n   */\n  _showNextPage() {\n    this._modifyTimestampBy(1, \"month\", false);\n  }\n  /**\n   * Modifies the timestamp by a certain amount of days/months/years.\n   * @param amount\n   * @param unit\n   * @param preserveDate whether to preserve the day of the month (f.e. 15th of March + 1 month = 15th of April)\n   * @private\n   */\n  _modifyTimestampBy(amount, unit, preserveDate) {\n    // Modify the current timestamp\n    this._safelyModifyTimestampBy(amount, unit, preserveDate);\n    this._updateSecondTimestamp();\n    // Notify the calendar to update its timestamp\n    this.fireEvent(\"navigate\", {\n      timestamp: this.timestamp\n    });\n  }\n  /**\n   * Sets the timestamp to an absolute value.\n   * @param value\n   * @private\n   */\n  _setTimestamp(value) {\n    this._safelySetTimestamp(value);\n    this._updateSecondTimestamp();\n    this.fireEvent(\"navigate\", {\n      timestamp: this.timestamp\n    });\n  }\n  /**\n   * During range selection, when the user is navigating with the keyboard,\n   * the currently focused day is considered the \"second day\".\n   * @private\n   */\n  _updateSecondTimestamp() {\n    if (this.selectionMode === CalendarSelectionMode.Range && (this.selectedDates.length === 1 || this.selectedDates.length === 2)) {\n      this._secondTimestamp = this.timestamp;\n    }\n  }\n  get _specialCalendarDates() {\n    return this.specialCalendarDates;\n  }\n  get shouldHideWeekNumbers() {\n    if (this._primaryCalendarType !== CalendarType.Gregorian) {\n      return true;\n    }\n    return this.hideWeekNumbers;\n  }\n  get classes() {\n    return {\n      root: {\n        \"ui5-dp-root\": true,\n        \"ui5-dp-twocalendartypes\": this.hasSecondaryCalendarType\n      }\n    };\n  }\n  _isWeekend(oDate) {\n    const localeData = getCachedLocaleDataInstance(getLocale());\n    const iWeekDay = oDate.getDay(),\n      iWeekendStart = localeData.getWeekendStart(),\n      iWeekendEnd = localeData.getWeekendEnd();\n    return iWeekDay >= iWeekendStart && iWeekDay <= iWeekendEnd || iWeekendEnd < iWeekendStart && (iWeekDay >= iWeekendStart || iWeekDay <= iWeekendEnd);\n  }\n  _isDayPressed(target) {\n    const targetParent = target.parentNode;\n    return target.className.indexOf(\"ui5-dp-item\") > -1 || targetParent && targetParent.classList && targetParent.classList.contains(\"ui5-dp-item\");\n  }\n  _getSecondaryDay(tempDate) {\n    return new CalendarDate(tempDate, this.secondaryCalendarType);\n  }\n  _getFirstDay() {\n    let daysFromPreviousMonth;\n    const firstDayOfWeek = this._getFirstDayOfWeek();\n    // determine weekday of first day in month\n    const firstDay = new CalendarDate(this._calendarDate, this._primaryCalendarType);\n    firstDay.setDate(1);\n    daysFromPreviousMonth = firstDay.getDay() - firstDayOfWeek;\n    if (daysFromPreviousMonth < 0) {\n      daysFromPreviousMonth = 7 + daysFromPreviousMonth;\n    }\n    if (daysFromPreviousMonth > 0) {\n      firstDay.setDate(1 - daysFromPreviousMonth);\n    }\n    return firstDay;\n  }\n  _getFirstDayOfWeek() {\n    const result = CalendarUtils.getWeekConfigurationValues(this.calendarWeekNumbering);\n    const localeData = getCachedLocaleDataInstance(getLocale());\n    return result?.firstDayOfWeek ? result.firstDayOfWeek : localeData.getFirstDayOfWeek();\n  }\n  get styles() {\n    return {\n      wrapper: {\n        display: this._hidden ? \"none\" : \"flex\",\n        \"justify-content\": \"center\"\n      },\n      main: {\n        width: \"100%\"\n      }\n    };\n  }\n  get ariaRoledescription() {\n    return this.hasSecondaryCalendarType ? `${this._primaryCalendarType} calendar with secondary ${this.secondaryCalendarType} calendar` : `${this._primaryCalendarType} calendar`;\n  }\n};\n__decorate([property({\n  type: Array\n})], DayPicker.prototype, \"selectedDates\", void 0);\n__decorate([property()], DayPicker.prototype, \"selectionMode\", void 0);\n__decorate([property({\n  type: Boolean\n})], DayPicker.prototype, \"hideWeekNumbers\", void 0);\n__decorate([property({\n  type: Array\n})], DayPicker.prototype, \"_weeks\", void 0);\n__decorate([property({\n  type: Array\n})], DayPicker.prototype, \"_dayNames\", void 0);\n__decorate([property({\n  type: Boolean,\n  noAttribute: true\n})], DayPicker.prototype, \"_hidden\", void 0);\n__decorate([property({\n  type: Number\n})], DayPicker.prototype, \"_secondTimestamp\", void 0);\n__decorate([property({\n  type: Array\n})], DayPicker.prototype, \"specialCalendarDates\", void 0);\nDayPicker = DayPicker_1 = __decorate([customElement({\n  tag: \"ui5-daypicker\",\n  styles: dayPickerCSS,\n  template: DayPickerTemplate\n})\n/**\n * Fired when the selected date(s) change\n */, event(\"change\")\n/**\n * Fired when the timestamp changes (user navigates with the keyboard) or clicks with the mouse\n */, event(\"navigate\")], DayPicker);\nDayPicker.define();\nexport default DayPicker;","map":{"version":3,"names":["customElement","property","event","getLocale","getCachedLocaleDataInstance","isSpace","isSpaceShift","isEnter","isEnterShift","isUp","isDown","isLeft","isRight","isHome","isEnd","isHomeCtrl","isEndCtrl","isPageUp","isPageDown","isPageUpShift","isPageUpAlt","isPageUpShiftCtrl","isPageDownShift","isPageDownAlt","isPageDownShiftCtrl","CalendarDate","CalendarType","UI5Date","CalendarUtils","DateFormat","CalendarSelectionMode","CalendarPart","DAY_PICKER_WEEK_NUMBER_TEXT","DAY_PICKER_NON_WORKING_DAY","DAY_PICKER_TODAY","DayPickerTemplate","dayPickerCSS","isBetween","x","num1","num2","Math","min","max","DAYS_IN_WEEK","DayPicker","DayPicker_1","constructor","selectedDates","selectionMode","hideWeekNumbers","_weeks","_dayNames","_hidden","specialCalendarDates","onBeforeRendering","localeData","_buildWeeks","_buildDayNames","firstDayOfWeek","_getFirstDayOfWeek","_specialCalendarDates","monthsNames","getMonths","_primaryCalendarType","secondaryMonthsNames","hasSecondaryCalendarType","secondaryCalendarType","nonWorkingDayLabel","i18nBundle","getText","todayLabel","tempDate","_getFirstDay","todayDate","fromLocalJSDate","getInstance","calendarDate","_calendarDate","minDate","_minDate","maxDate","_maxDate","tempSecondDate","_getSecondaryDay","undefined","week","i","timestamp","valueOf","dayOfTheWeek","getDay","specialCalendarDate","find","specialDate","specialDateTimestamp","specialDayType","type","isFocused","getMonth","getDate","isSelected","_isDaySelected","isSelectedBetween","_isDayInsideSelectionRange","isOtherMonth","isWeekend","_isWeekend","isDisabled","isToday","isSame","isFirstDayOfWeek","nonWorkingAriaLabel","todayAriaLabel","tempSecondDateNumber","tempSecondYearNumber","getYear","secondaryMonthsNamesString","length","ariaLabel","day","toString","focusRef","_tabIndex","selected","secondDay","_isSecondaryCalendarType","classes","ariaSelected","String","ariaDisabled","disabled","parts","push","weekNumber","_calculateWeekNumber","toLocalJSDate","unshift","weekNum","isHidden","shouldHideWeekNumbers","setDate","date","oDateFormat","getDateInstance","pattern","calendarType","primaryCalendarType","calendarWeekNumbering","format","Number","aDayNamesWide","getDays","aDayNamesAbbreviated","dayName","namesTooLong","name","ultraShortName","shift","dayNames","some","onAfterRendering","_autoFocus","focus","focusedDay","shadowRoot","querySelector","document","activeElement","_onfocusin","_onfocusout","Single","Multiple","includes","Range","_secondTimestamp","_selectDate","e","isShift","target","hasAttribute","parentNode","_isDayPressed","_getTimestampFromDom","_safelySetTimestamp","_updateSecondTimestamp","_updateSelectedDates","fireEvent","dates","_multipleSelection","_toggleTimestampInSelection","_selectWeek","forEach","_week","dayInThisWeek","findIndex","item","fromTimestamp","parseInt","notAllDaysOfThisWeekSelected","filter","_addTimestampToSelection","_removeTimestampFromSelection","value","start","end","toggle","distanceToMin","abs","distanceToMax","startDate","endDate","_onmouseover","hoveredItem","closest","_onkeydown","preventDefault","_modifyTimestampBy","_onHomeOrEnd","_setTimestamp","setMonth","_onkeyup","_onclick","shiftKey","homePressed","index","_hasPreviousPage","_hasNextPage","_showPreviousPage","_showNextPage","amount","unit","preserveDate","_safelyModifyTimestampBy","Gregorian","root","oDate","iWeekDay","iWeekendStart","getWeekendStart","iWeekendEnd","getWeekendEnd","targetParent","className","indexOf","classList","contains","daysFromPreviousMonth","firstDay","result","getWeekConfigurationValues","getFirstDayOfWeek","styles","wrapper","display","main","width","ariaRoledescription","__decorate","Array","Boolean","noAttribute","tag","template","define"],"sources":["/home/user/projects/reactproj/node_modules/@ui5/webcomponents/src/DayPicker.ts"],"sourcesContent":["import customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport event from \"@ui5/webcomponents-base/dist/decorators/event.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport type LocaleData from \"@ui5/webcomponents-localization/dist/LocaleData.js\";\nimport getCachedLocaleDataInstance from \"@ui5/webcomponents-localization/dist/getCachedLocaleDataInstance.js\";\nimport type I18nBundle from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport {\n\tisSpace,\n\tisSpaceShift,\n\tisEnter,\n\tisEnterShift,\n\tisUp,\n\tisDown,\n\tisLeft,\n\tisRight,\n\tisHome,\n\tisEnd,\n\tisHomeCtrl,\n\tisEndCtrl,\n\tisPageUp,\n\tisPageDown,\n\tisPageUpShift,\n\tisPageUpAlt,\n\tisPageUpShiftCtrl,\n\tisPageDownShift,\n\tisPageDownAlt,\n\tisPageDownShiftCtrl,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport CalendarType from \"@ui5/webcomponents-base/dist/types/CalendarType.js\";\nimport UI5Date from \"@ui5/webcomponents-localization/dist/dates/UI5Date.js\";\nimport CalendarUtils from \"@ui5/webcomponents-localization/dist/CalendarUtils.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport CalendarSelectionMode from \"./types/CalendarSelectionMode.js\";\nimport CalendarPart from \"./CalendarPart.js\";\nimport type {\n\tICalendarPicker,\n\tSpecialCalendarDateT,\n} from \"./Calendar.js\";\n\nimport {\n\tDAY_PICKER_WEEK_NUMBER_TEXT,\n\tDAY_PICKER_NON_WORKING_DAY,\n\tDAY_PICKER_TODAY,\n} from \"./generated/i18n/i18n-defaults.js\";\n\n// Template\nimport DayPickerTemplate from \"./generated/templates/DayPickerTemplate.lit.js\";\n\n// Styles\nimport dayPickerCSS from \"./generated/themes/DayPicker.css.js\";\n\nconst isBetween = (x: number, num1: number, num2: number) => x > Math.min(num1, num2) && x < Math.max(num1, num2);\nconst DAYS_IN_WEEK = 7;\n\ntype DayName = {\n\tname: string,\n\tclasses: string,\n\tultraShortName?: string,\n}\n\ntype Day = {\n\ttimestamp: string,\n\tday: number,\n\tfocusRef: boolean,\n\t_tabIndex: string,\n\tselected: boolean,\n\t_isSecondaryCalendarType: boolean,\n\tclasses: string,\n\tariaLabel: string,\n\tariaSelected: string,\n\tariaDisabled: string | undefined,\n\tdisabled: boolean,\n\tsecondDay?: number,\n\tweekNum?: number,\n\tisHidden?: boolean,\n\ttype?: string,\n\tparts: string,\n}\n\ntype WeekNumber = {\n\tweekNum: number,\n\tisHidden: boolean,\n}\n\ntype Week = Array<Day | WeekNumber>;\n\ntype DayPickerChangeEventDetail = {\n\tdates: Array<number>,\n\ttimestamp?: number,\n}\n\ntype DayPickerNavigateEventDetail = {\n\ttimestamp: number,\n}\n\n/**\n * @class\n *\n * Represents the days inside a single month view of the `ui5-calendar` component.\n * @constructor\n * @extends CalendarPart\n * @private\n */\n@customElement({\n\ttag: \"ui5-daypicker\",\n\tstyles: dayPickerCSS,\n\ttemplate: DayPickerTemplate,\n})\n/**\n * Fired when the selected date(s) change\n */\n@event(\"change\")\n/**\n * Fired when the timestamp changes (user navigates with the keyboard) or clicks with the mouse\n */\n@event(\"navigate\")\nclass DayPicker extends CalendarPart implements ICalendarPicker {\n\t/**\n\t * An array of UTC timestamps representing the selected date or dates depending on the capabilities of the picker component.\n\t * @default []\n\t */\n\t@property({ type: Array })\n\tselectedDates: Array<number> = [];\n\n\t/**\n\t * Defines the type of selection used in the day picker component.\n\t * Accepted property values are:\n\t *\n\t * - `CalendarSelectionMode.Single` - enables a single date selection.(default value)\n\t * - `CalendarSelectionMode.Range` - enables selection of a date range.\n\t * - `CalendarSelectionMode.Multiple` - enables selection of multiple dates.\n\t * @default \"Single\"\n\t */\n\t@property()\n\tselectionMode: `${CalendarSelectionMode}` = \"Single\";\n\n\t/**\n\t * Defines the visibility of the week numbers column.\n\t *\n\t * **Note:** For calendars other than Gregorian,\n\t * the week numbers are not displayed regardless of what is set.\n\t * @default false\n\t * @since 1.0.0-rc.8\n\t */\n\t@property({ type: Boolean })\n\thideWeekNumbers = false;\n\n\t/**\n\t * @private\n\t */\n\t@property({ type: Array })\n\t_weeks: Array<Week> = [];\n\n\t@property({ type: Array })\n\t_dayNames: Array<DayName> = [];\n\n\t/**\n\t * When set, the component will skip all work in onBeforeRendering and will not automatically set the focus on itself\n\t * @private\n\t */\n\t@property({ type: Boolean, noAttribute: true })\n\t_hidden = false;\n\n\t/**\n\t * When selectionMode=\"Range\" and the first day in the range is selected, this is the currently hovered (when using mouse) or focused (when using keyboard) day by the user\n\t * @private\n\t */\n\t @property({ type: Number })\n\t_secondTimestamp?: number;\n\n\t/**\n\t * Array of special calendar dates (if such are passed) from the calendar.\n\t * @private\n\t */\n\t@property({ type: Array })\n\tspecialCalendarDates: Array<SpecialCalendarDateT> = [];\n\n\t_autoFocus?: boolean;\n\n\tstatic i18nBundle: I18nBundle;\n\n\tonBeforeRendering() {\n\t\tconst localeData = getCachedLocaleDataInstance(getLocale());\n\t\tthis._buildWeeks(localeData);\n\t\tthis._buildDayNames(localeData);\n\t}\n\n\t/**\n\t * Builds the \"_weeks\" object that represents the month.\n\t * @param localeData\n\t * @private\n\t */\n\t_buildWeeks(localeData: LocaleData) {\n\t\tif (this._hidden) {\n\t\t\treturn; // Optimization to not do any work unless the current picker\n\t\t}\n\n\t\tthis._weeks = [];\n\n\t\tconst firstDayOfWeek = this._getFirstDayOfWeek();\n\t\tconst specialCalendarDates = this._specialCalendarDates;\n\t\tconst monthsNames = localeData.getMonths(\"wide\", this._primaryCalendarType) as Array<string>;\n\t\tconst secondaryMonthsNames = this.hasSecondaryCalendarType ? localeData.getMonths(\"wide\", this.secondaryCalendarType) as Array<string> : [];\n\t\tconst nonWorkingDayLabel = DayPicker.i18nBundle.getText(DAY_PICKER_NON_WORKING_DAY);\n\t\tconst todayLabel = DayPicker.i18nBundle.getText(DAY_PICKER_TODAY);\n\t\tconst tempDate = this._getFirstDay(); // date that will be changed by 1 day 42 times\n\t\tconst todayDate = CalendarDate.fromLocalJSDate(UI5Date.getInstance(), this._primaryCalendarType); // current day date - calculate once\n\t\tconst calendarDate = this._calendarDate; // store the _calendarDate value as this getter is expensive and degrades IE11 perf\n\t\tconst minDate = this._minDate; // store the _minDate (expensive getter)\n\t\tconst maxDate = this._maxDate; // store the _maxDate (expensive getter)\n\n\t\tconst tempSecondDate = this.hasSecondaryCalendarType ? this._getSecondaryDay(tempDate) : undefined;\n\n\t\tlet week: Week = [];\n\t\tfor (let i = 0; i < DAYS_IN_WEEK * 6; i++) { // always show 6 weeks total, 42 days to avoid jumping\n\t\t\tconst timestamp = tempDate.valueOf() / 1000; // no need to round because CalendarDate does it\n\n\t\t\tlet dayOfTheWeek = tempDate.getDay() - firstDayOfWeek;\n\t\t\tif (dayOfTheWeek < 0) {\n\t\t\t\tdayOfTheWeek += DAYS_IN_WEEK;\n\t\t\t}\n\n\t\t\tconst specialCalendarDate = specialCalendarDates.find(specialDate => specialDate.specialDateTimestamp === timestamp);\n\t\t\tconst specialDayType = specialCalendarDate ? specialCalendarDate.type : \"\";\n\n\t\t\tconst isFocused = tempDate.getMonth() === calendarDate.getMonth() && tempDate.getDate() === calendarDate.getDate();\n\t\t\tconst isSelected = this._isDaySelected(timestamp);\n\t\t\tconst isSelectedBetween = this._isDayInsideSelectionRange(timestamp);\n\t\t\tconst isOtherMonth = tempDate.getMonth() !== calendarDate.getMonth();\n\t\t\tconst isWeekend = this._isWeekend(tempDate);\n\t\t\tconst isDisabled = tempDate.valueOf() < minDate.valueOf() || tempDate.valueOf() > maxDate.valueOf();\n\t\t\tconst isToday = tempDate.isSame(todayDate);\n\t\t\tconst isFirstDayOfWeek = tempDate.getDay() === firstDayOfWeek;\n\n\t\t\tconst nonWorkingAriaLabel = isWeekend ? `${nonWorkingDayLabel} ` : \"\";\n\t\t\tconst todayAriaLabel = isToday ? `${todayLabel} ` : \"\";\n\n\t\t\tconst tempSecondDateNumber = tempSecondDate ? tempSecondDate.getDate() : \"\";\n\t\t\tconst tempSecondYearNumber = tempSecondDate ? tempSecondDate.getYear() : \"\";\n\t\t\tconst secondaryMonthsNamesString = secondaryMonthsNames.length > 0 ? secondaryMonthsNames[tempSecondDate!.getMonth()] : \"\";\n\n\t\t\tconst ariaLabel = this.hasSecondaryCalendarType\n\t\t\t\t? `${todayAriaLabel}${nonWorkingAriaLabel}${monthsNames[tempDate.getMonth()]} ${tempDate.getDate()}, ${tempDate.getYear()}; ${secondaryMonthsNamesString} ${tempSecondDateNumber}, ${tempSecondYearNumber}`\n\t\t\t\t: `${todayAriaLabel}${nonWorkingAriaLabel}${monthsNames[tempDate.getMonth()]} ${tempDate.getDate()}, ${tempDate.getYear()}`;\n\n\t\t\tconst day: Day = {\n\t\t\t\ttimestamp: timestamp.toString(),\n\t\t\t\tfocusRef: isFocused,\n\t\t\t\t_tabIndex: isFocused ? \"0\" : \"-1\",\n\t\t\t\tselected: isSelected || isSelectedBetween,\n\t\t\t\tday: tempDate.getDate(),\n\t\t\t\tsecondDay: this.hasSecondaryCalendarType ? (tempSecondDate as CalendarDate).getDate() : undefined,\n\t\t\t\t_isSecondaryCalendarType: this.hasSecondaryCalendarType,\n\t\t\t\tclasses: `ui5-dp-item ui5-dp-wday${dayOfTheWeek}`,\n\t\t\t\tariaLabel,\n\t\t\t\tariaSelected: String(isSelected || isSelectedBetween),\n\t\t\t\tariaDisabled: isDisabled || isOtherMonth ? \"true\" : undefined,\n\t\t\t\tdisabled: isDisabled,\n\t\t\t\ttype: specialDayType,\n\t\t\t\tparts: \"day-cell\",\n\t\t\t};\n\n\t\t\tif (isFirstDayOfWeek) {\n\t\t\t\tday.classes += \" ui5-dp-firstday\";\n\t\t\t}\n\n\t\t\tif (isSelected) {\n\t\t\t\tday.classes += \" ui5-dp-item--selected\";\n\t\t\t\tday.parts += \" day-cell-selected\";\n\t\t\t}\n\n\t\t\tif (isSelectedBetween) {\n\t\t\t\tday.classes += \" ui5-dp-item--selected-between\";\n\t\t\t\tday.parts += \" day-cell-selected-between\";\n\t\t\t}\n\n\t\t\tif (isToday) {\n\t\t\t\tday.classes += \" ui5-dp-item--now\";\n\t\t\t}\n\n\t\t\tif (isOtherMonth) {\n\t\t\t\tday.classes += \" ui5-dp-item--othermonth\";\n\t\t\t}\n\n\t\t\tif ((isWeekend || specialDayType === \"NonWorking\") && specialDayType !== \"Working\") {\n\t\t\t\tday.classes += \" ui5-dp-item--weekend\";\n\t\t\t}\n\n\t\t\tif (isDisabled) {\n\t\t\t\tday.classes += \" ui5-dp-item--disabled\";\n\t\t\t}\n\n\t\t\tif (this.hasSecondaryCalendarType) {\n\t\t\t\tday.classes += \" ui5-dp-item--withsecondtype\";\n\t\t\t}\n\n\t\t\tweek.push(day);\n\n\t\t\tif (dayOfTheWeek === DAYS_IN_WEEK - 1) { // 0-indexed so 6 is the last day of the week\n\t\t\t\tconst weekNumber = this._calculateWeekNumber(tempDate.toLocalJSDate());\n\n\t\t\t\tweek.unshift({\n\t\t\t\t\tweekNum: weekNumber,\n\t\t\t\t\tisHidden: this.shouldHideWeekNumbers,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (week.length === DAYS_IN_WEEK + 1) { // 7 entries for each day + 1 for the week numbers\n\t\t\t\tthis._weeks.push(week);\n\t\t\t\tweek = [];\n\t\t\t}\n\n\t\t\ttempDate.setDate(tempDate.getDate() + 1);\n\t\t\tif (this.hasSecondaryCalendarType && tempSecondDate) {\n\t\t\t\ttempSecondDate.setDate(tempSecondDate.getDate() + 1);\n\t\t\t}\n\t\t}\n\t}\n\n\t_calculateWeekNumber(date: Date): number {\n\t\tconst oDateFormat = DateFormat.getDateInstance({ pattern: \"w\", calendarType: this.primaryCalendarType, calendarWeekNumbering: this.calendarWeekNumbering });\n\t\tconst weekNumber = oDateFormat.format(date);\n\n\t\treturn Number(weekNumber);\n\t}\n\n\t/**\n\t * Builds the dayNames object (header of the month).\n\t * @param localeData\n\t * @private\n\t */\n\t_buildDayNames(localeData: LocaleData) {\n\t\tif (this._hidden) {\n\t\t\treturn; // Optimization to not do any work unless the current picker\n\t\t}\n\n\t\tlet dayOfTheWeek;\n\n\t\tconst aDayNamesWide = localeData.getDays(\"wide\", this._primaryCalendarType) as Array<string>;\n\t\tlet aDayNamesAbbreviated = localeData.getDays(\"abbreviated\", this._primaryCalendarType) as Array<string>;\n\t\tlet dayName;\n\n\t\tif (this.namesTooLong(aDayNamesAbbreviated)) {\n\t\t\taDayNamesAbbreviated = localeData.getDays(\"narrow\", this._primaryCalendarType) as Array<string>;\n\t\t}\n\n\t\tthis._dayNames = [];\n\t\tthis._dayNames.push({\n\t\t\tclasses: \"ui5-dp-dayname\",\n\t\t\tname: DayPicker.i18nBundle.getText(DAY_PICKER_WEEK_NUMBER_TEXT),\n\t\t});\n\t\tfor (let i = 0; i < DAYS_IN_WEEK; i++) {\n\t\t\tdayOfTheWeek = i + this._getFirstDayOfWeek();\n\t\t\tif (dayOfTheWeek > DAYS_IN_WEEK - 1) { // 0-indexed so index of 6 is the maximum allowed\n\t\t\t\tdayOfTheWeek -= DAYS_IN_WEEK;\n\t\t\t}\n\t\t\tdayName = {\n\t\t\t\tname: aDayNamesWide[dayOfTheWeek],\n\t\t\t\tultraShortName: aDayNamesAbbreviated[dayOfTheWeek],\n\t\t\t\tclasses: \"ui5-dp-dayname\",\n\t\t\t};\n\t\t\tthis._dayNames.push(dayName);\n\t\t}\n\t\tthis._dayNames[1].classes += \" ui5-dp-firstday\";\n\t\tif (this.shouldHideWeekNumbers) {\n\t\t\tthis._dayNames.shift();\n\t\t}\n\t}\n\n\t/**\n\t * Tells if any of the days is more than 4 characters(too long to render).\n\t * @param dayNames\n\t * @private\n\t */\n\tnamesTooLong(dayNames: Array<string>): boolean {\n\t\treturn dayNames.some(dayName => dayName.length > 4);\n\t}\n\n\tonAfterRendering() {\n\t\tif (this._autoFocus && !this._hidden) {\n\t\t\tthis.focus();\n\t\t}\n\n\t\tconst focusedDay = this.shadowRoot!.querySelector<HTMLElement>(\"[data-sap-focus-ref]\");\n\n\t\tif (focusedDay && document.activeElement !== focusedDay && this._specialCalendarDates.length === 0) {\n\t\t\tfocusedDay.focus();\n\t\t}\n\t}\n\n\t_onfocusin() {\n\t\tthis._autoFocus = true;\n\t}\n\n\t_onfocusout() {\n\t\tthis._autoFocus = false;\n\t}\n\n\t/**\n\t * Tells if the day is selected (dark blue).\n\t * @param timestamp\n\t * @private\n\t */\n\t_isDaySelected(timestamp: number): boolean {\n\t\tif (this.selectionMode === CalendarSelectionMode.Single) {\n\t\t\treturn timestamp === this.selectedDates[0];\n\t\t}\n\n\t\tif (this.selectionMode === CalendarSelectionMode.Multiple) {\n\t\t\treturn this.selectedDates.includes(timestamp);\n\t\t}\n\n\t\treturn timestamp === this.selectedDates[0] || timestamp === this.selectedDates[this.selectedDates.length - 1];\n\t}\n\n\t/**\n\t * Tells if the day is inside a selection range (light blue).\n\t * @param timestamp\n\t * @private\n\t */\n\t_isDayInsideSelectionRange(timestamp: number): boolean {\n\t\t// No selection at all (or not in range selection mode)\n\t\tif (this.selectionMode !== CalendarSelectionMode.Range || !this.selectedDates.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Only one date selected - the user is hovering with the mouse or navigating with the keyboard to select the second one\n\t\tif (this.selectedDates.length === 1 && this._secondTimestamp) {\n\t\t\treturn isBetween(timestamp, this.selectedDates[0], this._secondTimestamp);\n\t\t}\n\n\t\t// Two dates selected - stable range\n\t\treturn isBetween(timestamp, this.selectedDates[0], this.selectedDates[this.selectedDates.length - 1]);\n\t}\n\n\t/**\n\t * Selects/deselects a day.\n\t * @param e\n\t * @param isShift true if the user did Click+Shift or Enter+Shift (but not Space+Shift)\n\t * @private\n\t */\n\t_selectDate(e: Event, isShift: boolean) {\n\t\tlet target = e.target as HTMLElement;\n\n\t\tif (!target.hasAttribute(\"data-sap-timestamp\")) {\n\t\t\ttarget = target.parentNode as HTMLElement;\n\t\t}\n\n\t\tif (!this._isDayPressed(target)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst timestamp = this._getTimestampFromDom(target);\n\n\t\tthis._safelySetTimestamp(timestamp);\n\t\tthis._updateSecondTimestamp();\n\t\tthis._updateSelectedDates(timestamp, isShift);\n\n\t\tthis.fireEvent<DayPickerChangeEventDetail>(\"change\", {\n\t\t\ttimestamp: this.timestamp,\n\t\t\tdates: this.selectedDates,\n\t\t});\n\t}\n\n\t_updateSelectedDates(timestamp: number, isShift: boolean) {\n\t\tif (this.selectionMode === CalendarSelectionMode.Multiple) {\n\t\t\tif (this.selectedDates.length > 0 && isShift) {\n\t\t\t\tthis._multipleSelection(timestamp);\n\t\t\t} else {\n\t\t\t\tthis._toggleTimestampInSelection(timestamp);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.selectionMode === CalendarSelectionMode.Range && this.selectedDates.length === 1) {\n\t\t\tthis.selectedDates = [this.selectedDates[0], timestamp];\n\t\t\treturn;\n\t\t}\n\n\t\tthis.selectedDates = [timestamp];\n\t}\n\n\t/**\n\t * Selects/deselects the whole row (week).\n\t * @private\n\t */\n\t_selectWeek() {\n\t\tthis._weeks.forEach((week: Week) => {\n\t\t\tconst _week = week as Array<Day>;\n\t\t\tconst dayInThisWeek = _week.findIndex((item: Day) => {\n\t\t\t\tconst date = CalendarDate.fromTimestamp(parseInt(item.timestamp) * 1000);\n\t\t\t\treturn date.getMonth() === this._calendarDate.getMonth() && date.getDate() === this._calendarDate.getDate();\n\t\t\t}) !== -1;\n\t\t\tif (dayInThisWeek) { // The current day is in this week\n\t\t\t\tconst notAllDaysOfThisWeekSelected = _week.some(item => item.timestamp && !this.selectedDates.includes(parseInt(item.timestamp)));\n\t\t\t\tif (notAllDaysOfThisWeekSelected) { // even if one day is not selected, select the whole week\n\t\t\t\t\t_week.filter(item => item.timestamp).forEach(item => {\n\t\t\t\t\t\tthis._addTimestampToSelection(parseInt(item.timestamp));\n\t\t\t\t\t});\n\t\t\t\t} else { // only if all days of this week are selected, deselect them\n\t\t\t\t\t_week.filter(item => item.timestamp).forEach(item => {\n\t\t\t\t\t\tthis._removeTimestampFromSelection(parseInt(item.timestamp));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.fireEvent<DayPickerChangeEventDetail>(\"change\", {\n\t\t\ttimestamp: this.timestamp,\n\t\t\tdates: this.selectedDates,\n\t\t});\n\t}\n\n\t_toggleTimestampInSelection(timestamp: number) {\n\t\tif (this.selectedDates.includes(timestamp)) {\n\t\t\tthis._removeTimestampFromSelection(timestamp);\n\t\t} else {\n\t\t\tthis._addTimestampToSelection(timestamp);\n\t\t}\n\t}\n\n\t_addTimestampToSelection(timestamp: number) {\n\t\tif (!this.selectedDates.includes(timestamp)) {\n\t\t\tthis.selectedDates = [...this.selectedDates, timestamp];\n\t\t}\n\t}\n\n\t_removeTimestampFromSelection(timestamp: number) {\n\t\tthis.selectedDates = this.selectedDates.filter(value => value !== timestamp);\n\t}\n\n\t/**\n\t * Called when at least one day is selected and the user presses \"Shift\".\n\t * @param timestamp\n\t * @private\n\t */\n\t_multipleSelection(timestamp: number) {\n\t\tconst min = Math.min(...this.selectedDates);\n\t\tconst max = Math.max(...this.selectedDates);\n\t\tlet start;\n\t\tlet end;\n\t\tlet toggle = false;\n\n\t\tif (timestamp < min) {\n\t\t\tstart = timestamp;\n\t\t\tend = min;\n\t\t} else if (timestamp >= min && timestamp <= max) { // inside the current range - toggle all between the selected and focused\n\t\t\tconst distanceToMin = Math.abs(timestamp - min);\n\t\t\tconst distanceToMax = Math.abs(timestamp - max);\n\n\t\t\tif (distanceToMin < distanceToMax) {\n\t\t\t\tstart = timestamp;\n\t\t\t\tend = max;\n\t\t\t} else {\n\t\t\t\tstart = min;\n\t\t\t\tend = timestamp;\n\t\t\t}\n\t\t\ttoggle = true;\n\t\t} else {\n\t\t\tstart = max;\n\t\t\tend = timestamp;\n\t\t}\n\n\t\tconst startDate = CalendarDate.fromTimestamp(start * 1000);\n\t\tconst endDate = CalendarDate.fromTimestamp(end * 1000);\n\n\t\twhile (startDate.valueOf() <= endDate.valueOf()) {\n\t\t\tthis[toggle ? \"_toggleTimestampInSelection\" : \"_addTimestampToSelection\"](startDate.valueOf() / 1000);\n\t\t\tstartDate.setDate(startDate.getDate() + 1);\n\t\t}\n\t}\n\n\t/**\n\t * Set the hovered day as the \"_secondTimestamp\".\n\t * @param e\n\t * @private\n\t */\n\t_onmouseover(e: MouseEvent) {\n\t\tconst target = e.target as HTMLElement;\n\t\tconst hoveredItem = target.closest(\".ui5-dp-item\") as HTMLElement;\n\t\tif (hoveredItem && this.selectionMode === CalendarSelectionMode.Range && this.selectedDates.length === 1) {\n\t\t\tthis._secondTimestamp = this._getTimestampFromDom(hoveredItem);\n\t\t}\n\t}\n\n\t_onkeydown(e: KeyboardEvent) {\n\t\tlet preventDefault = true;\n\n\t\tif (isEnter(e) || isEnterShift(e)) {\n\t\t\tthis._selectDate(e, isEnterShift(e));\n\t\t} else if (isSpace(e) || isSpaceShift(e)) {\n\t\t\te.preventDefault();\n\t\t} else if (isLeft(e)) {\n\t\t\tthis._modifyTimestampBy(-1, \"day\", false);\n\t\t} else if (isRight(e)) {\n\t\t\tthis._modifyTimestampBy(1, \"day\", false);\n\t\t} else if (isUp(e)) {\n\t\t\tthis._modifyTimestampBy(-7, \"day\", false);\n\t\t} else if (isDown(e)) {\n\t\t\tthis._modifyTimestampBy(7, \"day\", false);\n\t\t} else if (isPageUp(e)) {\n\t\t\tthis._modifyTimestampBy(-1, \"month\");\n\t\t} else if (isPageDown(e)) {\n\t\t\tthis._modifyTimestampBy(1, \"month\");\n\t\t} else if (isPageUpShift(e) || isPageUpAlt(e)) {\n\t\t\tthis._modifyTimestampBy(-1, \"year\");\n\t\t} else if (isPageDownShift(e) || isPageDownAlt(e)) {\n\t\t\tthis._modifyTimestampBy(1, \"year\");\n\t\t} else if (isPageUpShiftCtrl(e)) {\n\t\t\tthis._modifyTimestampBy(-10, \"year\");\n\t\t} else if (isPageDownShiftCtrl(e)) {\n\t\t\tthis._modifyTimestampBy(10, \"year\");\n\t\t} else if (isHome(e) || isEnd(e)) {\n\t\t\tthis._onHomeOrEnd(isHome(e));\n\t\t} else if (isHomeCtrl(e)) {\n\t\t\tconst tempDate = new CalendarDate(this._calendarDate, this._primaryCalendarType);\n\t\t\ttempDate.setDate(1); // Set the first day of the month\n\t\t\tthis._setTimestamp(tempDate.valueOf() / 1000);\n\t\t} else if (isEndCtrl(e)) {\n\t\t\tconst tempDate = new CalendarDate(this._calendarDate, this._primaryCalendarType);\n\t\t\ttempDate.setMonth(tempDate.getMonth() + 1);\n\t\t\ttempDate.setDate(0); // Set the last day of the month (0th day of next month)\n\t\t\tthis._setTimestamp(tempDate.valueOf() / 1000);\n\t\t} else {\n\t\t\tpreventDefault = false;\n\t\t}\n\n\t\tif (preventDefault) {\n\t\t\te.preventDefault();\n\t\t}\n\t}\n\n\t_onkeyup(e: KeyboardEvent) {\n\t\t// Even if Space+Shift was pressed, ignore the shift unless in Multiple selection\n\t\tif (isSpace(e) || (isSpaceShift(e) && this.selectionMode !== CalendarSelectionMode.Multiple)) {\n\t\t\tthis._selectDate(e, false);\n\t\t} else if (isSpaceShift(e)) {\n\t\t\tthis._selectWeek();\n\t\t}\n\t}\n\n\t/**\n\t * Click is the same as \"Enter\".\n\t * **Note:** \"Click+Shift\" has the same effect as \"Enter+Shift\".\n\t * @param e\n\t * @private\n\t */\n\t_onclick(e: MouseEvent) {\n\t\tthis._selectDate(e, e.shiftKey);\n\t}\n\n\t/**\n\t * Called upon \"Home\" or \"End\" - moves the focus to the first or last item in the row.\n\t * @param homePressed\n\t * @private\n\t */\n\t_onHomeOrEnd(homePressed: boolean) {\n\t\tthis._weeks.forEach(week => {\n\t\t\tconst _week = week as Array<Day>;\n\t\t\tconst dayInThisWeek = _week.findIndex(item => {\n\t\t\t\tconst date = CalendarDate.fromTimestamp(parseInt(item.timestamp) * 1000);\n\t\t\t\treturn date.getMonth() === this._calendarDate.getMonth() && date.getDate() === this._calendarDate.getDate();\n\t\t\t}) !== -1;\n\t\t\tif (dayInThisWeek) { // The current day is in this week\n\t\t\t\tconst index = homePressed ? 1 : 7; // select the first (if Home) or last (if End) day of the week\n\t\t\t\tthis._setTimestamp(parseInt(_week[index].timestamp));\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Called by the Calendar component.\n\t * @protected\n\t */\n\t_hasPreviousPage(): boolean {\n\t\treturn !(this._calendarDate.getMonth() === this._minDate.getMonth() && this._calendarDate.getYear() === this._minDate.getYear());\n\t}\n\n\t/**\n\t * Called by the Calendar component.\n\t * @protected\n\t */\n\t_hasNextPage(): boolean {\n\t\treturn !(this._calendarDate.getMonth() === this._maxDate.getMonth() && this._calendarDate.getYear() === this._maxDate.getYear());\n\t}\n\n\t/**\n\t * Called by the Calendar component.\n\t * @protected\n\t */\n\t_showPreviousPage() {\n\t\tthis._modifyTimestampBy(-1, \"month\", false);\n\t}\n\n\t/**\n\t * Called by the Calendar component.\n\t * @protected\n\t */\n\t_showNextPage() {\n\t\tthis._modifyTimestampBy(1, \"month\", false);\n\t}\n\n\t/**\n\t * Modifies the timestamp by a certain amount of days/months/years.\n\t * @param amount\n\t * @param unit\n\t * @param preserveDate whether to preserve the day of the month (f.e. 15th of March + 1 month = 15th of April)\n\t * @private\n\t */\n\t_modifyTimestampBy(amount: number, unit: string, preserveDate?: boolean) {\n\t\t// Modify the current timestamp\n\t\tthis._safelyModifyTimestampBy(amount, unit, preserveDate);\n\t\tthis._updateSecondTimestamp();\n\n\t\t// Notify the calendar to update its timestamp\n\t\tthis.fireEvent<DayPickerNavigateEventDetail>(\"navigate\", { timestamp: this.timestamp! });\n\t}\n\n\t/**\n\t * Sets the timestamp to an absolute value.\n\t * @param value\n\t * @private\n\t */\n\t_setTimestamp(value: number) {\n\t\tthis._safelySetTimestamp(value);\n\t\tthis._updateSecondTimestamp();\n\t\tthis.fireEvent<DayPickerNavigateEventDetail>(\"navigate\", { timestamp: this.timestamp! });\n\t}\n\n\t/**\n\t * During range selection, when the user is navigating with the keyboard,\n\t * the currently focused day is considered the \"second day\".\n\t * @private\n\t */\n\t_updateSecondTimestamp() {\n\t\tif (this.selectionMode === CalendarSelectionMode.Range && (this.selectedDates.length === 1 || this.selectedDates.length === 2)) {\n\t\t\tthis._secondTimestamp = this.timestamp;\n\t\t}\n\t}\n\n\tget _specialCalendarDates() {\n\t\treturn this.specialCalendarDates;\n\t}\n\n\tget shouldHideWeekNumbers() {\n\t\tif (this._primaryCalendarType !== CalendarType.Gregorian) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.hideWeekNumbers;\n\t}\n\n\tget classes() {\n\t\treturn {\n\t\t\troot: {\n\t\t\t\t\"ui5-dp-root\": true,\n\t\t\t\t\"ui5-dp-twocalendartypes\": this.hasSecondaryCalendarType,\n\t\t\t},\n\t\t};\n\t}\n\n\t_isWeekend(oDate: CalendarDate): boolean {\n\t\tconst localeData = getCachedLocaleDataInstance(getLocale());\n\n\t\tconst iWeekDay = oDate.getDay(),\n\t\t\tiWeekendStart = localeData.getWeekendStart(),\n\t\t\tiWeekendEnd = localeData.getWeekendEnd();\n\n\t\treturn (iWeekDay >= iWeekendStart && iWeekDay <= iWeekendEnd)\n\t\t\t|| (iWeekendEnd < iWeekendStart && (iWeekDay >= iWeekendStart || iWeekDay <= iWeekendEnd));\n\t}\n\n\t_isDayPressed(target: HTMLElement): boolean {\n\t\tconst targetParent = target.parentNode as HTMLElement;\n\t\treturn (target.className.indexOf(\"ui5-dp-item\") > -1) || (targetParent && targetParent.classList && targetParent.classList.contains(\"ui5-dp-item\"));\n\t}\n\n\t_getSecondaryDay(tempDate: CalendarDate): CalendarDate {\n\t\treturn new CalendarDate(tempDate, this.secondaryCalendarType);\n\t}\n\n\t_getFirstDay(): CalendarDate {\n\t\tlet daysFromPreviousMonth;\n\n\t\tconst firstDayOfWeek = this._getFirstDayOfWeek();\n\n\t\t// determine weekday of first day in month\n\t\tconst firstDay = new CalendarDate(this._calendarDate, this._primaryCalendarType);\n\t\tfirstDay.setDate(1);\n\n\t\tdaysFromPreviousMonth = firstDay.getDay() - firstDayOfWeek;\n\n\t\tif (daysFromPreviousMonth < 0) {\n\t\t\tdaysFromPreviousMonth = 7 + daysFromPreviousMonth;\n\t\t}\n\n\t\tif (daysFromPreviousMonth > 0) {\n\t\t\tfirstDay.setDate(1 - daysFromPreviousMonth);\n\t\t}\n\n\t\treturn firstDay;\n\t}\n\n\t_getFirstDayOfWeek(): number {\n\t\tconst result = CalendarUtils.getWeekConfigurationValues(this.calendarWeekNumbering);\n\n\t\tconst localeData = getCachedLocaleDataInstance(getLocale());\n\t\treturn result?.firstDayOfWeek ? result.firstDayOfWeek : localeData.getFirstDayOfWeek();\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\twrapper: {\n\t\t\t\tdisplay: this._hidden ? \"none\" : \"flex\",\n\t\t\t\t\"justify-content\": \"center\",\n\t\t\t},\n\t\t\tmain: {\n\t\t\t\twidth: \"100%\",\n\t\t\t},\n\t\t};\n\t}\n\n\tget ariaRoledescription() {\n\t\treturn this.hasSecondaryCalendarType\n\t\t\t? `${this._primaryCalendarType} calendar with secondary ${this.secondaryCalendarType as string} calendar`\n\t\t\t: `${this._primaryCalendarType} calendar`;\n\t}\n}\n\nDayPicker.define();\n\nexport default DayPicker;\nexport type {\n\tDayPickerNavigateEventDetail,\n\tDayPickerChangeEventDetail,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}